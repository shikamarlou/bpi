!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"==typeof window?this:window,function(ee,a){var je=String.fromCharCode,ze=Math.max;function m(e){var t=!!e&&"length"in e&&e.length,a=Ye.type(e);return!("function"===a||Ye.isWindow(e))&&("array"===a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function s(e,t,n){if(Ye.isFunction(t))return Ye.grep(e,function(e,a){return!!t.call(e,a,e)!==n});if(t.nodeType)return Ye.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(h.test(t))return Ye.filter(t,e,n);t=Ye.filter(t,e)}return Ye.grep(e,function(e){return-1<Ye.inArray(e,t)!==n})}function b(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function F(e){var t={};return Ye.each(e.match(E)||[],function(e,a){t[a]=!0}),t}function H(){Ve.addEventListener?(Ve.removeEventListener("DOMContentLoaded",z),ee.removeEventListener("load",z)):(Ve.detachEvent("onreadystatechange",z),ee.detachEvent("onload",z))}function z(){(Ve.addEventListener||"load"===ee.event.type||"complete"===Ve.readyState)&&(H(),Ye.ready())}function K(e,t,a){if(void 0===a&&1===e.nodeType){var n="data-"+t.replace(N,"-$1").toLowerCase();if(a=e.getAttribute(n),"string"==typeof a){try{a=!("true"!==a)||"false"!==a&&("null"===a?null:+a+""===a?+a:M.test(a)?Ye.parseJSON(a):a)}catch(t){}Ye.data(e,t,a)}else a=void 0}return a}function P(e){for(var t in e)if(("data"!==t||!Ye.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function J(t,a,n,r){if(B(t)){var e=Ye.expando,o=t.nodeType,i=o?Ye.cache:t,d=o?t[e]:t[e]&&e,l,s;if(d&&i[d]&&(r||i[d].data)||void 0!==n||"string"!=typeof a)return d||(d=o?t[e]=Xe.pop()||Ye.guid++:e),i[d]||(i[d]=o?{}:{toJSON:Ye.noop}),"object"!=typeof a&&"function"!=typeof a||(r?i[d]=Ye.extend(i[d],a):i[d].data=Ye.extend(i[d].data,a)),s=i[d],r||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[Ye.camelCase(a)]=n),"string"==typeof a?(l=s[a],null==l&&(l=s[Ye.camelCase(a)])):l=s,l}}function R(t,a,n){if(B(t)){var r=t.nodeType,o=r?Ye.cache:t,i=r?t[Ye.expando]:Ye.expando,l,s;if(o[i]){if(a&&(l=n?o[i]:o[i].data)){for(Ye.isArray(a)?a=a.concat(Ye.map(a,Ye.camelCase)):(a in l)?a=[a]:(a=Ye.camelCase(a),a=(a in l)?[a]:a.split(" ")),s=a.length;s--;)delete l[a[s]];if(n?!P(l):!Ye.isEmptyObject(l))return}(n||(delete o[i].data,P(o[i])))&&(r?Ye.cleanData([t],!0):Je.deleteExpando||o!=o.window?delete o[i]:o[i]=void 0)}}}function S(t,a,n,r){var o=1,d=20,l=r?function(){return r.cur()}:function(){return Ye.css(t,a,"")},s=l(),i=n&&n[3]||(Ye.cssNumber[a]?"":"px"),p=(Ye.cssNumber[a]||"px"!==i&&+s)&&T.exec(Ye.css(t,a)),m;if(p&&p[3]!==i){i=i||p[3],n=n||[],p=+s||1;do o=o||".5",p/=o,Ye.style(t,a,p+i);while(o!==(o=l()/s)&&1!==o&&--d)}return n&&(p=+p||+s||0,m=n[1]?p+(n[1]+1)*n[2]:+n[2],r&&(r.unit=i,r.start=p,r.end=m)),m}function X(e){var t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video".split("|"),a=e.createDocumentFragment();if(a.createElement)for(;t.length;)a.createElement(t.pop());return a}function Q(t,a){var n=0,r="undefined"==typeof t.getElementsByTagName?"undefined"==typeof t.querySelectorAll?void 0:t.querySelectorAll(a||"*"):t.getElementsByTagName(a||"*"),o,i;if(!r)for(r=[],o=t.childNodes||t;null!=(i=o[n]);n++)!a||Ye.nodeName(i,a)?r.push(i):Ye.merge(r,Q(i,a));return void 0===a||a&&Ye.nodeName(t,a)?Ye.merge([t],r):r}function te(e,t){for(var a=0,n;null!=(n=e[a]);a++)Ye._data(n,"globalEval",!t||Ye._data(t[a],"globalEval"))}function ae(e){V.test(e.type)&&(e.defaultChecked=e.checked)}function ne(t,a,n,l,d){for(var e=t.length,o=X(a),s=[],p=0,c,u,y,b,v,x,N;e>p;p++)if(u=t[p],u||0===u)if("object"===Ye.type(u))Ye.merge(s,u.nodeType?[u]:u);else if(Y.test(u)){for(b=b||o.appendChild(a.createElement("div")),v=(W.exec(u)||["",""])[1].toLowerCase(),N=G[v]||G._default,b.innerHTML=N[1]+Ye.htmlPrefilter(u)+N[2],c=N[0];c--;)b=b.lastChild;if(!Je.leadingWhitespace&&_.test(u)&&s.push(a.createTextNode(_.exec(u)[0])),!Je.tbody)for(u="table"!==v||Z.test(u)?"<table>"!==N[1]||Z.test(u)?0:b:b.firstChild,c=u&&u.childNodes.length;c--;)Ye.nodeName(x=u.childNodes[c],"tbody")&&!x.childNodes.length&&u.removeChild(x);for(Ye.merge(s,b.childNodes),b.textContent="";b.firstChild;)b.removeChild(b.firstChild);b=o.lastChild}else s.push(a.createTextNode(u));for(b&&o.removeChild(b),Je.appendChecked||Ye.grep(Q(s,"input"),ae),p=0;u=s[p++];)if(l&&-1<Ye.inArray(u,l))d&&d.push(u);else if(y=Ye.contains(u.ownerDocument,u),b=Q(o.appendChild(u),"script"),y&&te(b),n)for(c=0;u=b[c++];)q.test(u.type||"")&&n.push(u);return b=null,o}function re(){return!0}function oe(){return!1}function ie(){try{return Ve.activeElement}catch(e){}}function de(t,a,n,r,o,i){var l,s;if("object"==typeof a){for(s in"string"!=typeof n&&(r=r||n,n=void 0),a)de(t,s,n,r,a[s],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=oe;else if(!o)return t;return 1===i&&(l=o,o=function(e){return Ye().off(e),l.apply(this,arguments)},o.guid=l.guid||(l.guid=Ye.guid++)),t.each(function(){Ye.event.add(this,a,o,r,n)})}function le(e,t){return Ye.nodeName(e,"table")&&Ye.nodeName(11===t.nodeType?t.firstChild:t,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function se(e){return e.type=(null!==Ye.find.attr(e,"type"))+"/"+e.type,e}function pe(e){var t=lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ce(t,a){if(1===a.nodeType&&Ye.hasData(t)){var n=Ye._data(t),r=Ye._data(a,n),o=n.events,i,l,s;if(o)for(i in delete r.handle,r.events={},o)for(l=0,s=o[i].length;s>l;l++)Ye.event.add(a,i,o[i][l]);r.data&&(r.data=Ye.extend({},r.data))}}function me(t,a){var n,r,o;if(1===a.nodeType){if(n=a.nodeName.toLowerCase(),!Je.noCloneEvent&&a[Ye.expando]){for(r in o=Ye._data(a),o.events)Ye.removeEvent(a,r,o.handle);a.removeAttribute(Ye.expando)}"script"===n&&a.text!==t.text?(se(a).text=t.text,pe(a)):"object"===n?(a.parentNode&&(a.outerHTML=t.outerHTML),Je.html5Clone&&t.innerHTML&&!Ye.trim(a.innerHTML)&&(a.innerHTML=t.innerHTML)):"input"===n&&V.test(t.type)?(a.defaultChecked=a.checked=t.checked,a.value!==t.value&&(a.value=t.value)):"option"===n?a.defaultSelected=a.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(a.defaultValue=t.defaultValue)}}function ue(t,a,n,l){a=qe.apply([],a);var d=0,s=t.length,o=a[0],p=Ye.isFunction(o),r,c,u,f,y,v;if(p||1<s&&"string"==typeof o&&!Je.checkClone&&dt.test(o))return t.each(function(r){var e=t.eq(r);p&&(a[0]=o.call(this,r,e.html())),ue(e,a,n,l)});if(s&&(v=ne(a,t[0].ownerDocument,!1,t,l),r=v.firstChild,1===v.childNodes.length&&(v=r),r||l)){for(f=Ye.map(Q(v,"script"),se),u=f.length;s>d;d++)c=v,d!=s-1&&(c=Ye.clone(c,!0,!0),u&&Ye.merge(f,Q(c,"script"))),n.call(t[d],c,d);if(u)for(y=f[f.length-1].ownerDocument,Ye.map(f,pe),d=0;u>d;d++)c=f[d],q.test(c.type||"")&&!Ye._data(c,"globalEval")&&Ye.contains(y,c)&&(c.src?Ye._evalUrl&&Ye._evalUrl(c.src):Ye.globalEval((c.text||c.textContent||c.innerHTML||"").replace(st,"")));v=r=null}return t}function ge(t,a,n){for(var r=a?Ye.filter(a,t):t,e=0,o;null!=(o=r[e]);e++)n||1!==o.nodeType||Ye.cleanData(Q(o)),o.parentNode&&(n&&Ye.contains(o.ownerDocument,o)&&te(Q(o,"script")),o.parentNode.removeChild(o));return t}function he(e,t){var a=Ye(t.createElement(e)).appendTo(t.body),n=Ye.css(a[0],"display");return a.detach(),n}function fe(e){var t=Ve,a=mt[e];return a||(a=he(e,t),"none"!==a&&a||(yt=(yt||Ye("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(yt[0].contentWindow||yt[0].contentDocument).document,t.write(),t.close(),a=he(e,t),yt.detach()),mt[e]=a),a}function ye(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function be(e){if(e in Dt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=At.length;n--;)if(e=At[n]+t,e in Dt)return e}function ve(t,a){for(var n=[],r=0,o=t.length,i,l,s;o>r;r++)l=t[r],l.style&&(n[r]=Ye._data(l,"olddisplay"),i=l.style.display,a?(n[r]||"none"!==i||(l.style.display=""),""===l.style.display&&U(l)&&(n[r]=Ye._data(l,"olddisplay",fe(l.nodeName)))):(s=U(l),(i&&"none"!==i||!s)&&Ye._data(l,"olddisplay",s?i:Ye.css(l,"display"))));for(r=0;o>r;r++)l=t[r],l.style&&(a&&"none"!==l.style.display&&""!==l.style.display||(l.style.display=a?n[r]||"":"none"));return t}function xe(e,t,a){var n=Et.exec(t);return n?ze(0,n[1]-(a||0))+(n[2]||"px"):t}function _e(t,a,n,r,o){for(var e=n===(r?"border":"content")?4:"width"===a?1:0,i=0;4>e;e+=2)"margin"===n&&(i+=Ye.css(t,n+k[e],!0,o)),r?("content"===n&&(i-=Ye.css(t,"padding"+k[e],!0,o)),"margin"!==n&&(i-=Ye.css(t,"border"+k[e]+"Width",!0,o))):(i+=Ye.css(t,"padding"+k[e],!0,o),"padding"!==n&&(i+=Ye.css(t,"border"+k[e]+"Width",!0,o)));return i}function Ne(t,a,n){var r=!0,o="width"===a?t.offsetWidth:t.offsetHeight,i=vt(t),l=Je.boxSizing&&"border-box"===Ye.css(t,"boxSizing",!1,i);if(0>=o||null==o){if(o=xt(t,a,i),(0>o||null==o)&&(o=t.style[a]),gt.test(o))return o;r=l&&(Je.boxSizingReliable()||o===t.style[a]),o=parseFloat(o)||0}return o+_e(t,a,n||(l?"border":"content"),r,i)+"px"}function Te(t,a,n,r,o){return new Te.prototype.init(t,a,n,r,o)}function Ee(){return ee.setTimeout(function(){Mt=void 0}),Mt=Ye.now()}function Ce(t,a){var n={height:t},r=0,o;for(a=a?1:0;4>r;r+=2-a)o=k[r],n["margin"+o]=n["padding"+o]=t;return a&&(n.opacity=n.width=t),n}function Se(t,a,n){for(var r=(we.tweeners[a]||[]).concat(we.tweeners["*"]),e=0,o=r.length,i;o>e;e++)if(i=r[e].call(n,a,t))return i}function Ae(t,a,n){var l=this,s={},o=t.style,p=t.nodeType&&U(t),c=Ye._data(t,"fxshow"),m,u,y,b,v,x,_,N;for(m in n.queue||(v=Ye._queueHooks(t,"fx"),null==v.unqueued&&(v.unqueued=0,x=v.empty.fire,v.empty.fire=function(){v.unqueued||x()}),v.unqueued++,l.always(function(){l.always(function(){v.unqueued--,Ye.queue(t,"fx").length||v.empty.fire()})})),1===t.nodeType&&("height"in a||"width"in a)&&(n.overflow=[o.overflow,o.overflowX,o.overflowY],_=Ye.css(t,"display"),N="none"===_?Ye._data(t,"olddisplay")||fe(t.nodeName):_,"inline"===N&&"none"===Ye.css(t,"float")&&(Je.inlineBlockNeedsLayout&&"inline"!==fe(t.nodeName)?o.zoom=1:o.display="inline-block")),n.overflow&&(o.overflow="hidden",Je.shrinkWrapBlocks()||l.always(function(){o.overflow=n.overflow[0],o.overflowX=n.overflow[1],o.overflowY=n.overflow[2]})),a)if(u=a[m],wt.exec(u)){if(delete a[m],y=y||"toggle"===u,u===(p?"hide":"show")){if("show"!==u||!c||void 0===c[m])continue;p=!0}s[m]=c&&c[m]||Ye.style(t,m)}else _=void 0;if(Ye.isEmptyObject(s))"inline"===("none"===_?fe(t.nodeName):_)&&(o.display=_);else for(m in c?"hidden"in c&&(p=c.hidden):c=Ye._data(t,"fxshow",{}),y&&(c.hidden=!p),p?Ye(t).show():l.done(function(){Ye(t).hide()}),l.done(function(){for(var e in Ye._removeData(t,"fxshow"),s)Ye.style(t,e,s[e])}),s)b=Se(p?c[m]:0,m,l),m in c||(c[m]=b.start,p&&(b.end=b.start,b.start="width"===m||"height"===m?1:0))}function De(t,a){var n,r,o,i,l;for(n in t)if(r=Ye.camelCase(n),o=a[r],i=t[n],Ye.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),l=Ye.cssHooks[r],l&&"expand"in l)for(n in i=l.expand(i),delete t[r],i)n in t||(t[n]=i[n],a[n]=o);else a[r]=o}function we(t,a,n){var r=0,o=we.prefilters.length,l=Ye.Deferred().always(function(){delete s.elem}),s=function(){if(m)return!1;for(var e=Mt||Ee(),a=ze(0,p.startTime+p.duration-e),n=a/p.duration||0,r=1-n,o=0,d=p.tweens.length;d>o;o++)p.tweens[o].run(r);return l.notifyWith(t,[p,r,a]),1>r&&d?a:(l.resolveWith(t,[p]),!1)},p=l.promise({elem:t,props:Ye.extend({},a),opts:Ye.extend(!0,{specialEasing:{},easing:Ye.easing._default},n),originalProperties:a,originalOptions:n,startTime:Mt||Ee(),duration:n.duration,tweens:[],createTween:function(e,a){var n=Ye.Tween(t,p.opts,e,a,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(n),n},stop:function(e){var a=0,n=e?p.tweens.length:0;if(m)return this;for(m=!0;n>a;a++)p.tweens[a].run(1);return e?(l.notifyWith(t,[p,1,0]),l.resolveWith(t,[p,e])):l.rejectWith(t,[p,e]),this}}),i=p.props,c,m;for(De(i,p.opts.specialEasing);o>r;r++)if(c=we.prefilters[r].call(p,t,i,p.opts))return Ye.isFunction(c.stop)&&(Ye._queueHooks(p.elem,p.opts.queue).stop=Ye.proxy(c.stop,c)),c;return Ye.map(i,Se,p),Ye.isFunction(p.opts.start)&&p.opts.start.call(t,p),Ye.fx.timer(Ye.extend(s,{elem:t,anim:p,queue:p.opts.queue})),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}function Ie(e){return Ye.attr(e,"class")||""}function Me(t){return function(a,n){"string"!=typeof a&&(n=a,a="*");var r=0,o=a.toLowerCase().match(E)||[],i;if(Ye.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Le(t,n,r,o){function i(a){var l;return d[a]=!0,Ye.each(t[a]||[],function(t,a){var i=a(n,r,o);return"string"!=typeof i||e||d[i]?e?!(l=i):void 0:(n.dataTypes.unshift(i),i(i),!1)}),l}var d={},e=t===aa;return i(n.dataTypes[0])||!d["*"]&&i("*")}function Oe(t,a){var n=Ye.ajaxSettings.flatOptions||{},e,r;for(r in a)void 0!==a[r]&&((n[r]?t:e||(e={}))[r]=a[r]);return e&&Ye.extend(!0,t,e),t}function Re(t,a,n){for(var r=t.contents,o=t.dataTypes,i,l,s,p;"*"===o[0];)o.shift(),void 0===l&&(l=t.mimeType||a.getResponseHeader("Content-Type"));if(l)for(p in r)if(r[p]&&r[p].test(l)){o.unshift(p);break}if(o[0]in n)s=o[0];else{for(p in n){if(!o[0]||t.converters[p+" "+o[0]]){s=p;break}i||(i=p)}s=s||i}return s?(s!==o[0]&&o.unshift(s),n[s]):void 0}function Pe(t,a,n,r){var o={},d=t.dataTypes.slice(),l,s,p,c,m;if(d[1])for(p in t.converters)o[p.toLowerCase()]=t.converters[p];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=a),!m&&r&&t.dataFilter&&(a=t.dataFilter(a,t.dataType)),m=s,s=d.shift())if("*"===s)s=m;else if("*"!==m&&m!==s){if(p=o[m+" "+s]||o["* "+s],!p)for(l in o)if(c=l.split(" "),c[1]===s&&(p=o[m+" "+c[0]]||o["* "+c[0]])){!0===p?p=o[l]:!0!==o[l]&&(s=c[0],d.unshift(c[1]));break}if(!0!==p)if(p&&t.throws)a=p(a);else try{a=p(a)}catch(e){return{state:"parsererror",error:p?e:"No conversion from "+m+" to "+s}}}return{state:"success",data:a}}function He(e){return e.style&&e.style.display||Ye.css(e,"display")}function ke(e){if(!Ye.contains(e.ownerDocument||Ve,e))return!0;for(;e&&1===e.nodeType;){if("none"===He(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Be(t,a,n,r){if(Ye.isArray(a))Ye.each(a,function(a,o){n||da.test(t)?r(t,o):Be(t+"["+("object"==typeof o&&null!=o?a:"")+"]",o,n,r)});else if(n||"object"!==Ye.type(a))r(t,a);else for(var o in a)Be(t+"["+o+"]",a[o],n,r)}function $e(){try{return new ee.XMLHttpRequest}catch(e){}}function Fe(){try{return new ee.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Ue(e){return Ye.isWindow(e)?e:!(9!==e.nodeType)&&(e.defaultView||e.parentWindow)}var Xe=[],Ve=ee.document,We=Xe.slice,qe=Xe.concat,Ge=Xe.push,e=Xe.indexOf,d={},i=d.toString,Ke=d.hasOwnProperty,Je={},Ye=function(e,t){return new Ye.fn.init(e,t)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,l=/-([\da-z])/gi,p=function(e,t){return t.toUpperCase()};Ye.fn=Ye.prototype={jquery:"1.12.4",constructor:Ye,selector:"",length:0,toArray:function(){return We.call(this)},get:function(e){return null==e?We.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=Ye.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return Ye.each(this,e)},map:function(e){return this.pushStack(Ye.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return this.pushStack(We.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(0>e?t:0);return this.pushStack(0<=a&&t>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ge,sort:Xe.sort,splice:Xe.splice},Ye.extend=Ye.fn.extend=function(){var t=arguments[0]||{},n=1,r=arguments.length,o=!1,i,l,s,p,m,u;for("boolean"==typeof t&&(o=t,t=arguments[n]||{},n++),"object"==typeof t||Ye.isFunction(t)||(t={}),n===r&&(t=this,n--);r>n;n++)if(null!=(m=arguments[n]))for(p in m)i=t[p],s=m[p],t!==s&&(o&&s&&(Ye.isPlainObject(s)||(l=Ye.isArray(s)))?(l?(l=!1,u=i&&Ye.isArray(i)?i:[]):u=i&&Ye.isPlainObject(i)?i:{},t[p]=Ye.extend(o,u,s)):void 0!==s&&(t[p]=s));return t},Ye.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Ye.type(e)},isArray:Array.isArray||function(e){return"array"===Ye.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!Ye.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==Ye.type(e)||e.nodeType||Ye.isWindow(e))return!1;try{if(e.constructor&&!Ke.call(e,"constructor")&&!Ke.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!Je.ownFirst)for(var t in e)return Ke.call(e,t);for(t in e);return void 0===t||Ke.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[i.call(e)]||"object":typeof e},globalEval:function(e){e&&Ye.trim(e)&&(ee.execScript||function(e){ee.eval.call(ee,e)})(e)},camelCase:function(e){return e.replace(o,"ms-").replace(l,p)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var a=0,n;if(m(e))for(n=e.length;n>a&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(n,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(m(Object(e))?Ye.merge(a,"string"==typeof e?[e]:e):Ge.call(a,e)),a},inArray:function(t,a,n){var r;if(a){if(e)return e.call(a,t,n);for(r=a.length,n=n?0>n?ze(0,r+n):n:0;r>n;n++)if(n in a&&a[n]===t)return n}return-1},merge:function(t,a){for(var n=+a.length,r=0,o=t.length;n>r;)t[o++]=a[r++];return t.length=o,t},grep:function(t,a,n){for(var r=[],e=0,o=t.length,i;o>e;e++)i=!a(t[e],e),i!==!n&&r.push(t[e]);return r},map:function(t,a,n){var r=0,o=[],i,l;if(m(t))for(i=t.length;i>r;r++)l=a(t[r],r,n),null!=l&&o.push(l);else for(r in t)l=a(t[r],r,n),null!=l&&o.push(l);return qe.apply([],o)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),Ye.isFunction(e)?(n=We.call(arguments,2),r=function(){return e.apply(t||this,n.concat(We.call(arguments)))},r.guid=e.guid=e.guid||Ye.guid++,r):void 0},now:function(){return+new Date},support:Je}),"function"==typeof Symbol&&(Ye.fn[Symbol.iterator]=Xe[Symbol.iterator]),Ye.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var r=function(N){function C(t,a,n,i){var e=a&&a.ownerDocument,p=a?a.nodeType:9,c,m,g,y,v,x,N,T;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((a?a.ownerDocument||a:u)!==Pe&&Re(a),a=a||Pe,ke)){if(11!==p&&(x=Z.exec(t)))if(!(c=x[1])){if(x[2])return G.apply(n,a.getElementsByTagName(t)),n;if((c=x[3])&&Ee.getElementsByClassName&&a.getElementsByClassName)return G.apply(n,a.getElementsByClassName(c)),n}else if(9===p){if(!(g=a.getElementById(c)))return n;if(g.id===c)return n.push(g),n}else if(e&&(g=e.getElementById(c))&&Ue(a,g)&&g.id===c)return n.push(g),n;if(Ee.qsa&&!z[t+" "]&&(!Be||!Be.test(t))){if(1!==p)e=a,T=t;else if("object"!==a.nodeName.toLowerCase()){for((y=a.getAttribute("id"))?y=y.replace(_,"\\$&"):a.setAttribute("id",y=ue),N=De(t),m=N.length,v=U.test(y)?"#"+y:"[id='"+y+"']";m--;)N[m]=v+" "+oe(N[m]);T=N.join(","),e=ve.test(t)&&ne(a.parentNode)||a}if(T)try{return G.apply(n,e.querySelectorAll(T)),n}catch(e){}finally{y===ue&&a.removeAttribute("id")}}}return Ie(t.replace(P,"$1"),a,n,i)}function a(){function t(a,r){return n.push(a+" ")>Ce.cacheLength&&delete t[n.shift()],t[a+" "]=r}var n=[];return t}function M(e){return e[ue]=!0,e}function L(e){var t=Pe.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function O(t,a){for(var n=t.split("|"),r=n.length;r--;)Ce.attrHandle[n[r]]=a}function K(e,t){var a=t&&e,n=a&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||-2147483648)-(~e.sourceIndex||-2147483648);if(n)return n;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function ee(e){return function(t){var a=t.nodeName.toLowerCase();return"input"===a&&t.type===e}}function te(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function ae(t){return M(function(a){return a=+a,M(function(n,r){for(var o=t([],n.length,a),i=o.length,d;i--;)n[d=o[i]]&&(n[d]=!(r[d]=n[d]))})})}function ne(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function re(){}function oe(e){for(var t=0,a=e.length,n="";a>t;t++)n+=e[t].value;return n}function ie(t,a,n){var r=a.dir,o=n&&"parentNode"===r,e=v++;return a.first?function(e,a,n){for(;e=e[r];)if(1===e.nodeType||o)return t(e,a,n)}:function(a,n,d){var l=[ge,e],s,p,c;if(d){for(;a=a[r];)if((1===a.nodeType||o)&&t(a,n,d))return!0;}else for(;a=a[r];)if(1===a.nodeType||o){if(c=a[ue]||(a[ue]={}),p=c[a.uniqueID]||(c[a.uniqueID]={}),(s=p[r])&&s[0]===ge&&s[1]===e)return l[2]=s[2];if(p[r]=l,l[2]=t(a,n,d))return!0}}}function de(t){return 1<t.length?function(a,n,r){for(var o=t.length;o--;)if(!t[o](a,n,r))return!1;return!0}:t[0]}function le(t,a,n){for(var r=0,o=a.length;o>r;r++)C(t,a[r],n);return n}function se(t,a,n,r,o){for(var e=[],d=0,l=t.length,i;l>d;d++)(i=t[d])&&(n&&!n(i,r,o)||(e.push(i),null!=a&&a.push(d)));return e}function pe(t,a,s,c,u,n){return c&&!c[ue]&&(c=pe(c)),u&&!u[ue]&&(u=pe(u,n)),M(function(e,d,g,h){var i=[],m=[],n=d.length,o=e||le(a||"*",g.nodeType?[g]:g,[]),p=t&&(e||!a)?se(o,i,t,g,h):o,f=s?u||(e?t:n||c)?[]:d:p,y,b,v;if(s&&s(p,f,g,h),c)for(y=se(f,m),c(y,[],g,h),b=y.length;b--;)(v=y[b])&&(f[m[b]]=!(p[m[b]]=v));if(!e)f=se(f===d?f.splice(n,f.length):f),u?u(null,d,f,h):G.apply(d,f);else if(u||t){if(u){for(y=[],b=f.length;b--;)(v=f[b])&&y.push(p[b]=v);u(null,f=[],y,h)}for(b=f.length;b--;)(v=f[b])&&-1<(y=u?I(e,v):i[b])&&(e[y]=!(d[y]=v))}})}function ce(t){for(var n=t.length,r=Ce.relative[t[0].type],o=r||Ce.relative[" "],d=r?1:0,s=ie(function(e){return e===u},o,!0),p=ie(function(e){return-1<I(u,e)},o,!0),l=[function(t,a,n){var o=!r&&(n||a!==Me)||((u=a).nodeType?s(t,a,n):p(t,a,n));return u=null,o}],u,g,h;n>d;d++)if(g=Ce.relative[t[d].type])l=[ie(de(l),g)];else{if(g=Ce.filter[t[d].type].apply(null,t[d].matches),g[ue]){for(h=++d;n>h&&!Ce.relative[t[h].type];h++);return pe(1<d&&de(l),1<d&&oe(t.slice(0,d-1).concat({value:" "===t[d-2].type?"*":""})).replace(P,"$1"),g,h>d&&ce(t.slice(d,h)),n>h&&ce(t=t.slice(h)),n>h&&oe(t))}l.push(g)}return de(l)}function me(t,a){var n=0<a.length,d=0<t.length,e=function(e,p,c,m,i){var g=0,f="0",b=e&&[],_=[],N=Me,v=e||d&&Ce.find.TAG("*",i),x=ge+=null==N?1:Math.random()||.1,y=v.length,T,E,S;for(i&&(Me=p===Pe||p||i);f!==y&&null!=(T=v[f]);f++){if(d&&T){for(E=0,p||T.ownerDocument===Pe||(Re(T),c=!ke);S=t[E++];)if(S(T,p||Pe,c)){m.push(T);break}i&&(ge=x)}n&&((T=!S&&T)&&g--,e&&b.push(T))}if(g+=f,n&&f!==g){for(E=0;S=a[E++];)S(b,_,p,c);if(e){if(0<g)for(;f--;)b[f]||_[f]||(_[f]=ye.call(m));_=se(_)}G.apply(m,_),i&&!e&&0<_.length&&1<g+a.length&&C.uniqueSort(m)}return i&&(ge=x,Me=N),b};return n?M(e):e}var ue="sizzle"+1*new Date,u=N.document,ge=0,v=0,he=a(),y=a(),z=a(),A=function(e,t){return e===t&&(Oe=!0),0},fe={}.hasOwnProperty,D=[],ye=D.pop,F=D.push,G=D.push,be=D.slice,I=function(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a]===t)return a;return-1},J=/[\x20\t\r\n\f]+/g,P=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Q=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,R=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,S=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,T=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,U=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,V={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,_=/'|\\/g,xe=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,_e=function(e,t,a){var n="0x"+t-65536;return n!=n||a?t:0>n?je(n+65536):je(55296|n>>10,56320|1023&n)},Ne=function(){Re()},Te,Ee,Ce,Se,Ae,De,we,Ie,Me,Le,Oe,Re,Pe,He,ke,Be,$e,Fe,Ue;try{G.apply(D=be.call(u.childNodes),u.childNodes),D[u.childNodes.length].nodeType}catch(e){G={apply:D.length?function(e,t){F.apply(e,be.call(t))}:function(e,t){for(var a=e.length,n=0;e[a++]=t[n++];);e.length=a-1}}}for(Te in Ee=C.support={},Ae=C.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Re=C.setDocument=function(t){var a=t?t.ownerDocument||t:u,n,r;return a!==Pe&&9===a.nodeType&&a.documentElement?(Pe=a,He=Pe.documentElement,ke=!Ae(Pe),(r=Pe.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Ne,!1):r.attachEvent&&r.attachEvent("onunload",Ne)),Ee.attributes=L(function(e){return e.className="i",!e.getAttribute("className")}),Ee.getElementsByTagName=L(function(e){return e.appendChild(Pe.createComment("")),!e.getElementsByTagName("*").length}),Ee.getElementsByClassName=Y.test(Pe.getElementsByClassName),Ee.getById=L(function(e){return He.appendChild(e).id=ue,!Pe.getElementsByName||!Pe.getElementsByName(ue).length}),Ee.getById?(Ce.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&ke){var a=t.getElementById(e);return a?[a]:[]}},Ce.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){return e.getAttribute("id")===t}}):(delete Ce.find.ID,Ce.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){var a="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}}),Ce.find.TAG=Ee.getElementsByTagName?function(e,t){return"undefined"==typeof t.getElementsByTagName?Ee.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(t,a){var n=[],r=0,o=a.getElementsByTagName(t),i;if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},Ce.find.CLASS=Ee.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&ke?t.getElementsByClassName(e):void 0},$e=[],Be=[],(Ee.qsa=Y.test(Pe.querySelectorAll))&&(L(function(e){He.appendChild(e).innerHTML="<a id='"+ue+"'></a><select id='"+ue+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&Be.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||Be.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+ue+"-]").length||Be.push("~="),e.querySelectorAll(":checked").length||Be.push(":checked"),e.querySelectorAll("a#"+ue+"+*").length||Be.push(".#.+[+~]")}),L(function(e){var t=Pe.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&Be.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),e.querySelectorAll(":enabled").length||Be.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),Be.push(",.*:")})),(Ee.matchesSelector=Y.test(Fe=He.matches||He.webkitMatchesSelector||He.mozMatchesSelector||He.oMatchesSelector||He.msMatchesSelector))&&L(function(e){Ee.disconnectedMatch=Fe.call(e,"div"),Fe.call(e,"[s!='']:x"),$e.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),Be=Be.length&&new RegExp(Be.join("|")),$e=$e.length&&new RegExp($e.join("|")),n=Y.test(He.compareDocumentPosition),Ue=n||Y.test(He.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||n&&1===n.nodeType&&(a.contains?a.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=n?function(e,t){if(e===t)return Oe=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a?a:(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&a||!Ee.sortDetached&&t.compareDocumentPosition(e)===a?e===Pe||e.ownerDocument===u&&Ue(u,e)?-1:t===Pe||t.ownerDocument===u&&Ue(u,t)?1:Le?I(Le,e)-I(Le,t):0:4&a?-1:1)}:function(t,a){if(t===a)return Oe=!0,0;var n=0,r=t.parentNode,e=a.parentNode,o=[t],i=[a],l;if(!r||!e)return t===Pe?-1:a===Pe?1:r?-1:e?1:Le?I(Le,t)-I(Le,a):0;if(r===e)return K(t,a);for(l=t;l=l.parentNode;)o.unshift(l);for(l=a;l=l.parentNode;)i.unshift(l);for(;o[n]===i[n];)n++;return n?K(o[n],i[n]):o[n]===u?-1:i[n]===u?1:0},Pe):Pe},C.matches=function(e,t){return C(e,null,null,t)},C.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Pe&&Re(e),t=t.replace(S,"='$1']"),Ee.matchesSelector&&ke&&!z[t+" "]&&(!$e||!$e.test(t))&&(!Be||!Be.test(t)))try{var a=Fe.call(e,t);if(a||Ee.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(t){}return 0<C(t,Pe,null,[e]).length},C.contains=function(e,t){return(e.ownerDocument||e)!==Pe&&Re(e),Ue(e,t)},C.attr=function(t,a){(t.ownerDocument||t)!==Pe&&Re(t);var n=Ce.attrHandle[a.toLowerCase()],e=n&&fe.call(Ce.attrHandle,a.toLowerCase())?n(t,a,!ke):void 0;return void 0===e?Ee.attributes||!ke?t.getAttribute(a):(e=t.getAttributeNode(a))&&e.specified?e.value:null:e},C.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(t){var a=[],n=0,r=0,o;if(Oe=!Ee.detectDuplicates,Le=!Ee.sortStable&&t.slice(0),t.sort(A),Oe){for(;o=t[r++];)o===t[r]&&(n=a.push(r));for(;n--;)t.splice(a[n],1)}return Le=null,t},Se=C.getText=function(e){var t="",n=0,r=e.nodeType,o;if(!r)for(;o=e[n++];)t+=Se(o);else if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=Se(e)}else if(3===r||4===r)return e.nodeValue;return t},Ce=C.selectors={cacheLength:50,createPseudo:M,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||C.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&C.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],a;return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&T.test(t)&&(a=De(t,!0))&&(a=t.indexOf(")",t.length-a)-t.length)&&(e[0]=e[0].slice(0,a),e[2]=t.slice(0,a)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=he[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&he(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,a,n){return function(r){var o=C.attr(r,t);return null==o?"!="===a:!a||(o+="","="===a?o===n:"!="===a?o!==n:"^="===a?n&&0===o.indexOf(n):"*="===a?n&&-1<o.indexOf(n):"$="===a?n&&o.slice(-n.length)===n:"~="===a?-1<(" "+o.replace(J," ")+" ").indexOf(n):"|="==a&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(i,t,a,c,d){var e="nth"!==i.slice(0,3),u="last"!==i.slice(-4),g="of-type"===t;return 1===c&&0===d?function(e){return!!e.parentNode}:function(a,h,f){var y=e==u?"previousSibling":"nextSibling",b=a.parentNode,v=g&&a.nodeName.toLowerCase(),r=!f&&!g,s=!1,x,_,N,T,E,C;if(b){if(e){for(;y;){for(T=a;T=T[y];)if(g?T.nodeName.toLowerCase()===v:1===T.nodeType)return!1;C=y="only"===i&&!C&&"nextSibling"}return!0}if(C=[u?b.firstChild:b.lastChild],u&&r){for(T=b,N=T[ue]||(T[ue]={}),_=N[T.uniqueID]||(N[T.uniqueID]={}),x=_[i]||[],E=x[0]===ge&&x[1],s=E&&x[2],T=E&&b.childNodes[E];T=++E&&T&&T[y]||(s=E=0)||C.pop();)if(1===T.nodeType&&++s&&T===a){_[i]=[ge,E,s];break}}else if(r&&(T=a,N=T[ue]||(T[ue]={}),_=N[T.uniqueID]||(N[T.uniqueID]={}),x=_[i]||[],E=x[0]===ge&&x[1],s=E),!1===s)for(;(T=++E&&T&&T[y]||(s=E=0)||C.pop())&&!((g?T.nodeName.toLowerCase()===v:1===T.nodeType)&&++s&&(r&&(N=T[ue]||(T[ue]={}),_=N[T.uniqueID]||(N[T.uniqueID]={}),_[i]=[ge,s]),T===a)););return s-=d,s===c||0==s%c&&0<=s/c}}},PSEUDO:function(t,n){var r=Ce.pseudos[t]||Ce.setFilters[t.toLowerCase()]||C.error("unsupported pseudo: "+t),e;return r[ue]?r(n):1<r.length?(e=[t,t,"",n],Ce.setFilters.hasOwnProperty(t.toLowerCase())?M(function(e,t){for(var a=r(e,n),o=a.length,i;o--;)i=I(e,a[o]),e[i]=!(t[i]=a[o])}):function(t){return r(t,0,e)}):r}},pseudos:{not:M(function(e){var t=[],n=[],r=we(e.replace(P,"$1"));return r[ue]?M(function(t,a,n,o){for(var e=r(t,null,o,[]),i=t.length,d;i--;)(d=e[i])&&(t[i]=!(a[i]=d))}):function(o,a,e){return t[0]=o,r(t,null,e,n),t[0]=null,!n.pop()}}),has:M(function(e){return function(t){return 0<C(e,t).length}}),contains:M(function(e){return e=e.replace(xe,_e),function(t){return-1<(t.textContent||t.innerText||Se(t)).indexOf(e)}}),lang:M(function(e){return U.test(e||"")||C.error("unsupported lang: "+e),e=e.replace(xe,_e).toLowerCase(),function(t){var a;do if(a=ke?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return a=a.toLowerCase(),a===e||0===a.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=N.location&&N.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===He},focus:function(e){return e===Pe.activeElement&&(!Pe.hasFocus||Pe.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!Ce.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return W.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,a){return[0>a?a+t:a]}),even:ae(function(e,t){for(var a=0;t>a;a+=2)e.push(a);return e}),odd:ae(function(e,t){for(var a=1;t>a;a+=2)e.push(a);return e}),lt:ae(function(e,t,a){for(var n=0>a?a+t:a;0<=--n;)e.push(n);return e}),gt:ae(function(e,t,a){for(var n=0>a?a+t:a;++n<t;)e.push(n);return e})}},Ce.pseudos.nth=Ce.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ce.pseudos[Te]=ee(Te);for(Te in{submit:!0,reset:!0})Ce.pseudos[Te]=te(Te);return re.prototype=Ce.filters=Ce.pseudos,Ce.setFilters=new re,De=C.tokenize=function(t,a){var n=y[t+" "],r,o,d,l,s,p,m;if(n)return a?0:n.slice(0);for(s=t,p=[],m=Ce.preFilter;s;){for(l in r&&!(o=Q.exec(s))||(o&&(s=s.slice(o[0].length)||s),p.push(d=[])),r=!1,(o=R.exec(s))&&(r=o.shift(),d.push({value:r,type:o[0].replace(P," ")}),s=s.slice(r.length)),Ce.filter)(o=V[l].exec(s))&&(!m[l]||(o=m[l](o)))&&(r=o.shift(),d.push({value:r,type:l,matches:o}),s=s.slice(r.length));if(!r)break}return a?s.length:s?C.error(t):y(t,p).slice(0)},(we=C.compile=function(t,a){var n=[],r=[],e=z[t+" "],o;if(!e){for(a||(a=De(t)),o=a.length;o--;)e=ce(a[o]),e[ue]?n.push(e):r.push(e);e=z(t,me(r,n)),e.selector=t}return e},Ie=C.select=function(t,r,d,s){var p="function"==typeof t&&t,n=!s&&De(t=p.selector||t),o,c,u,g,h;if(d=d||[],1===n.length){if(c=n[0]=n[0].slice(0),2<c.length&&"ID"===(u=c[0]).type&&Ee.getById&&9===r.nodeType&&ke&&Ce.relative[c[1].type]){if(r=(Ce.find.ID(u.matches[0].replace(xe,_e),r)||[])[0],!r)return d;p&&(r=r.parentNode),t=t.slice(c.shift().value.length)}for(o=V.needsContext.test(t)?0:c.length;o--&&(u=c[o],!Ce.relative[g=u.type]);)if((h=Ce.find[g])&&(s=h(u.matches[0].replace(xe,_e),ve.test(c[0].type)&&ne(r.parentNode)||r))){if(c.splice(o,1),t=s.length&&oe(c),!t)return G.apply(d,s),d;break}}return(p||we(t,n))(s,r,!ke,d,!r||ve.test(t)&&ne(r.parentNode)||r),d},Ee.sortStable=ue.split("").sort(A).join("")===ue,Ee.detectDuplicates=!!Oe,Re(),Ee.sortDetached=L(function(e){return 1&e.compareDocumentPosition(Pe.createElement("div"))}),L(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||O("type|href|height|width",function(e,t,a){return a?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),Ee.attributes&&L(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||O("value",function(e,t,a){return a||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),L(function(e){return null==e.getAttribute("disabled")})||O("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,a){var n;return a?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),C)}(ee);Ye.find=r,Ye.expr=r.selectors,Ye.expr[":"]=Ye.expr.pseudos,Ye.uniqueSort=Ye.unique=r.uniqueSort,Ye.text=r.getText,Ye.isXMLDoc=r.isXML,Ye.contains=r.contains;var t=function(e,t,n){for(var r=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&Ye(e).is(n))break;r.push(e)}return r},c=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},u=Ye.expr.match.needsContext,g=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,h=/^.[^:#\[\.,]*$/;Ye.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ye.find.matchesSelector(r,e)?[r]:[]:Ye.find.matches(e,Ye.grep(t,function(e){return 1===e.nodeType}))},Ye.fn.extend({find:function(t){var a=[],n=this,r=n.length,e;if("string"!=typeof t)return this.pushStack(Ye(t).filter(function(){for(e=0;r>e;e++)if(Ye.contains(n[e],this))return!0}));for(e=0;r>e;e++)Ye.find(t,n[e],a);return a=this.pushStack(1<r?Ye.unique(a):a),a.selector=this.selector?this.selector+" "+t:t,a},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&u.test(e)?Ye(e):e||[],!1).length}});var y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,f=Ye.fn.init=function(t,a,n){var r,o;if(!t)return this;if(n=n||v,"string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:y.exec(t),!r||!r[1]&&a)return!a||a.jquery?(a||n).find(t):this.constructor(a).find(t);if(r[1]){if(a=a instanceof Ye?a[0]:a,Ye.merge(this,Ye.parseHTML(r[1],a&&a.nodeType?a.ownerDocument||a:Ve,!0)),g.test(r[1])&&Ye.isPlainObject(a))for(r in a)Ye.isFunction(this[r])?this[r](a[r]):this.attr(r,a[r]);return this}if(o=Ve.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return v.find(t);this.length=1,this[0]=o}return this.context=Ve,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Ye.isFunction(t)?"undefined"==typeof n.ready?t(Ye):n.ready(t):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Ye.makeArray(t,this))},v;f.prototype=Ye.fn,v=Ye(Ve);var x=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};Ye.fn.extend({has:function(e){var t=Ye(e,this),a=t.length,n;return this.filter(function(){for(n=0;a>n;n++)if(Ye.contains(this,t[n]))return!0})},closest:function(t,a){for(var n=0,r=this.length,e=[],o=u.test(t)||"string"!=typeof t?Ye(t,a||this.context):0,i;r>n;n++)for(i=this[n];i&&i!==a;i=i.parentNode)if(11>i.nodeType&&(o?-1<o.index(i):1===i.nodeType&&Ye.find.matchesSelector(i,t))){e.push(i);break}return this.pushStack(1<e.length?Ye.uniqueSort(e):e)},index:function(e){return e?"string"==typeof e?Ye.inArray(this[0],Ye(e)):Ye.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ye.uniqueSort(Ye.merge(this.get(),Ye(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ye.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return t(e,"parentNode")},parentsUntil:function(e,a,n){return t(e,"parentNode",n)},next:function(e){return b(e,"nextSibling")},prev:function(e){return b(e,"previousSibling")},nextAll:function(e){return t(e,"nextSibling")},prevAll:function(e){return t(e,"previousSibling")},nextUntil:function(e,a,n){return t(e,"nextSibling",n)},prevUntil:function(e,a,n){return t(e,"previousSibling",n)},siblings:function(e){return c((e.parentNode||{}).firstChild,e)},children:function(e){return c(e.firstChild)},contents:function(e){return Ye.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Ye.merge([],e.childNodes)}},function(t,a){Ye.fn[t]=function(n,r){var o=Ye.map(this,a,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Ye.filter(r,o)),1<this.length&&(C[t]||(o=Ye.uniqueSort(o)),x.test(t)&&(o=o.reverse())),this.pushStack(o)}});var E=/\S+/g;Ye.Callbacks=function(t){t="string"==typeof t?F(t):Ye.extend({},t);var n=[],r=[],o=-1,l=function(){for(u=t.once,m=s=!0;r.length;o=-1)for(p=r.shift();++o<n.length;)!1===n[o].apply(p[0],p[1])&&t.stopOnFalse&&(o=n.length,p=!1);t.memory||(p=!1),s=!1,u&&(n=p?[]:"")},i={add:function(){return n&&(p&&!s&&(o=n.length-1,r.push(p)),function e(a){Ye.each(a,function(a,r){Ye.isFunction(r)?t.unique&&i.has(r)||n.push(r):r&&r.length&&"string"!==Ye.type(r)&&e(r)})}(arguments),p&&!s&&l()),this},remove:function(){return Ye.each(arguments,function(e,t){for(var a;-1<(a=Ye.inArray(t,n,a));)n.splice(a,1),o>=a&&o--}),this},has:function(e){return e?-1<Ye.inArray(e,n):0<n.length},empty:function(){return n&&(n=[]),this},disable:function(){return u=r=[],n=p="",this},disabled:function(){return!n},lock:function(){return u=!0,p||i.disable(),this},locked:function(){return!!u},fireWith:function(e,t){return u||(t=t||[],t=[e,t.slice?t.slice():t],r.push(t),s||l()),this},fire:function(){return i.fireWith(this,arguments),this},fired:function(){return!!m}},s,p,m,u;return i},Ye.extend({Deferred:function(t){var n=[["resolve","done",Ye.Callbacks("once memory"),"resolved"],["reject","fail",Ye.Callbacks("once memory"),"rejected"],["notify","progress",Ye.Callbacks("memory")]],a="pending",r={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Ye.Deferred(function(t){Ye.each(n,function(a,n){var i=Ye.isFunction(e[a])&&e[a];o[n[1]](function(){var e=i&&i.apply(this,arguments);e&&Ye.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this===r?t.promise():this,i?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null==e?r:Ye.extend(e,r)}},o={};return r.pipe=r.then,Ye.each(n,function(e,t){var i=t[2],d=t[3];r[t[1]]=i.add,d&&i.add(function(){a=d},n[1^e][2].disable,n[2][2].lock),o[t[0]]=function(){return o[t[0]+"With"](this===o?r:this,arguments),this},o[t[0]+"With"]=i.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=0,a=We.call(arguments),n=a.length,r=1!==n||e&&Ye.isFunction(e.promise)?n:0,o=1===r?e:Ye.Deferred(),d=function(e,t,a){return function(n){t[e]=this,a[e]=1<arguments.length?We.call(arguments):n,a===l?o.notifyWith(t,a):--r||o.resolveWith(t,a)}},l,s,p;if(1<n)for(l=Array(n),s=Array(n),p=Array(n);n>t;t++)a[t]&&Ye.isFunction(a[t].promise)?a[t].promise().progress(d(t,s,l)).done(d(t,p,a)).fail(o.reject):--r;return r||o.resolveWith(p,a),o.promise()}});var D;Ye.fn.ready=function(e){return Ye.ready.promise().done(e),this},Ye.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Ye.readyWait++:Ye.ready(!0)},ready:function(e){(!0===e?--Ye.readyWait:Ye.isReady)||(Ye.isReady=!0,!0!==e&&0<--Ye.readyWait||(D.resolveWith(Ve,[Ye]),Ye.fn.triggerHandler&&(Ye(Ve).triggerHandler("ready"),Ye(Ve).off("ready"))))}}),Ye.ready.promise=function(e){if(!D)if(D=Ye.Deferred(),"complete"===Ve.readyState||"loading"!==Ve.readyState&&!Ve.documentElement.doScroll)ee.setTimeout(Ye.ready);else if(Ve.addEventListener)Ve.addEventListener("DOMContentLoaded",z),ee.addEventListener("load",z);else{Ve.attachEvent("onreadystatechange",z),ee.attachEvent("onload",z);var t=!1;try{t=null==ee.frameElement&&Ve.documentElement}catch(t){}t&&t.doScroll&&!function e(){if(!Ye.isReady){try{t.doScroll("left")}catch(t){return ee.setTimeout(e,50)}H(),Ye.ready()}}()}return D.promise(e)},Ye.ready.promise();var w;for(w in Ye(Je))break;Je.ownFirst="0"===w,Je.inlineBlockNeedsLayout=!1,Ye(function(){var t,n,r,o;r=Ve.getElementsByTagName("body")[0],r&&r.style&&(n=Ve.createElement("div"),o=Ve.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(o).appendChild(n),"undefined"!=typeof n.style.zoom&&(n.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Je.inlineBlockNeedsLayout=t=3===n.offsetWidth,t&&(r.style.zoom=1)),r.removeChild(o))}),function(){var e=Ve.createElement("div");Je.deleteExpando=!0;try{delete e.test}catch(e){Je.deleteExpando=!1}e=null}();var B=function(e){var t=Ye.noData[(e.nodeName+" ").toLowerCase()],a=+e.nodeType||1;return(1==a||9==a)&&(!t||!0!==t&&e.getAttribute("classid")===t)},M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;Ye.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?Ye.cache[e[Ye.expando]]:e[Ye.expando],!!e&&!P(e)},data:function(e,t,a){return J(e,t,a)},removeData:function(e,t){return R(e,t)},_data:function(e,t,a){return J(e,t,a,!0)},_removeData:function(e,t){return R(e,t,!0)}}),Ye.fn.extend({data:function(t,a){var n=this[0],r=n&&n.attributes,o,i,l;if(void 0===t){if(this.length&&(l=Ye.data(n),1===n.nodeType&&!Ye._data(n,"parsedAttrs"))){for(o=r.length;o--;)r[o]&&(i=r[o].name,0===i.indexOf("data-")&&(i=Ye.camelCase(i.slice(5)),K(n,i,l[i])));Ye._data(n,"parsedAttrs",!0)}return l}return"object"==typeof t?this.each(function(){Ye.data(this,t)}):1<arguments.length?this.each(function(){Ye.data(this,t,a)}):n?K(n,t,Ye.data(n,t)):void 0},removeData:function(e){return this.each(function(){Ye.removeData(this,e)})}}),Ye.extend({queue:function(e,t,a){var n;return e?(t=(t||"fx")+"queue",n=Ye._data(e,t),a&&(!n||Ye.isArray(a)?n=Ye._data(e,t,Ye.makeArray(a)):n.push(a)),n||[]):void 0},dequeue:function(t,a){a=a||"fx";var n=Ye.queue(t,a),r=n.length,o=n.shift(),i=Ye._queueHooks(t,a),l=function(){Ye.dequeue(t,a)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===a&&n.unshift("inprogress"),delete i.stop,o.call(t,l,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return Ye._data(e,a)||Ye._data(e,a,{empty:Ye.Callbacks("once memory").add(function(){Ye._removeData(e,t+"queue"),Ye._removeData(e,a)})})}}),Ye.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ye.queue(this[0],e):void 0===t?this:this.each(function(){var a=Ye.queue(this,e,t);Ye._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&Ye.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ye.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(t,n){var r=1,o=Ye.Deferred(),e=this,i=this.length,l=function(){--r||o.resolveWith(e,[e])},s;for("string"!=typeof t&&(n=t,t=void 0),t=t||"fx";i--;)s=Ye._data(e[i],t+"queueHooks"),s&&s.empty&&(r++,s.empty.add(l));return l(),o.promise(n)}}),function(){var t;Je.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var a,n,r;return n=Ve.getElementsByTagName("body")[0],n&&n.style?(a=Ve.createElement("div"),r=Ve.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(a),"undefined"!=typeof a.style.zoom&&(a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",a.appendChild(Ve.createElement("div")).style.width="5px",t=3!==a.offsetWidth),n.removeChild(r),t):void 0}}();var O=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+O+")([a-z%]*)$","i"),k=["Top","Right","Bottom","Left"],U=function(e,t){return e=t||e,"none"===Ye.css(e,"display")||!Ye.contains(e.ownerDocument,e)},j=function(t,a,n,r,o,d,l){var s=0,p=t.length,i=null==n;if("object"===Ye.type(n))for(s in o=!0,n)j(t,a,s,n[s],!0,d,l);else if(void 0!==r&&(o=!0,Ye.isFunction(r)||(l=!0),i&&(l?(a.call(t,r),a=null):(i=a,a=function(e,t,a){return i.call(Ye(e),a)})),a))for(;p>s;s++)a(t[s],n,l?r:r.call(t[s],s,a(t[s],n)));return o?t:i?a.call(t):p?a(t[0],n):d},V=/^(?:checkbox|radio)$/i,W=/<([\w:-]+)/,q=/^$|\/(?:java|ecma)script/i,_=/^\s+/;!function(){var e=Ve.createElement("div"),t=Ve.createDocumentFragment(),a=Ve.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Je.leadingWhitespace=3===e.firstChild.nodeType,Je.tbody=!e.getElementsByTagName("tbody").length,Je.htmlSerialize=!!e.getElementsByTagName("link").length,Je.html5Clone="<:nav></:nav>"!==Ve.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,t.appendChild(a),Je.appendChecked=a.checked,e.innerHTML="<textarea>x</textarea>",Je.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),a=Ve.createElement("input"),a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),e.appendChild(a),Je.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,Je.noCloneEvent=!!e.addEventListener,e[Ye.expando]=1,Je.attributes=!e.getAttribute(Ye.expando)}();var G={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Je.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};G.optgroup=G.option,G.tbody=G.tfoot=G.colgroup=G.caption=G.thead,G.th=G.td;var Y=/<|&#?\w+;/,Z=/<tbody/i;!function(){var t=Ve.createElement("div"),a,n;for(a in{submit:!0,change:!0,focusin:!0})n="on"+a,(Je[a]=n in ee)||(t.setAttribute(n,"t"),Je[a]=!1===t.attributes[n].expando);t=null}();var Qe=/^(?:input|select|textarea)$/i,Ze=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tt=/^(?:focusinfocus|focusoutblur)$/,at=/^([^.]*)(?:\.(.+)|)/;Ye.event={global:{},add:function(t,n,s,u,d){var y=Ye._data(t),r,v,x,_,N,T,C,S,A,D,w;if(y){for(s.handler&&(_=s,s=_.handler,d=_.selector),s.guid||(s.guid=Ye.guid++),(v=y.events)||(v=y.events={}),(T=y.handle)||(T=y.handle=function(e){return"undefined"==typeof Ye||e&&Ye.event.triggered===e.type?void 0:Ye.event.dispatch.apply(T.elem,arguments)},T.elem=t),n=(n||"").match(E)||[""],x=n.length;x--;)r=at.exec(n[x])||[],A=w=r[1],D=(r[2]||"").split(".").sort(),A&&(N=Ye.event.special[A]||{},A=(d?N.delegateType:N.bindType)||A,N=Ye.event.special[A]||{},C=Ye.extend({type:A,origType:w,data:u,handler:s,guid:s.guid,selector:d,needsContext:d&&Ye.expr.match.needsContext.test(d),namespace:D.join(".")},_),(S=v[A])||(S=v[A]=[],S.delegateCount=0,N.setup&&!1!==N.setup.call(t,u,D,T)||(t.addEventListener?t.addEventListener(A,T,!1):t.attachEvent&&t.attachEvent("on"+A,T))),N.add&&(N.add.call(t,C),C.handler.guid||(C.handler.guid=s.guid)),d?S.splice(S.delegateCount++,0,C):S.push(C),Ye.event.global[A]=!0);t=null}},remove:function(t,a,n,s,d){var e=Ye.hasData(t)&&Ye._data(t),r,c,u,y,v,x,_,N,T,C,S;if(e&&(x=e.events)){for(a=(a||"").match(E)||[""],v=a.length;v--;)if(u=at.exec(a[v])||[],T=S=u[1],C=(u[2]||"").split(".").sort(),T){for(_=Ye.event.special[T]||{},T=(s?_.delegateType:_.bindType)||T,N=x[T]||[],u=u[2]&&new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"),y=r=N.length;r--;)c=N[r],!d&&S!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||s&&s!==c.selector&&("**"!==s||!c.selector)||(N.splice(r,1),c.selector&&N.delegateCount--,_.remove&&_.remove.call(t,c));y&&!N.length&&(_.teardown&&!1!==_.teardown.call(t,C,e.handle)||Ye.removeEvent(t,T,e.handle),delete x[T])}else for(T in x)Ye.event.remove(t,T+a[v],n,s,!0);Ye.isEmptyObject(x)&&(delete e.handle,Ye._removeData(t,"events"))}},trigger:function(t,a,n,d){var s=[n||Ve],p=Ke.call(t,"type")?t.type:t,u=Ke.call(t,"namespace")?t.namespace.split("."):[],f,y,v,x,_,N,T;if(v=N=n=n||Ve,3!==n.nodeType&&8!==n.nodeType&&!tt.test(p+Ye.event.triggered)&&(-1<p.indexOf(".")&&(u=p.split("."),p=u.shift(),u.sort()),y=0>p.indexOf(":")&&"on"+p,t=t[Ye.expando]?t:new Ye.Event(p,"object"==typeof t&&t),t.isTrigger=d?2:3,t.namespace=u.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),a=null==a?[t]:Ye.makeArray(a,[t]),_=Ye.event.special[p]||{},d||!_.trigger||!1!==_.trigger.apply(n,a))){if(!d&&!_.noBubble&&!Ye.isWindow(n)){for(x=_.delegateType||p,tt.test(x+p)||(v=v.parentNode);v;v=v.parentNode)s.push(v),N=v;N===(n.ownerDocument||Ve)&&s.push(N.defaultView||N.parentWindow||ee)}for(T=0;(v=s[T++])&&!t.isPropagationStopped();)t.type=1<T?x:_.bindType||p,f=(Ye._data(v,"events")||{})[t.type]&&Ye._data(v,"handle"),f&&f.apply(v,a),f=y&&v[y],f&&f.apply&&B(v)&&(t.result=f.apply(v,a),!1===t.result&&t.preventDefault());if(t.type=p,!d&&!t.isDefaultPrevented()&&(!_._default||!1===_._default.apply(s.pop(),a))&&B(n)&&y&&n[p]&&!Ye.isWindow(n)){N=n[y],N&&(n[y]=null),Ye.event.triggered=p;try{n[p]()}catch(e){}Ye.event.triggered=void 0,N&&(n[y]=N)}return t.result}},dispatch:function(e){e=Ye.event.fix(e);var t=[],n=We.call(arguments),r=(Ye._data(this,"events")||{})[e.type]||[],o=Ye.event.special[e.type]||{},i,l,s,p,m;if(n[0]=e,e.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,e)){for(t=Ye.event.handlers.call(this,e,r),i=0;(p=t[i++])&&!e.isPropagationStopped();)for(e.currentTarget=p.elem,l=0;(m=p.handlers[l++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(m.namespace)||(e.handleObj=m,e.data=m.data,s=((Ye.event.special[m.origType]||{}).handle||m.handler).apply(p.elem,n),void 0!==s&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,e),e.result}},handlers:function(t,a){var n=[],r=a.delegateCount,o=t.target,l,s,p,m;if(r&&o.nodeType&&("click"!==t.type||isNaN(t.button)||1>t.button))for(;o!=this;o=o.parentNode||this)if(1===o.nodeType&&(!0!==o.disabled||"click"!==t.type)){for(s=[],l=0;r>l;l++)m=a[l],p=m.selector+" ",void 0===s[p]&&(s[p]=m.needsContext?-1<Ye(p,this).index(o):Ye.find(p,this,null,[o]).length),s[p]&&s.push(m);s.length&&n.push({elem:o,handlers:s})}return r<a.length&&n.push({elem:this,handlers:a.slice(r)}),n},fix:function(t){if(t[Ye.expando])return t;var n=t.type,r=t,o=this.fixHooks[n],i,d,l;for(o||(this.fixHooks[n]=o=et.test(n)?this.mouseHooks:Ze.test(n)?this.keyHooks:{}),l=o.props?this.props.concat(o.props):this.props,t=new Ye.Event(r),i=l.length;i--;)d=l[i],t[d]=r[d];return t.target||(t.target=r.srcElement||Ve),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,r):t},props:["altKey","bubbles","cancelable","ctrlKey","currentTarget","detail","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which"],fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(e,t){return null==e.which&&(e.which=null==t.charCode?t.keyCode:t.charCode),e}},mouseHooks:{props:["button","buttons","clientX","clientY","fromElement","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"],filter:function(t,a){var n=a.button,r=a.fromElement,o,i,d;return null==t.pageX&&null!=a.clientX&&(i=t.target.ownerDocument||Ve,d=i.documentElement,o=i.body,t.pageX=a.clientX+(d&&d.scrollLeft||o&&o.scrollLeft||0)-(d&&d.clientLeft||o&&o.clientLeft||0),t.pageY=a.clientY+(d&&d.scrollTop||o&&o.scrollTop||0)-(d&&d.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?a.toElement:r),t.which||void 0===n||(t.which=1&n?1:2&n?3:4&n?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ie()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ie()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return Ye.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return Ye.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,a){var n=Ye.extend(new Ye.Event,a,{type:e,isSimulated:!0});Ye.event.trigger(n,null,t),n.isDefaultPrevented()&&a.preventDefault()}},Ye.removeEvent=Ve.removeEventListener?function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a)}:function(e,t,a){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,a))},Ye.Event=function(e,t){return this instanceof Ye.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?re:oe):this.type=e,t&&Ye.extend(this,t),this.timeStamp=e&&e.timeStamp||Ye.now(),void(this[Ye.expando]=!0)):new Ye.Event(e,t)},Ye.Event.prototype={constructor:Ye.Event,isDefaultPrevented:oe,isPropagationStopped:oe,isImmediatePropagationStopped:oe,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=re,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=re,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=re,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Ye.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ye.event.special[e]={delegateType:t,bindType:t,handle:function(n){var a=this,r=n.relatedTarget,e=n.handleObj,o;return r&&(r===a||Ye.contains(a,r))||(n.type=e.origType,o=e.handler.apply(this,arguments),n.type=t),o}}}),Je.submit||(Ye.event.special.submit={setup:function(){return!Ye.nodeName(this,"form")&&void Ye.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,a=Ye.nodeName(t,"input")||Ye.nodeName(t,"button")?Ye.prop(t,"form"):void 0;a&&!Ye._data(a,"submit")&&(Ye.event.add(a,"submit._submit",function(e){e._submitBubble=!0}),Ye._data(a,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&Ye.event.simulate("submit",this.parentNode,e))},teardown:function(){return!Ye.nodeName(this,"form")&&void Ye.event.remove(this,"._submit")}}),Je.change||(Ye.event.special.change={setup:function(){return Qe.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(Ye.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),Ye.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),Ye.event.simulate("change",this,e)})),!1):void Ye.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!Ye._data(t,"change")&&(Ye.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Ye.event.simulate("change",this.parentNode,e)}),Ye._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Ye.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),Je.focusin||Ye.each({focus:"focusin",blur:"focusout"},function(t,n){var a=function(e){Ye.event.simulate(n,e.target,Ye.event.fix(e))};Ye.event.special[n]={setup:function(){var r=this.ownerDocument||this,o=Ye._data(r,n);o||r.addEventListener(t,a,!0),Ye._data(r,n,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Ye._data(r,n)-1;o?Ye._data(r,n,o):(r.removeEventListener(t,a,!0),Ye._removeData(r,n))}}}),Ye.fn.extend({on:function(e,t,a,n){return de(this,e,t,a,n)},one:function(e,t,a,n){return de(this,e,t,a,n,1)},off:function(t,a,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Ye(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,a,t[o]);return this}return!1!==a&&"function"!=typeof a||(n=a,a=void 0),!1===n&&(n=oe),this.each(function(){Ye.event.remove(this,t,n,a)})},trigger:function(e,t){return this.each(function(){Ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];return a?Ye.event.trigger(e,t,a,!0):void 0}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+"abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video"+")[\\s/>]","i"),ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pt=X(Ve),ct=pt.appendChild(Ve.createElement("div"));Ye.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(t,a,n){var r=Ye.contains(t.ownerDocument,t),o,i,l,s,p;if(Je.html5Clone||Ye.isXMLDoc(t)||!rt.test("<"+t.nodeName+">")?l=t.cloneNode(!0):(ct.innerHTML=t.outerHTML,ct.removeChild(l=ct.firstChild)),!(Je.noCloneEvent&&Je.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Ye.isXMLDoc(t)))for(o=Q(l),p=Q(t),s=0;null!=(i=p[s]);++s)o[s]&&me(i,o[s]);if(a)if(n)for(p=p||Q(t),o=o||Q(l),s=0;null!=(i=p[s]);s++)ce(i,o[s]);else ce(t,l);return o=Q(l,"script"),0<o.length&&te(o,!r&&Q(t,"script")),o=p=i=null,l},cleanData:function(t,a){for(var n=0,r=Ye.expando,o=Ye.cache,i=Je.attributes,l=Ye.event.special,s,p,c,m;null!=(s=t[n]);n++)if((a||B(s))&&(c=s[r],m=c&&o[c])){if(m.events)for(p in m.events)l[p]?Ye.event.remove(s,p):Ye.removeEvent(s,p,m.handle);o[c]&&(delete o[c],i||"undefined"==typeof s.removeAttribute?s[r]=void 0:s.removeAttribute(r),Xe.push(c))}}}),Ye.fn.extend({domManip:ue,detach:function(e){return ge(this,e,!0)},remove:function(e){return ge(this,e)},text:function(e){return j(this,function(e){return void 0===e?Ye.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Ve).createTextNode(e))},null,e,arguments.length)},append:function(){return ue(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.appendChild(e)}})},prepend:function(){return ue(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ue(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ue(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++){for(1===t.nodeType&&Ye.cleanData(Q(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&Ye.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ye.clone(this,e,t)})},html:function(e){return j(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(nt,""):void 0;if("string"==typeof e&&!it.test(e)&&(Je.htmlSerialize||!rt.test(e))&&(Je.leadingWhitespace||!_.test(e))&&!G[(W.exec(e)||["",""])[1].toLowerCase()]){e=Ye.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Ye.cleanData(Q(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return ue(this,arguments,function(t){var a=this.parentNode;0>Ye.inArray(this,e)&&(Ye.cleanData(Q(this)),a&&a.replaceChild(t,this))},e)}}),Ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ye.fn[e]=function(n){for(var a=0,r=[],e=Ye(n),o=e.length-1,i;o>=a;a++)i=a==o?this:this.clone(!0),Ye(e[a])[t](i),Ge.apply(r,i.get());return this.pushStack(r)}});var mt={HTML:"block",BODY:"block"},ut=/^margin/,gt=new RegExp("^("+O+")(?!px)[a-z%]+$","i"),ht=function(t,a,n,r){var o={},i,d;for(d in a)o[d]=t.style[d],t.style[d]=a[d];for(d in i=n.apply(t,r||[]),a)t.style[d]=o[d];return i},ft=Ve.documentElement,yt;!function(){var t=Ve.createElement("div"),a=Ve.createElement("div"),n,r,o,d,s,p;if(a.style){function e(){var e=Ve.documentElement,i,c;e.appendChild(t),a.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=p=!1,r=s=!0,ee.getComputedStyle&&(c=ee.getComputedStyle(a),n="1%"!==(c||{}).top,p="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,a.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,i=a.appendChild(Ve.createElement("div")),i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",s=!parseFloat((ee.getComputedStyle(i)||{}).marginRight),a.removeChild(i)),a.style.display="none",d=0===a.getClientRects().length,d&&(a.style.display="",a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a.childNodes[0].style.borderCollapse="separate",i=a.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",d=0===i[0].offsetHeight,d&&(i[0].style.display="",i[1].style.display="none",d=0===i[0].offsetHeight)),e.removeChild(t)}a.style.cssText="float:left;opacity:.5",Je.opacity="0.5"===a.style.opacity,Je.cssFloat=!!a.style.cssFloat,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Je.clearCloneStyle="content-box"===a.style.backgroundClip,t=Ve.createElement("div"),t.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.innerHTML="",t.appendChild(a),Je.boxSizing=""===a.style.boxSizing||""===a.style.MozBoxSizing||""===a.style.WebkitBoxSizing,Ye.extend(Je,{reliableHiddenOffsets:function(){return null==n&&e(),d},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),r},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),p}})}}();var bt=/^(top|right|bottom|left)$/,vt,xt;ee.getComputedStyle?(vt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ee),t.getComputedStyle(e)},xt=function(t,a,n){var r=t.style,o,i,l,s;return n=n||vt(t),s=n?n.getPropertyValue(a)||n[a]:void 0,""!==s&&void 0!==s||Ye.contains(t.ownerDocument,t)||(s=Ye.style(t,a)),n&&!Je.pixelMarginRight()&&gt.test(s)&&ut.test(a)&&(o=r.width,i=r.minWidth,l=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=n.width,r.width=o,r.minWidth=i,r.maxWidth=l),void 0===s?s:s+""}):ft.currentStyle&&(vt=function(e){return e.currentStyle},xt=function(t,a,n){var r=t.style,o,i,l,s;return n=n||vt(t),s=n?n[a]:void 0,null==s&&r&&r[a]&&(s=r[a]),gt.test(s)&&!bt.test(a)&&(o=r.left,i=t.runtimeStyle,l=i&&i.left,l&&(i.left=t.currentStyle.left),r.left="fontSize"===a?"1em":s,s=r.pixelLeft+"px",r.left=o,l&&(i.left=l)),void 0===s?s:s+""||"auto"});var _t=/alpha\([^)]*\)/i,Nt=/opacity\s*=\s*([^)]*)/i,Tt=/^(none|table(?!-c[ea]).+)/,Et=new RegExp("^("+O+")(.*)$","i"),Ct={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:"0",fontWeight:"400"},At=["Webkit","O","Moz","ms"],Dt=Ve.createElement("div").style;Ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=xt(e,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:Je.cssFloat?"cssFloat":"styleFloat"},style:function(t,a,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o=Ye.camelCase(a),d=t.style,i,l,s;if(a=Ye.cssProps[o]||(Ye.cssProps[o]=be(o)||o),s=Ye.cssHooks[a]||Ye.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:d[a];if(l=typeof n,"string"===l&&(i=T.exec(n))&&i[1]&&(n=S(t,a,i),l="number"),null!=n&&n===n&&("number"===l&&(n+=i&&i[3]||(Ye.cssNumber[o]?"":"px")),Je.clearCloneStyle||""!==n||0!==a.indexOf("background")||(d[a]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,r)))))try{d[a]=n}catch(e){}}},css:function(t,a,n,r){var o=Ye.camelCase(a),i,d,l;return a=Ye.cssProps[o]||(Ye.cssProps[o]=be(o)||o),l=Ye.cssHooks[a]||Ye.cssHooks[o],l&&"get"in l&&(d=l.get(t,!0,n)),void 0===d&&(d=xt(t,a,r)),"normal"===d&&a in St&&(d=St[a]),""===n||n?(i=parseFloat(d),!0===n||isFinite(i)?i||0:d):d}}),Ye.each(["height","width"],function(e,t){Ye.cssHooks[t]={get:function(e,a,n){return a?Tt.test(Ye.css(e,"display"))&&0===e.offsetWidth?ht(e,Ct,function(){return Ne(e,t,n)}):Ne(e,t,n):void 0},set:function(n,a,r){var o=r&&vt(n);return xe(n,a,r?_e(n,t,r,Je.boxSizing&&"border-box"===Ye.css(n,"boxSizing",!1,o),o):0)}}}),Je.opacity||(Ye.cssHooks.opacity={get:function(e,t){return Nt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(t,a){var n=t.style,r=t.currentStyle,o=Ye.isNumeric(a)?"alpha(opacity="+100*a+")":"",e=r&&r.filter||n.filter||"";n.zoom=1,(1<=a||""===a)&&""===Ye.trim(e.replace(_t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===a||r&&!r.filter)||(n.filter=_t.test(e)?e.replace(_t,o):e+" "+o)}}),Ye.cssHooks.marginRight=ye(Je.reliableMarginRight,function(e,t){return t?ht(e,{display:"inline-block"},xt,[e,"marginRight"]):void 0}),Ye.cssHooks.marginLeft=ye(Je.reliableMarginLeft,function(e,t){return t?(parseFloat(xt(e,"marginLeft"))||(Ye.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),Ye.each({margin:"",padding:"",border:"Width"},function(t,a){Ye.cssHooks[t+a]={expand:function(n){for(var r=0,o={},e="string"==typeof n?n.split(" "):[n];4>r;r++)o[t+k[r]+a]=e[r]||e[r-2]||e[0];return o}},ut.test(t)||(Ye.cssHooks[t+a].set=xe)}),Ye.fn.extend({css:function(e,t){return j(this,function(t,a,n){var r={},o=0,i,l;if(Ye.isArray(a)){for(i=vt(t),l=a.length;l>o;o++)r[a[o]]=Ye.css(t,a[o],!1,i);return r}return void 0===n?Ye.css(t,a):Ye.style(t,a,n)},e,t,1<arguments.length)},show:function(){return ve(this,!0)},hide:function(){return ve(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){U(this)?Ye(this).show():Ye(this).hide()})}}),Ye.Tween=Te,Te.prototype={constructor:Te,init:function(t,a,n,r,o,e){this.elem=t,this.prop=n,this.easing=o||Ye.easing._default,this.options=a,this.start=this.now=this.cur(),this.end=r,this.unit=e||(Ye.cssNumber[n]?"":"px")},cur:function(){var e=Te.propHooks[this.prop];return e&&e.get?e.get(this):Te.propHooks._default.get(this)},run:function(e){var t=Te.propHooks[this.prop],a;return this.pos=this.options.duration?a=Ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):a=e,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):Te.propHooks._default.set(this),this}},Te.prototype.init.prototype=Te.prototype,Te.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ye.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ye.fx.step[e.prop]?Ye.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[Ye.cssProps[e.prop]]||Ye.cssHooks[e.prop])?Ye.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Te.propHooks.scrollTop=Te.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ye.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},Ye.fx=Te.prototype.init,Ye.fx.step={};var wt=/^(?:toggle|show|hide)$/,It=/queueHooks$/,Mt,Lt;Ye.Animation=Ye.extend(we,{tweeners:{"*":[function(e,t){var a=this.createTween(e,t);return S(a.elem,e,T.exec(t),a),a}]},tweener:function(t,n){Ye.isFunction(t)?(n=t,t=["*"]):t=t.match(E);for(var r=0,o=t.length,e;o>r;r++)e=t[r],we.tweeners[e]=we.tweeners[e]||[],we.tweeners[e].unshift(n)},prefilters:[Ae],prefilter:function(e,t){t?we.prefilters.unshift(e):we.prefilters.push(e)}}),Ye.speed=function(e,t,a){var n=e&&"object"==typeof e?Ye.extend({},e):{complete:a||!a&&t||Ye.isFunction(e)&&e,duration:e,easing:a&&t||t&&!Ye.isFunction(t)&&t};return n.duration=Ye.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Ye.fx.speeds?Ye.fx.speeds[n.duration]:Ye.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){Ye.isFunction(n.old)&&n.old.call(this),n.queue&&Ye.dequeue(this,n.queue)},n},Ye.fn.extend({fadeTo:function(e,t,a,n){return this.filter(U).css("opacity",0).show().end().animate({opacity:t},e,a,n)},animate:function(t,a,n,r){var o=Ye.isEmptyObject(t),e=Ye.speed(a,n,r),i=function(){var a=we(this,Ye.extend({},t),e);(o||Ye._data(this,"finish"))&&a.stop(!0)};return i.finish=i,o||!1===e.queue?this.each(i):this.queue(e.queue,i)},stop:function(t,e,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var a=!0,o=null!=t&&t+"queueHooks",i=Ye.timers,d=Ye._data(this);if(o)d[o]&&d[o].stop&&r(d[o]);else for(o in d)d[o]&&d[o].stop&&It.test(o)&&r(d[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),a=!1,i.splice(o,1));!a&&n||Ye.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var a=Ye._data(this),n=a[t+"queue"],r=a[t+"queueHooks"],e=Ye.timers,o=n?n.length:0,i;for(a.finish=!0,Ye.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),i=e.length;i--;)e[i].elem===this&&e[i].queue===t&&(e[i].anim.stop(!0),e.splice(i,1));for(i=0;o>i;i++)n[i]&&n[i].finish&&n[i].finish.call(this);delete a.finish})}}),Ye.each(["toggle","show","hide"],function(e,t){var n=Ye.fn[t];Ye.fn[t]=function(r,a,o){return null==r||"boolean"==typeof r?n.apply(this,arguments):this.animate(Ce(t,!0),r,a,o)}}),Ye.each({slideDown:Ce("show"),slideUp:Ce("hide"),slideToggle:Ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ye.fn[e]=function(e,a,n){return this.animate(t,e,a,n)}}),Ye.timers=[],Ye.fx.tick=function(){var e=Ye.timers,t=0,n;for(Mt=Ye.now();t<e.length;t++)n=e[t],n()||e[t]!==n||e.splice(t--,1);e.length||Ye.fx.stop(),Mt=void 0},Ye.fx.timer=function(e){Ye.timers.push(e),e()?Ye.fx.start():Ye.timers.pop()},Ye.fx.interval=13,Ye.fx.start=function(){Lt||(Lt=ee.setInterval(Ye.fx.tick,Ye.fx.interval))},Ye.fx.stop=function(){ee.clearInterval(Lt),Lt=null},Ye.fx.speeds={slow:600,fast:200,_default:400},Ye.fn.delay=function(t,e){return t=Ye.fx?Ye.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(a,n){var r=ee.setTimeout(a,t);n.stop=function(){ee.clearTimeout(r)}})},function(){var t=Ve.createElement("input"),n=Ve.createElement("div"),r=Ve.createElement("select"),e=r.appendChild(Ve.createElement("option")),o;n=Ve.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),o=n.getElementsByTagName("a")[0],o.style.cssText="top:1px",Je.getSetAttribute="t"!==n.className,Je.style=/top/.test(o.getAttribute("style")),Je.hrefNormalized="/a"===o.getAttribute("href"),Je.checkOn=!!t.value,Je.optSelected=e.selected,Je.enctype=!!Ve.createElement("form").enctype,r.disabled=!0,Je.optDisabled=!e.disabled,t=Ve.createElement("input"),t.setAttribute("value",""),Je.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),Je.radioValue="t"===t.value}();var Ot=/\r/g,Rt=/[\x20\t\r\n\f]+/g;Ye.fn.extend({val:function(t){var a=this[0],n,e,r;{if(arguments.length)return r=Ye.isFunction(t),this.each(function(a){var o;1===this.nodeType&&(o=r?t.call(this,a,Ye(this).val()):t,null==o?o="":"number"==typeof o?o+="":Ye.isArray(o)&&(o=Ye.map(o,function(e){return null==e?"":e+""})),n=Ye.valHooks[this.type]||Ye.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,o,"value")||(this.value=o))});if(a)return n=Ye.valHooks[a.type]||Ye.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(e=n.get(a,"value"))?e:(e=a.value,"string"==typeof e?e.replace(Ot,""):null==e?"":e)}}}),Ye.extend({valHooks:{option:{get:function(e){var t=Ye.find.attr(e,"value");return null==t?Ye.trim(Ye.text(e)).replace(Rt," "):t}},select:{get:function(t){for(var a=t.options,n=t.selectedIndex,e="select-one"===t.type||0>n,r=e?null:[],o=e?n+1:a.length,d=0>n?o:e?n:0,l,s;o>d;d++)if(s=a[d],(s.selected||d===n)&&(Je.optDisabled?!s.disabled:null===s.getAttribute("disabled"))&&(!s.parentNode.disabled||!Ye.nodeName(s.parentNode,"optgroup"))){if(l=Ye(s).val(),e)return l;r.push(l)}return r},set:function(t,a){for(var n=t.options,e=Ye.makeArray(a),r=n.length,o,i;r--;)if(i=n[r],-1<Ye.inArray(Ye.valHooks.option.get(i),e))try{i.selected=o=!0}catch(e){i.scrollHeight}else i.selected=!1;return o,n}}}}),Ye.each(["radio","checkbox"],function(){Ye.valHooks[this]={set:function(e,t){return Ye.isArray(t)?e.checked=-1<Ye.inArray(Ye(e).val(),t):void 0}},Je.checkOn||(Ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Pt=Ye.expr.attrHandle,Ht=/^(?:checked|selected)$/i,kt=Je.getSetAttribute,Bt=Je.input,$t,Ft;Ye.fn.extend({attr:function(e,t){return j(this,Ye.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Ye.removeAttr(this,e)})}}),Ye.extend({attr:function(t,a,n){var r=t.nodeType,o,i;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?Ye.prop(t,a,n):(1===r&&Ye.isXMLDoc(t)||(a=a.toLowerCase(),i=Ye.attrHooks[a]||(Ye.expr.match.bool.test(a)?Ft:$t)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,a))?o:(o=Ye.find.attr(t,a),null==o?void 0:o):null===n?void Ye.removeAttr(t,a):i&&"set"in i&&void 0!==(o=i.set(t,n,a))?o:(t.setAttribute(a,n+""),n))},attrHooks:{type:{set:function(e,t){if(!Je.radioValue&&"radio"===t&&Ye.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}},removeAttr:function(t,a){var n=0,r=a&&a.match(E),o,i;if(r&&1===t.nodeType)for(;o=r[n++];)i=Ye.propFix[o]||o,Ye.expr.match.bool.test(o)?Bt&&kt||!Ht.test(o)?t[i]=!1:t[Ye.camelCase("default-"+o)]=t[i]=!1:Ye.attr(t,o,""),t.removeAttribute(kt?o:i)}}),Ft={set:function(e,t,a){return!1===t?Ye.removeAttr(e,a):Bt&&kt||!Ht.test(a)?e.setAttribute(!kt&&Ye.propFix[a]||a,a):e[Ye.camelCase("default-"+a)]=e[a]=!0,a}},Ye.each(Ye.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Pt[t]||Ye.find.attr;Pt[t]=Bt&&kt||!Ht.test(t)?function(t,a,r){var o,i;return r||(i=Pt[a],Pt[a]=o,o=null==n(t,a,r)?null:a.toLowerCase(),Pt[a]=i),o}:function(e,t,a){return a?void 0:e[Ye.camelCase("default-"+t)]?t.toLowerCase():null}}),Bt&&kt||(Ye.attrHooks.value={set:function(e,t,a){return Ye.nodeName(e,"input")?void(e.defaultValue=t):$t&&$t.set(e,t,a)}}),kt||($t={set:function(e,t,a){var n=e.getAttributeNode(a);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(a)),n.value=t+="","value"===a||t===e.getAttribute(a)?t:void 0}},Pt.id=Pt.name=Pt.coords=function(e,t,a){var n;return a?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},Ye.valHooks.button={get:function(e,t){var a=e.getAttributeNode(t);return a&&a.specified?a.value:void 0},set:$t.set},Ye.attrHooks.contenteditable={set:function(e,t,a){$t.set(e,""!==t&&t,a)}},Ye.each(["width","height"],function(e,t){Ye.attrHooks[t]={set:function(e,a){return""===a?(e.setAttribute(t,"auto"),a):void 0}}})),Je.style||(Ye.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ut=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;Ye.fn.extend({prop:function(e,t){return j(this,Ye.prop,e,t,1<arguments.length)},removeProp:function(e){return e=Ye.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),Ye.extend({prop:function(t,a,n){var r=t.nodeType,o,i;if(3!==r&&8!==r&&2!==r)return 1===r&&Ye.isXMLDoc(t)||(a=Ye.propFix[a]||a,i=Ye.propHooks[a]),void 0===n?i&&"get"in i&&null!==(o=i.get(t,a))?o:t[a]:i&&"set"in i&&void 0!==(o=i.set(t,n,a))?o:t[a]=n},propHooks:{tabIndex:{get:function(e){var t=Ye.find.attr(e,"tabindex");return t?parseInt(t,10):Ut.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Je.hrefNormalized||Ye.each(["href","src"],function(e,t){Ye.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),Je.optSelected||(Ye.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ye.propFix[this.toLowerCase()]=this}),Je.enctype||(Ye.propFix.enctype="encoding");var zt=/[\t\r\n\f]/g;Ye.fn.extend({addClass:function(t){var a=0,n,r,o,l,s,p,m;if(Ye.isFunction(t))return this.each(function(e){Ye(this).addClass(t.call(this,e,Ie(this)))});if("string"==typeof t&&t)for(n=t.match(E)||[];r=this[a++];)if(l=Ie(r),o=1===r.nodeType&&(" "+l+" ").replace(zt," ")){for(p=0;s=n[p++];)0>o.indexOf(" "+s+" ")&&(o+=s+" ");m=Ye.trim(o),l!==m&&Ye.attr(r,"class",m)}return this},removeClass:function(t){var a=0,n,r,o,l,s,p,m;if(Ye.isFunction(t))return this.each(function(e){Ye(this).removeClass(t.call(this,e,Ie(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(n=t.match(E)||[];r=this[a++];)if(l=Ie(r),o=1===r.nodeType&&(" "+l+" ").replace(zt," ")){for(p=0;s=n[p++];)for(;-1<o.indexOf(" "+s+" ");)o=o.replace(" "+s+" "," ");m=Ye.trim(o),l!==m&&Ye.attr(r,"class",m)}return this},toggleClass:function(t,e){var a=typeof t;return"boolean"==typeof e&&"string"==a?e?this.addClass(t):this.removeClass(t):Ye.isFunction(t)?this.each(function(a){Ye(this).toggleClass(t.call(this,a,Ie(this),e),e)}):this.each(function(){var n,r,o,i;if("string"==a)for(r=0,o=Ye(this),i=t.match(E)||[];n=i[r++];)o.hasClass(n)?o.removeClass(n):o.addClass(n);else void 0!==t&&"boolean"!=a||(n=Ie(this),n&&Ye._data(this,"__className__",n),Ye.attr(this,"class",n||!1===t?"":Ye._data(this,"__className__")||""))})},hasClass:function(e){var t=0,a,n;for(a=" "+e+" ";n=this[t++];)if(1===n.nodeType&&-1<(" "+Ie(n)+" ").replace(zt," ").indexOf(a))return!0;return!1}}),Ye.each(["blur","focus","focusin","focusout","load","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","error","contextmenu"],function(e,t){Ye.fn[t]=function(e,a){return 0<arguments.length?this.on(t,null,e,a):this.trigger(t)}}),Ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Xt=ee.location,Vt=Ye.now(),Wt=/\?/,qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;Ye.parseJSON=function(t){if(ee.JSON&&ee.JSON.parse)return ee.JSON.parse(t+"");var n=null,a=Ye.trim(t+""),r;return a&&!Ye.trim(a.replace(qt,function(t,a,o,e){return r&&a&&(n=0),0===n?t:(r=o||a,n+=!e-!o,"")}))?Function("return "+a)():Ye.error("Invalid JSON: "+t)},Ye.parseXML=function(e){var t,a;if(!e||"string"!=typeof e)return null;try{ee.DOMParser?(a=new ee.DOMParser,t=a.parseFromString(e,"text/xml")):(t=new ee.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(a){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||Ye.error("Invalid XML: "+e),t};var Gt=/#.*$/,Kt=/([?&])_=[^&]*/,Jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Zt=/^\/\//,ea=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ta={},aa={},na="*/".concat("*"),ra=Xt.href,oa=ea.exec(ra.toLowerCase())||[];Ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ra,type:"GET",isLocal:Yt.test(oa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Ye.parseJSON,"text xml":Ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Oe(Oe(e,Ye.ajaxSettings),t):Oe(Ye.ajaxSettings,e)},ajaxPrefilter:Me(ta),ajaxTransport:Me(aa),ajax:function(a,n){function _(a,n,r,i){var e=n,d,c,u,g,h;2!==C&&(C=2,I&&ee.clearTimeout(I),L=void 0,w=i||"",S.readyState=0<a?4:0,d=200<=a&&300>a||304===a,r&&(g=Re(N,S,r)),g=Pe(N,g,S,d),d?(N.ifModified&&(h=S.getResponseHeader("Last-Modified"),h&&(Ye.lastModified[D]=h),h=S.getResponseHeader("etag"),h&&(Ye.etag[D]=h)),204===a||"HEAD"===N.type?e="nocontent":304===a?e="notmodified":(e=g.state,c=g.data,u=g.error,d=!u)):(u=e,!a&&e||(e="error",0>a&&(a=0))),S.status=a,S.statusText=(n||e)+"",d?o.resolveWith(l,[c,e,S]):o.rejectWith(l,[S,e,u]),S.statusCode(T),T=void 0,M&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,N,d?c:u]),p.fireWith(l,[S,e]),M&&(m.trigger("ajaxComplete",[S,N]),--Ye.active||Ye.event.trigger("ajaxStop")))}"object"==typeof a&&(n=a,a=void 0),n=n||{};var N=Ye.ajaxSetup({},n),l=N.context||N,m=N.context&&(l.nodeType||l.jquery)?Ye(l):Ye.event,o=Ye.Deferred(),p=Ye.Callbacks("once memory"),T=N.statusCode||{},y={},s={},C=0,t="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2==C){if(!O)for(O={};t=Jt.exec(w);)O[t[1].toLowerCase()]=t[2];t=O[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2==C?w:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=s[n]=s[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(N.mimeType=e),this},statusCode:function(e){if(e)if(2>C)for(var t in e)T[t]=[T[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var a=e||t;return L&&L.abort(a),_(0,a),this}},x,A,D,w,I,M,L,O;if(o.promise(S).complete=p.add,S.success=S.done,S.error=S.fail,N.url=((a||N.url||ra)+"").replace(Gt,"").replace(Zt,oa[1]+"//"),N.type=n.method||n.type||N.method||N.type,N.dataTypes=Ye.trim(N.dataType||"*").toLowerCase().match(E)||[""],null==N.crossDomain&&(x=ea.exec(N.url.toLowerCase()),N.crossDomain=x&&(x[1]!==oa[1]||x[2]!==oa[2]||(x[3]||("http:"===x[1]?"80":"443"))!==(oa[3]||("http:"===oa[1]?"80":"443")))),N.data&&N.processData&&"string"!=typeof N.data&&(N.data=Ye.param(N.data,N.traditional)),Le(ta,N,n,S),2==C)return S;for(A in M=Ye.event&&N.global,M&&0==Ye.active++&&Ye.event.trigger("ajaxStart"),N.type=N.type.toUpperCase(),N.hasContent=!Qt.test(N.type),D=N.url,N.hasContent||(N.data&&(D=N.url+=(Wt.test(D)?"&":"?")+N.data,delete N.data),!1===N.cache&&(N.url=Kt.test(D)?D.replace(Kt,"$1_="+Vt++):D+(Wt.test(D)?"&":"?")+"_="+Vt++)),N.ifModified&&(Ye.lastModified[D]&&S.setRequestHeader("If-Modified-Since",Ye.lastModified[D]),Ye.etag[D]&&S.setRequestHeader("If-None-Match",Ye.etag[D])),(N.data&&N.hasContent&&!1!==N.contentType||n.contentType)&&S.setRequestHeader("Content-Type",N.contentType),S.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+("*"===N.dataTypes[0]?"":", */*; q=0.01"):N.accepts["*"]),N.headers)S.setRequestHeader(A,N.headers[A]);if(N.beforeSend&&(!1===N.beforeSend.call(l,S,N)||2==C))return S.abort();for(A in t="abort",{success:1,error:1,complete:1})S[A](N[A]);if(L=Le(aa,N,n,S)){if(S.readyState=1,M&&m.trigger("ajaxSend",[S,N]),2==C)return S;N.async&&0<N.timeout&&(I=ee.setTimeout(function(){S.abort("timeout")},N.timeout));try{C=1,L.send(y,_)}catch(e){if(!(2>C))throw e;_(-1,e)}}else _(-1,"No Transport");return S},getJSON:function(e,t,a){return Ye.get(e,t,a,"json")},getScript:function(e,t){return Ye.get(e,void 0,t,"script")}}),Ye.each(["get","post"],function(e,t){Ye[t]=function(n,a,r,o){return Ye.isFunction(a)&&(o=o||r,r=a,a=void 0),Ye.ajax(Ye.extend({url:n,type:t,dataType:o,data:a,success:r},Ye.isPlainObject(n)&&n))}}),Ye._evalUrl=function(e){return Ye.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Ye.fn.extend({wrapAll:function(e){if(Ye.isFunction(e))return this.each(function(t){Ye(this).wrapAll(e.call(this,t))});if(this[0]){var t=Ye(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Ye.isFunction(e)?this.each(function(t){Ye(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ye(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ye.isFunction(e);return this.each(function(a){Ye(this).wrapAll(t?e.call(this,a):e)})},unwrap:function(){return this.parent().each(function(){Ye.nodeName(this,"body")||Ye(this).replaceWith(this.childNodes)}).end()}}),Ye.expr.filters.hidden=function(e){return Je.reliableHiddenOffsets()?0>=e.offsetWidth&&0>=e.offsetHeight&&!e.getClientRects().length:ke(e)},Ye.expr.filters.visible=function(e){return!Ye.expr.filters.hidden(e)};var ia=/%20/g,da=/\[\]$/,la=/\r?\n/g,sa=/^(?:submit|button|image|reset|file)$/i,pa=/^(?:input|select|textarea|keygen)/i;Ye.param=function(t,a){var n=[],r=function(e,t){t=Ye.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},e;if(void 0===a&&(a=Ye.ajaxSettings&&Ye.ajaxSettings.traditional),Ye.isArray(t)||t.jquery&&!Ye.isPlainObject(t))Ye.each(t,function(){r(this.name,this.value)});else for(e in t)Be(e,t[e],a,r);return n.join("&").replace(ia,"+")},Ye.fn.extend({serialize:function(){return Ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ye.prop(this,"elements");return e?Ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ye(this).is(":disabled")&&pa.test(this.nodeName)&&!sa.test(e)&&(this.checked||!V.test(e))}).map(function(e,t){var a=Ye(this).val();return null==a?null:Ye.isArray(a)?Ye.map(a,function(e){return{name:t.name,value:e.replace(la,"\r\n")}}):{name:t.name,value:a.replace(la,"\r\n")}}).get()}}),Ye.ajaxSettings.xhr=void 0===ee.ActiveXObject?$e:function(){return this.isLocal?Fe():8<Ve.documentMode?$e():/^(get|post|head|put|delete|options)$/i.test(this.type)&&$e()||Fe()};var ca=0,ma={},ua=Ye.ajaxSettings.xhr();ee.attachEvent&&ee.attachEvent("onunload",function(){for(var e in ma)ma[e](void 0,!0)}),Je.cors=!!ua&&"withCredentials"in ua,ua=Je.ajax=!!ua,ua&&Ye.ajaxTransport(function(t){if(!t.crossDomain||Je.cors){var n;return{send:function(a,r){var e=t.xhr(),o=++ca,i;if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)e[i]=t.xhrFields[i];for(i in t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)void 0!==a[i]&&e.setRequestHeader(i,a[i]+"");e.send(t.hasContent&&t.data||null),n=function(l,a){var d,s,p;if(n&&(a||4===e.readyState))if(delete ma[o],n=void 0,e.onreadystatechange=Ye.noop,a)4!==e.readyState&&e.abort();else{p={},d=e.status,"string"==typeof e.responseText&&(p.text=e.responseText);try{s=e.statusText}catch(e){s=""}d||!t.isLocal||t.crossDomain?1223===d&&(d=204):d=p.text?200:404}p&&r(d,s,p,e.getAllResponseHeaders())},t.async?4===e.readyState?ee.setTimeout(n):e.onreadystatechange=ma[o]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),Ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ye.globalEval(e),e}}}),Ye.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Ye.ajaxTransport("script",function(t){if(t.crossDomain){var a=Ve.head||Ye("head")[0]||Ve.documentElement,n;return{send:function(r,e){n=Ve.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,a){(a||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,a||e(200,"success"))},a.insertBefore(n,a.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var ga=[],ha=/(=)\?(?=&|$)|\?\?/;Ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ga.pop()||Ye.expando+"_"+Vt++;return this[e]=!0,e}}),Ye.ajaxPrefilter("json jsonp",function(t,a,n){var r=!1!==t.jsonp&&(ha.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ha.test(t.data)&&"data"),o,i,d;return r||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Ye.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(ha,"$1"+o):!1!==t.jsonp&&(t.url+=(Wt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return d||Ye.error(o+" was not called"),d[0]},t.dataTypes[0]="json",i=ee[o],ee[o]=function(){d=arguments},n.always(function(){void 0===i?Ye(ee).removeProp(o):ee[o]=i,t[o]&&(t.jsonpCallback=a.jsonpCallback,ga.push(o)),d&&Ye.isFunction(i)&&i(d[0]),d=i=void 0}),"script"):void 0}),Ye.parseHTML=function(t,a,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof a&&(n=a,a=!1),a=a||Ve;var r=g.exec(t),o=!n&&[];return r?[a.createElement(r[1])]:(r=ne([t],a,o),o&&o.length&&Ye(o).remove(),Ye.merge([],r.childNodes))};var fa=Ye.fn.load;Ye.fn.load=function(t,n,r){if("string"!=typeof t&&fa)return fa.apply(this,arguments);var o=this,i=t.indexOf(" "),l,s,p;return-1<i&&(l=Ye.trim(t.slice(i,t.length)),t=t.slice(0,i)),Ye.isFunction(n)?(r=n,n=void 0):n&&"object"==typeof n&&(s="POST"),0<o.length&&Ye.ajax({url:t,type:s||"GET",dataType:"html",data:n}).done(function(e){p=arguments,o.html(l?Ye("<div>").append(Ye.parseHTML(e)).find(l):e)}).always(r&&function(e,t){o.each(function(){r.apply(this,p||[e.responseText,t,e])})}),this},Ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ye.fn[t]=function(e){return this.on(t,e)}}),Ye.expr.filters.animated=function(e){return Ye.grep(Ye.timers,function(t){return e===t.elem}).length},Ye.offset={setOffset:function(t,a,n){var r=Ye.css(t,"position"),o=Ye(t),l={},s,p,c,m,u,y,v;"static"===r&&(t.style.position="relative"),u=o.offset(),c=Ye.css(t,"top"),y=Ye.css(t,"left"),v=("absolute"===r||"fixed"===r)&&-1<Ye.inArray("auto",[c,y]),v?(s=o.position(),m=s.top,p=s.left):(m=parseFloat(c)||0,p=parseFloat(y)||0),Ye.isFunction(a)&&(a=a.call(t,n,Ye.extend({},u))),null!=a.top&&(l.top=a.top-u.top+m),null!=a.left&&(l.left=a.left-u.left+p),"using"in a?a.using.call(t,l):o.css(l)}},Ye.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Ye.offset.setOffset(this,t,e)});var a={top:0,left:0},n=this[0],e=n&&n.ownerDocument,r,o;if(e)return r=e.documentElement,Ye.contains(r,n)?("undefined"!=typeof n.getBoundingClientRect&&(a=n.getBoundingClientRect()),o=Ue(e),{top:a.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:a.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):a},position:function(){if(this[0]){var e={top:0,left:0},t=this[0],n,r;return"fixed"===Ye.css(t,"position")?r=t.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),Ye.nodeName(n[0],"html")||(e=n.offset()),e.top+=Ye.css(n[0],"borderTopWidth",!0),e.left+=Ye.css(n[0],"borderLeftWidth",!0)),{top:r.top-e.top-Ye.css(t,"marginTop",!0),left:r.left-e.left-Ye.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!Ye.nodeName(e,"html")&&"static"===Ye.css(e,"position");)e=e.offsetParent;return e||ft})}}),Ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);Ye.fn[e]=function(a){return j(this,function(r,a,o){var e=Ue(r);return void 0===o?e?t in e?e[t]:e.document.documentElement[a]:r[a]:void(e?e.scrollTo(n?Ye(e).scrollLeft():o,n?o:Ye(e).scrollTop()):r[a]=o)},e,a,arguments.length,null)}}),Ye.each(["top","left"],function(e,t){Ye.cssHooks[t]=ye(Je.pixelPosition,function(e,a){return a?(a=xt(e,t),gt.test(a)?Ye(e).position()[t]+"px":a):void 0})}),Ye.each({Height:"height",Width:"width"},function(t,a){Ye.each({padding:"inner"+t,content:a,"":"outer"+t},function(n,e){Ye.fn[e]=function(r,o){var e=arguments.length&&(n||"boolean"!=typeof r),i=n||(!0===r||!0===o?"margin":"border");return j(this,function(a,n,r){var o;return Ye.isWindow(a)?a.document.documentElement["client"+t]:9===a.nodeType?(o=a.documentElement,ze(a.body["scroll"+t],o["scroll"+t],a.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?Ye.css(a,n,i):Ye.style(a,n,r,i)},a,e?r:void 0,e,null)}})}),Ye.fn.extend({bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,n){return this.on(t,e,a,n)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)}}),Ye.fn.size=function(){return this.length},Ye.fn.andSelf=Ye.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ye});var ya=ee.jQuery,ba=ee.$;return Ye.noConflict=function(e){return ee.$===Ye&&(ee.$=ba),e&&ee.jQuery===Ye&&(ee.jQuery=ya),Ye},a||(ee.jQuery=ee.$=Ye),Ye}),function(e,t){function a(a){var n=t.console;r[a]||(r[a]=!0,e.migrateWarnings.push(a),n&&n.warn&&!e.migrateMute&&(n.warn("JQMIGRATE: "+a),e.migrateTrace&&n.trace&&n.trace()))}function n(t,n,r,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return a(o),r},set:function(e){a(o),r=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=r}e.oldInit=e.fn.init,e.migrateVersion="1.4.1";var r={};e.migrateWarnings=[],e.migrateMute=!0,t.console&&t.console.log&&!e.migrateMute&&t.console.log("JQMIGRATE: Migrate is installed with logging active, version "+e.migrateVersion),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,i=e.attr,d=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},l=e.attrHooks.value&&e.attrHooks.value.set||function(){},s=/^(?:input|button)$/i,p=/^[238]$/,c=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,m=/^(?:checked|selected)$/i;n(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,r,d){var l=n.toLowerCase(),u=t&&t.nodeType;return d&&(4>i.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),t&&!p.test(u)&&(o?n in o:e.isFunction(e.fn[n])))?e(t)[n](r):("type"===n&&void 0!==r&&s.test(t.nodeName)&&t.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&c.test(l)&&(e.attrHooks[l]={get:function(t,a){var n=e.prop(t,a),r;return!0===n||"boolean"!=typeof n&&(r=t.getAttributeNode(a))&&!1!==r.nodeValue?a.toLowerCase():void 0},set:function(t,a,n){var r;return!1===a?e.removeAttr(t,n):(r=e.propFix[n]||n,r in t&&(t[r]=!0),t.setAttribute(n,n.toLowerCase())),n}},m.test(l)&&a("jQuery.fn.attr('"+l+"') might use property instead of attribute")),i.call(e,t,n,r))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?d.apply(this,arguments):("input"!==n&&"option"!==n&&a("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):void("input"!==n&&"option"!==n&&a("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t)}};var u=e.fn.init,g=e.find,h=e.parseJSON,f=/^\s*</,y=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,b=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/,x,_;e.fn.init=function(t,n,r){var o,i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=v.exec(e.trim(t)))&&o[0]&&(f.test(t)||a("$(html) HTML strings must start with '<' character"),o[3]&&a("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&n.context.nodeType&&(n=n.context),e.parseHTML)?u.call(this,e.parseHTML(o[2],n&&n.ownerDocument||n||document,!0),n,r):(i=u.apply(this,arguments),t&&void 0!==t.selector?(i.selector=t.selector,i.context=t.context):(i.selector="string"==typeof t?t:"",t&&(i.context=t.nodeType?t:n||document)),i)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&y.test(e))try{document.querySelector(e)}catch(n){e=e.replace(b,function(e,t,a,n){return"["+t+a+"\""+n+"\"]"});try{document.querySelector(e),a("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){a("Attribute selector with '#' was not fixed: "+t[0])}}return g.apply(this,t)};for(var N in g)Object.prototype.hasOwnProperty.call(g,N)&&(e.find[N]=g[N]);e.parseJSON=function(e){return e?h.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(x=e.uaMatch(navigator.userAgent),_={},x.browser&&(_[x.browser]=!0,_.version=x.version),_.chrome?_.webkit=!0:_.webkit&&(_.safari=!0),e.browser=_),n(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,n(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),n(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,a){return new t.fn.init(e,a)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(a,r){var o=e.fn.init.call(this,a,r,n);return o instanceof t?o:t(o)},t.fn.init.prototype=t.fn;var n=t(document);return a("jQuery.sub() is deprecated"),t},e.fn.size=function(){return a("jQuery.fn.size() is deprecated; use the .length property"),this.length};var T=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,a){var n=e.cssHooks[a]&&e.cssHooks[a].get;n&&(e.cssHooks[a].get=function(){var e;return T=!0,e=n.apply(this,arguments),T=!1,e})}),e.swap=function(e,t,n,r){var o={},i,d;for(d in T||a("jQuery.swap() is undocumented and deprecated"),t)o[d]=e.style[d],e.style[d]=t[d];for(d in i=n.apply(e,r||[]),t)e.style[d]=o[d];return i},e.ajaxSetup({converters:{"text json":e.parseJSON}});var E=e.fn.data;e.fn.data=function(t){var n=this[0],r,o;return n&&"events"===t&&1===arguments.length&&(r=e.data(n,t),o=e._data(n,t),(void 0===r||r===o)&&void 0!==o)?(a("Use of jQuery.fn.data('events') is deprecated"),o):E.apply(this,arguments)};var C=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,n,r,o){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,a("jQuery.clean() is deprecated");var d=[],l,s,p,c;if(e.merge(d,e.buildFragment(t,n).childNodes),r)for(p=function(e){if(!e.type||C.test(e.type))return o?o.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e)},l=0;null!=(s=d[l]);l++)e.nodeName(s,"script")&&p(s)||(r.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(c=e.grep(e.merge([],s.getElementsByTagName("script")),p),d.splice.apply(d,[l+1,0].concat(c)),l+=c.length));return d});var S=e.event.add,A=e.event.remove,D=e.event.trigger,w=e.fn.toggle,I=e.fn.live,M=e.fn.die,L=e.fn.load,O=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,R=/(?:^|\s)hover(\.\S+|)\b/,P=function(t){return"string"!=typeof t||e.event.special.hover?t:(R.test(t)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(R,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&n(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&O.test(t)&&a("AJAX events should be attached to document: "+t),S.call(this,e,P(t||""),n,r,o)},e.event.remove=function(e,t,a,n,r){A.call(this,e,P(t)||"",a,n,r)},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?L.apply(this,e):(a("jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length)?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)}}),e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return w.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,d=0,l=function(a){var n=(e._data(this,"lastToggle"+t.guid)||0)%d;return e._data(this,"lastToggle"+t.guid,n+1),a.preventDefault(),r[n].apply(this,arguments)||!1};for(l.guid=o;d<r.length;)r[d++].guid=o;return this.click(l)},e.fn.live=function(t,n,r){return(a("jQuery.fn.live() is deprecated"),I)?I.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return(a("jQuery.fn.die() is deprecated"),M)?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||O.test(e)||a("Global events are undocumented and deprecated"),D.call(this,e,t,n||document,r)},e.each(["ajaxStart","ajaxStop","ajaxSend","ajaxComplete","ajaxError","ajaxSuccess"],function(t,a){e.event.special[a]={setup:function(){var t=this;return t!==document&&(e.event.add(document,a+"."+e.guid,function(){e.event.trigger(a,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,a,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,a+"."+e._data(this,a)),!1}}}),e.event.special.ready={setup:function(){this===document&&a("'ready' event is deprecated")}};var H=e.fn.andSelf||e.fn.addBack,k=e.fn.find;if(e.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),H.apply(this,arguments)},e.fn.find=function(e){var t=k.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var B=e.Deferred,F=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=B(),r=n.promise();return n.pipe=r.pipe=function(){var t=arguments;return a("deferred.pipe() is deprecated"),e.Deferred(function(a){e.each(F,function(o,i){var d=e.isFunction(t[o])&&t[o];n[i[1]](function(){var t=d&&d.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[i[0]+"With"](this===r?a.promise():this,d?[t]:arguments)})}),t=null}).promise()},n.isResolved=function(){return a("deferred.isResolved is deprecated"),"resolved"===n.state()},n.isRejected=function(){return a("deferred.isRejected is deprecated"),"rejected"===n.state()},t&&t.call(n,n),n}}}(jQuery,window),function(e){function t(){var t=Array.prototype.slice.apply(arguments);return t.length&&"string"==typeof t[0]&&(t[0]=t[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),e.oldInit.apply(this,t)}t.prototype=e.fn,e.fn.init=t}(jQuery);var goog=goog||{};goog.DEBUG=!1,goog.inherits=function(e,t){function a(){}a.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new a,e.prototype.constructor=e},goog.userAgent||(goog.userAgent=function(){var e="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent);var t=0==e.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:t,IE:!t&&-1!=e.indexOf("MSIE"),WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),goog.asserts||(goog.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(){}}),goog.dom||(goog.dom={},goog.dom.DomHelper=function(e){this.document_=e||document},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),goog.format||(goog.format={insertWordBreaks:function(e,t){e+="";for(var a=[],r=0,o=!1,d=!1,l=0,s=0,p=0,c=e.length,n;p<c;++p)n=e.charCodeAt(p),l>=t&&32!=n&&(a[r++]=e.substring(s,p),s=p,a[r++]=goog.format.WORD_BREAK,l=0),o?62==n&&(o=!1):d?59===n?(d=!1,++l):60===n?(d=!1,o=!0):32===n?(d=!1,l=0):void 0:60===n?o=!0:38===n?d=!0:32===n?l=0:++l;return a[r++]=e.substring(s),a.join("")},WORD_BREAK:goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":"<wbr>"}),goog.i18n||(goog.i18n={bidi:{detectRtlDirectionality:function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiRtlWordRatio_(e)>soyshim.$$bidiRtlDetectionThreshold_}}}),goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},goog.i18n.bidi.toDir=function(e){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.BidiFormatter=function(e){this.dir_=goog.i18n.bidi.toDir(e)},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){var a=soy.$$bidiTextDir(e,t);return a&&a!=this.dir_?0>a?"dir=\"rtl\"":"dir=\"ltr\"":""},goog.i18n.BidiFormatter.prototype.endEdge=function(){return 0>this.dir_?"left":"right"},goog.i18n.BidiFormatter.prototype.mark=function(){return 0<this.dir_?"\u200E":0>this.dir_?"\u200F":""},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){var a=soy.$$bidiTextDir(e,t);return soyshim.$$bidiMarkAfterKnownDir_(this.dir_,a,e,t)},goog.i18n.BidiFormatter.prototype.spanWrap=function(e){e+="";var t=soy.$$bidiTextDir(e,!0),a=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,t,e,!0);return 0<t&&0>=this.dir_?e="<span dir=\"ltr\">"+e+"</span>":0>t&&0<=this.dir_&&(e="<span dir=\"rtl\">"+e+"</span>"),e+a},goog.i18n.BidiFormatter.prototype.startEdge=function(){return 0>this.dir_?"right":"left"},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e){e+="";var t=soy.$$bidiTextDir(e,!0),a=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,t,e,!0);return 0<t&&0>=this.dir_?e="\u202A"+e+"\u202C":0>t&&0<=this.dir_&&(e="\u202B"+e+"\u202C"),e+a},goog.string={newLineToBr:function(e,t){return e+="",goog.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/},goog.string.StringBuffer=function(e){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(e,t){if(goog.userAgent.jscript.HAS_JSCRIPT){if(null==t)this.buffer_[this.bufferLength_++]=e;else{var a=this.buffer_;a.push.apply(a,arguments),this.bufferLength_=this.buffer_.length}}else if(this.buffer_+=e,null!=t)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},goog.soy||(goog.soy={renderAsElement:function(e,t,a,n){return soyshim.$$renderWithWrapper_(e,t,n,!0,a)},renderAsFragment:function(e,t,a,n){return soyshim.$$renderWithWrapper_(e,t,n,!1,a)},renderElement:function(e,t,a,n){e.innerHTML=t(a,null,n)},data:{}}),goog.soy.data.SanitizedContentKind={HTML:{},JS:goog.DEBUG?{sanitizedContentJsStrChars:!0}:{},JS_STR_CHARS:{},URI:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:{},TEXT:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentKind,goog.soy.data.SanitizedContent.prototype.content,goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var soy={esc:{}},soydata={};soydata.VERY_UNSAFE={};var soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */soyshim.$$renderWithWrapper_=function(e,t,a,n,r){var o=a||document,i=o.createElement("div");if(i.innerHTML=e(t||soyshim.$$DEFAULT_TEMPLATE_DATA_,void 0,r),1==i.childNodes.length){var d=i.firstChild;if(!n||1==d.nodeType)return d}if(n)return i;for(var l=o.createDocumentFragment();i.firstChild;)l.appendChild(i.firstChild);return l},soyshim.$$bidiMarkAfterKnownDir_=function(e,t,a,n){return 0<e&&(0>t||soyshim.$$bidiIsRtlExitText_(a,n))?"\u200E":0>e&&(0<t||soyshim.$$bidiIsLtrExitText_(a,n))?"\u200F":""},soyshim.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(soyshim.$$BIDI_HTML_SKIP_RE_," "):e},soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,soyshim.$$bidiLtrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF",soyshim.$$bidiNeutralChars_="\0- !-@[-`{-\xBF\xD7\xF7\u02B9-\u02FF\u2000-\u2BFF",soyshim.$$bidiRtlChars_="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]"),soyshim.$$bidiNeutralDirCheckRe_=new RegExp("^["+soyshim.$$bidiNeutralChars_+"]*$|^http://"),soyshim.$$bidiIsRtlText_=function(e){return soyshim.$$bidiRtlDirCheckRe_.test(e)},soyshim.$$bidiIsNeutralText_=function(e){return soyshim.$$bidiNeutralDirCheckRe_.test(e)},soyshim.$$bidiRtlDetectionThreshold_=.4,soyshim.$$bidiRtlWordRatio_=function(e){for(var t=0,a=0,n=e.split(" "),r=0;r<n.length;r++)soyshim.$$bidiIsRtlText_(n[r])?(t++,a++):soyshim.$$bidiIsNeutralText_(n[r])||a++;return 0==a?0:t/a},soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$"),soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$"),soyshim.$$bidiIsLtrExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiLtrExitDirCheckRe_.test(e)},soyshim.$$bidiIsRtlExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiRtlExitDirCheckRe_.test(e)},soy.StringBuilder=goog.string.StringBuffer,soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind,soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent),soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML,soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent),soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS,soydata.SanitizedJsStrChars=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJsStrChars,goog.soy.data.SanitizedContent),soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS,soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent),soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI,soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent),soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES,soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent),soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS,soydata.UnsanitizedText=function(e){this.content=e+""},goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent),soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT,soydata.$$makeSanitizedContentFactory_=function(e){function t(){}return t.prototype=e.prototype,function(e){var a=new t;return a.content=e+"",a}},soydata.markUnsanitizedText=function(e){return new soydata.UnsanitizedText(e)},soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJs),soydata.VERY_UNSAFE.ordainSanitizedJsStrChars=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJsStrChars),soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedUri),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedCss),soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(e,t,a,n){return goog.soy.renderAsFragment(e,t,n,new goog.dom.DomHelper(a))},soy.renderAsElement=function(e,t,a,n){return goog.soy.renderAsElement(e,t,n,new goog.dom.DomHelper(a))},soy.$$augmentMap=function(e,t){function a(){}a.prototype=e;var n=new a;for(var r in t)n[r]=t[r];return n},soy.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof e+"\").");return e},soy.$$getMapKeys=function(e){var t=[];for(var a in e)t.push(a);return t},soy.$$getDelTemplateId=function(e){return e},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(e,t,a,n){var r="key_"+e+":"+t,o=soy.$$DELEGATE_REGISTRY_PRIORITIES_[r];if(o===void 0||a>o)soy.$$DELEGATE_REGISTRY_PRIORITIES_[r]=a,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[r]=n;else if(a==o)throw Error("Encountered two active delegates with the same priority (\""+e+":"+t+"\").");else;},soy.$$getDelegateFn=function(e,t,a){var n=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+t];if(n||""==t||(n=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),n)return n;if(a)return soy.$$EMPTY_TEMPLATE_FN_;throw Error("Found no active impl for delegate call to \""+e+":"+t+"\" (and not allowemptydefault=\"true\").")},soy.$$EMPTY_TEMPLATE_FN_=function(){return""},soy.$$escapeHtml=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e.content):soy.esc.$$escapeHtmlHelper(e)},soy.$$cleanHtml=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e.content):soy.$$stripHtmlTags(e,soy.esc.$$SAFE_TAG_WHITELIST_)},soy.$$escapeHtmlRcdata=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(e.content)):soy.esc.$$escapeHtmlHelper(e)},soy.$$HTML5_VOID_ELEMENTS_=/^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\b/,soy.$$stripHtmlTags=function(e,t){if(!t)return(e+"").replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;");var a=(e+"").replace(/\[/g,"&#91;"),n=[];a=a.replace(soy.esc.$$HTML_TAG_REGEX_,function(e,a){if(a&&(a=a.toLowerCase(),t.hasOwnProperty(a)&&t[a])){var r="/"===e.charAt(1)?"</":"<",o=n.length;return n[o]=r+a+">","["+o+"]"}return""}),a=soy.esc.$$normalizeHtmlHelper(a);var r=soy.$$balanceTags_(n);return a=a.replace(/\[(\d+)\]/g,function(e,t){return n[t]}),a+r},soy.$$balanceTags_=function(e){for(var t=[],a=0,r=e.length,n;a<r;++a)if(n=e[a],"/"===n.charAt(1)){for(var o=t.length-1;0<=o&&t[o]!=n;)o--;0>o?e[a]="":(e[a]=t.slice(o).reverse().join(""),t.length=o)}else soy.$$HTML5_VOID_ELEMENTS_.test(n)||t.push("</"+n.substring(1));return t.reverse().join("")},soy.$$escapeHtmlAttribute=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlAttributeNospace=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlNospaceHelper(e)},soy.$$filterHtmlAttributes=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.ATTRIBUTES?(goog.asserts.assert(e.constructor===soydata.SanitizedHtmlAttribute),e.content.replace(/([^"'\s])$/,"$1 ")):soy.esc.$$filterHtmlAttributesHelper(e)},soy.$$filterHtmlElementName=function(e){return soy.esc.$$filterHtmlElementNameHelper(e)},soy.$$escapeJs=function(e){return soy.$$escapeJsString(e)},soy.$$escapeJsString=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.JS_STR_CHARS?(goog.asserts.assert(e.constructor===soydata.SanitizedJsStrChars),e.content):soy.esc.$$escapeJsStringHelper(e)},soy.$$escapeJsValue=function(e){if(null==e)return" null ";if(e.contentKind==goog.soy.data.SanitizedContentKind.JS)return goog.asserts.assert(e.constructor===soydata.SanitizedJs),e.content;switch(typeof e){case"boolean":case"number":return" "+e+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(e+"")+"'";}},soy.$$escapeJsRegex=function(e){return soy.esc.$$escapeJsRegexHelper(e)},soy.$$problematicUriMarks_=/['()]/g,soy.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},soy.$$escapeUri=function(e){if(e&&e.contentKind===goog.soy.data.SanitizedContentKind.URI)return goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e);var t=soy.esc.$$escapeUriHelper(e);return soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(t)?t.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):t},soy.$$normalizeUri=function(e){return soy.esc.$$normalizeUriHelper(e)},soy.$$filterNormalizeUri=function(e){return e&&e.contentKind==goog.soy.data.SanitizedContentKind.URI?(goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e)):soy.esc.$$filterNormalizeUriHelper(e)},soy.$$escapeCssString=function(e){return soy.esc.$$escapeCssStringHelper(e)},soy.$$filterCssValue=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.CSS?(goog.asserts.assert(e.constructor===soydata.SanitizedCss),e.content):null==e?"":soy.esc.$$filterCssValueHelper(e)},soy.$$filterNoAutoescape=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.TEXT?(goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e+""},soy.$$changeNewlineToBr=function(e){return goog.string.newLineToBr(e+"",!1)},soy.$$insertWordBreaks=function(e,t){return goog.format.insertWordBreaks(e+"",t)},soy.$$truncate=function(e,t,a){return(e+="",e.length<=t)?e:(a&&(3<t?t-=3:a=!1),soy.$$isHighSurrogate_(e.charAt(t-1))&&soy.$$isLowSurrogate_(e.charAt(t))&&(t-=1),e=e.substring(0,t),a&&(e+="..."),e)},soy.$$isHighSurrogate_=function(e){return 55296<=e&&56319>=e},soy.$$isLowSurrogate_=function(e){return 56320<=e&&57343>=e},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){return e?goog.i18n.bidi.detectRtlDirectionality(e,t)?-1:1:0},soy.$$bidiDirAttr=function(e,t,a){return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(e).dirAttr(t,a))},soy.$$bidiMarkAfter=function(e,t,a){var n=soy.$$getBidiFormatterInstance_(e);return n.markAfter(t,a)},soy.$$bidiSpanWrap=function(e,t){var a=soy.$$getBidiFormatterInstance_(e);return a.spanWrap(t+"",!0)},soy.$$bidiUnicodeWrap=function(e,t){var a=soy.$$getBidiFormatterInstance_(e);return a.unicodeWrap(t+"",!0)},soy.esc.$$escapeUriHelper=function(e){return encodeURIComponent(e+"")},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={" ":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={" ":"\\x00","":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={" ":"\\0 ","":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={" ":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","":"%08","	":"%09","\n":"%0A","":"%0B","":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]},soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$escapeHtmlHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(e){var t=e+"";return soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(t)?t:"zSoyz"},soy.esc.$$normalizeUriHelper=function(e){return(e+"").replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},soy.esc.$$filterNormalizeUriHelper=function(e){var t=e+"";return soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(t)?t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},soy.esc.$$filterHtmlAttributesHelper=function(e){var t=e+"";return soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(t)?t:"zSoyz"},soy.esc.$$filterHtmlElementNameHelper=function(e){var t=e+"";return soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(t)?t:"zSoyz"},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,soy.esc.$$LT_REGEX_=/</g,soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},new function(){var et=String.trim,tt=Math.round,nt=String.prototype,rt=Math.min,ot=String.fromCharCode,it=Math.max;function e(e,t){if(t){for(var a in t)$t.call(t,a)&&(e[a]=t[a]);if(window.ActiveXObject)for(var n=0;n<Bt.length;++n)a=Bt[n],$t.call(t,a)&&(e[a]=t[a])}return e}function r(e,t,a){for(var n=0,r=e.length;n<r;n++)t.apply(e[n],a||[n,e[n]])}function p(e,t){for(;e;e=e.parentNode)if(e==t)return!0;return!1}function c(e){return"U+"+("0000"+e.keyCode.toString(16).toUpperCase()).slice(-4)}function u(e){var t=[];return e.altKey&&t.push("Alt"),e.ctrlKey&&t.push("Control"),e.metaKey&&t.push("Meta"),e.shiftKey&&t.push("Shift"),t.join(" ")}function y(e){if(Ut!=e){var t=Ut;t&&t!=e&&x(t),Ut=e}}function x(e){if(Ut==e){Ut=null;var t=new b$.bdom.events.UIEvent;t.initUIEvent("untrap",!1,!1,window,null),e.dispatchEvent(t)}}function _(e){var t={},a;if(e)if(e.getBoundingClientRect)t=e.getBoundingClientRect();else{for(a=e;a;a=a.offsetParent)t.left+=a.offsetLeft,t.top+=a.offsetTop;for(a=e;1==a.nodeType;a=a.parentNode)t.left-=a.scrollLeft,t.top-=a.scrollTop;t.right=nLeft+e.offsetWidth,t.bottom=nTop+e.offsetHeight}return t}function N(e,t,a,n){e.addEventListener?e.addEventListener(t,a,n):e.attachEvent("on"+t,a)}function A(e,t,a,n){e.removeEventListener?e.removeEventListener(t,a,n):e.detachEvent("on"+t,a)}function S(e){return b$.getVC(e.srcElement||e.target)}function D(e){var t=e.button;return Rt?4==t?1:2==t?2:0:t}function w(e,t){return!e.defaultPrevented||(t.preventDefault&&t.preventDefault(),!1)}function I(e){return e||(e=window.event),e.returnValue=!1,e.preventDefault&&e.preventDefault(),!1}function R(e,t,a,n){return R="addEventListener"in e?function(e,t,a,n){e.addEventListener(t,a,!!n)}:function(e,t,a){e.aListeners||(e.aListeners=[]);var n=function(t){if(t||(t=event),!t)if(this.myWindow)t=this.myWindow.window.event;else return;return t.target=t.srcElement,t.pageX=t.clientX,t.pageY=t.clientY,a.call(e,t)};e.aListeners[e.aListeners.length]={type:t,listener:a,closure:n},e.attachEvent("on"+t,n)},R(e,t,a,n)}function P(e,t,a,n){return P="removeEventListener"in e?function(e,t,a,n){e.removeEventListener(t,a,!!n)}:function(e,t,a){if(!e.aListeners)e.detachEvent("on"+t,a);else for(var n=0,r=e.aListeners.length,o;n<r;n++)o=e.aListeners[n],o&&a==o.listener&&t==o.type&&(e.detachEvent("on"+t,o.closure),e.aListeners[n].closure=null,e.aListeners[n].listener=null,e.aListeners[n]=null)},P(e,t,a,n)}function j(e){var t=new h;if(Mt){var a=e.indexOf("<?xml ");0<=a&&(e=e.substr(e.indexOf("?>",a+1)+2))}try{var n=t.parseFromString(e,"text/xml");return n}catch(e){alert("XMLHelper.parse: "+e.message)}}function z(e){var t=[];for(e=e.firstChild;e;e=e.nextSibling)t.push(e.nodeValue?e.nodeValue:"");return t.join("")}function q(e,t,a){return"getElementsByTagNameNS"in e?Array.prototype.slice.call(e.getElementsByTagNameNS(t,a)):("getElementsByTagName"in e,[])}function K(e,t){return te(e,t||null)}function te(e,t){switch(e.nodeType){case 1:if(e.namespaceURI&&e.prefix==t)return e.namespaceURI;for(var a=0,n=e.attributes,r;r=n[a++];){if("xmlns"==r.prefix&&(r.localName||r.baseName)==t)return r.nodeValue?r.nodeValue:null;if("xmlns"==r.nodeName&&!t)return r.nodeValue?r.nodeValue:null}return e.parentNode&&1==e.parentNode.nodeType?te(e.parentNode,t):null;case 9:return te(e.documentElement,t);case 6:case 12:case 10:case 11:return null;case 2:return e.ownerElement?te(e.ownerElement,t):null;default:return e.parentNode&&1==e.parentNode.nodeType?te(e.parentNode,t):null;}}function ne(e,t){if(e.lookupPrefix)return e.lookupPrefix(t)||null;if(!t)return null;switch(e.nodeType){case 1:return X(e,t);case 9:return X(e.documentElement,t);case 6:case 12:case 11:case 10:return null;case 2:return e.ownerElement?X(e.ownerElement,t):null;default:return e.parentNode?X(e.parentNode,t):null;}}function X(e,t,a){if(a||(a=e),e.namespaceURI&&e.namespaceURI==t&&e.prefix&&K(a,e.prefix)==t)return e.prefix;for(var n=0,r=e.attributes,o;o=r[n++];)if("xmlns"==o.prefix&&o.nodeValue==t&&K(a,o.localName||o.baseName||o.nodeName)==t)return o.localName||o.baseName;return e.parentNode&&1==e.parentNode.nodeType?X(e.parentNode,t,a):null}function re(e,t){if("isDefaultNamespace"in e)return e.isDefaultNamespace(t);switch(e.nodeType){case 1:var a;return e.prefix?e.getAttribute("xmlns")?e.getAttribute("xmlns")==t:e.parentNode&&e.parentNode.nodeType==ct?re(e.parentNode,t):!!(a=bb.Core_oAttributePd[e.getAttribute(bb.Core_sAttributePdName)])&&re(a,t):e.namespaceURI==t;case 9:return re(e.documentElement,t);case 6:case 12:case 10:case 11:return!1;case 2:return!!e.ownerElement&&re(e.ownerElement,t);default:return!!(e.parentNode&&1==e.parentNode.nodeType)&&re(e.parentNode,t);}}function M(e,t){return"hasAttribute"in e?e.hasAttribute(t):null!==e.getAttribute(t)}function oe(e,t,a){return"hasAttributeNS"in e?e.hasAttributeNS(t,a):!!e.attributes.getQualifiedItem(a,t||"")}function ie(e,t,a){if("getAttributeNS"in e)return e.getAttributeNS(t,a);var n=e.attributes.getQualifiedItem(a,t||"");return n?n.nodeValue:""}function le(e,t,a){return"removeAttributeNS"in e?e.removeAttributeNS(t,a):e.attributes.removeQualifiedItem(a,t||"")}function se(e,t,a,n){if("setAttributeNS"in e)return e.setAttributeNS(t,a,n);var r=0;if(!t)return void e.setAttribute(a,n);var o=a.split(":"),i=o.pop(),d=o.pop()||ne(e,t)||"a"+r++,l;l=e.attributes.getQualifiedItem(i,t),l&&l.prefix==d||(l=e.ownerDocument.createNode(2,d?d+":"+i:i,t),e.setAttributeNode(l)),l.nodeValue=n}function pe(e){if(!(Pt&&2==e.button)){var t=S(e),a=D(e),n=!1,r=new b$.bdom.events.MouseEvent;return Ut&&!p(t,Ut)&&(t=Ut,n=!0),t&&(r.initMouseEvent("click",!0,!0,window,e.detail||1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),r.htmlTarget=e.srcElement||e.target,t.dispatchEvent(r)),n&&r.preventDefault(),w(r,e)}}function ee(e){var t=S(e),a=D(e),n=new b$.bdom.events.MouseEvent;Ut&&!p(t,Ut)&&(t=Ut),t&&(n.initMouseEvent("dblclick",!0,!0,window,e.detail||2,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),n.htmlTarget=e.srcElement||e.target,t.dispatchEvent(n))}function me(e){var t=S(e),a=D(e),n=!1,r=new b$.bdom.events.MouseEvent;return Ut&&!p(t,Ut)&&(t=Ut,n=!0),t&&(r.initMouseEvent("mousedown",!0,!0,window,e.detail||1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),r.htmlTarget=e.srcElement||e.target,t.dispatchEvent(r),n&&r.preventDefault()),w(r,e)}function ue(e){var t=S(e),a=D(e),n=new b$.bdom.events.MouseEvent;return Ut&&!p(t,Ut)&&(t=Ut),t&&(n.initMouseEvent("mouseup",!0,!0,window,e.detail||1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),n.htmlTarget=e.srcElement||e.target,t.dispatchEvent(n)),w(n,e)}function ge(e){var t=S(e),a=D(e),n=new b$.bdom.events.MouseEvent,r;Ut&&!p(t,Ut)&&(t=Ut);var o=-1,i=[];if(jt[0]!=t){for(r=t;r&&9!=r.nodeType;r=r.parentNode)i.push(r),-1==o&&(o=jt.indexOf(r));-1==o&&(o=jt.length);for(var d=0;d<o;d++)r=jt[d],n=new b$.bdom.events.MouseEvent,n.initMouseEvent("mouseleave",!1,!1,window,null,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,jt[d+1]||null),r.dispatchEvent(n);for(var d=o+i.length-jt.length;0<d;d--)r=i[d-1],n=new b$.bdom.events.MouseEvent,n.initMouseEvent("mouseenter",!1,!1,window,null,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,i[d]||null),r.dispatchEvent(n);jt=i}return t&&(n=new b$.bdom.events.MouseEvent,n.initMouseEvent("mousemove",!0,!0,window,null,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),t.dispatchEvent(n)),w(n,e)}function he(e){var t=S(e),a=D(e),n=new b$.bdom.events.MouseEvent;if(t){if(Ut&&!p(t,Ut)&&(t=Ut),t==Vt)return;if(Vt){var r=new b$.bdom.events.MouseEvent;r.initMouseEvent("mouseout",!0,!0,window,null,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),Vt.dispatchEvent(r)}n.initMouseEvent("mouseover",!0,!0,window,null,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,a,null),t.dispatchEvent(n),Vt=t}return w(n,e)}function fe(e){var t=S(e),a=D(e),n=new b$.bdom.events.KeyboardEvent;if(t)return Ut&&!p(t,Ut)&&(t=Ut),n.initKeyboardEvent("keydown",!0,!0,window,c(e),null,u(e)),t.dispatchEvent(n),w(n,e)}function ye(e){var t=S(e),a=e.srcElement||e.target;t&&k(t,a)}function k(e,t){if(e!=zt){zt&&ve(zt,Xt),zt=e,Xt=t;var a=new b$.bdom.events.FocusEvent;a.initFocusEvent("focus",!1,!1,window,null,null),a.htmlTarget=t,e.dispatchEvent(a);var a=new b$.bdom.events.FocusEvent;a.initFocusEvent("DOMFocusIn",!0,!1,window,null,null),a.htmlTarget=t,e.dispatchEvent(a)}}function be(e){var t=S(e),a=e.srcElement||e.target;t&&ve(t,a)}function ve(e,t){if(e==zt){zt=null,Xt=null;var a=new b$.bdom.events.FocusEvent;a.initFocusEvent("blur",!1,!1,window,null,null),a.htmlTarget=t,e.dispatchEvent(a);var a=new b$.bdom.events.FocusEvent;a.initFocusEvent("DOMFocusOut",!0,!1,window,null,null),a.htmlTarget=t,e.dispatchEvent(a)}}function xe(){b$.getVC&&(C(),Wt||(Wt=!0,N(m,"click",pe),N(m,"dblclick",ee),N(m,"mousedown",me),N(m,"mouseup",ue),N(m,"mousemove",ge),N(m,"mouseover",he),N(m,"activate",ye,!0),N(m,"focus",ye,!0),N(m,"blur",be,!0),N(m,"keydown",fe),b$._private.htmlAPI.init(),b$._private.resourceManager.addPageHeadResources(),b$.bdom.util.startup(document)))}function _e(){A(m,"click",pe),A(m,"dblclick",ee),A(m,"mousedown",me),A(m,"mouseup",ue);for(var e=b$.bdom.domImplementation.documents;e[0];)b$.bdom.domImplementation.destroyDocument(e[0])}function C(){if(!window.b$||!window.b$.ua||!window.b$.ua.querySelector){b$.ua={};var e=null;window.Sizzle?e=window.Sizzle:window.jQuery&&(e=window.jQuery.find),e&&(b$.ua.querySelector=function(e,t){if(b$.ua.matchesSelector(e,t))return e;for(var a=e.firstChild;a;){var n=b$.ua.querySelector(a,t);if(n)return n;a=a.nextSibling}return null},b$.ua.querySelectorAll=function(t,a){return e(a,t)},b$.ua.queryAncestor=function(e,t,a){if(b$.ua.matchesSelector(e,t))return e;for(var n=e.parentNode;n&&1==n.nodeType;){if(b$.ua.matchesSelector(n,t))return n;if(n=n.parentNode,n==a)break}return null},b$.bdom.Document.prototype.querySelectorAll=function(t,a){return e(a,t)},b$.ua.matchesSelector=e.matchesSelector,b$.ua.matches=e.matches);var t=e;b$.find=t,b$.expr=t.selectors,jQuery.expr.pseudos&&(b$.expr[":"]=jQuery.expr.pseudos),b$.unique=t.uniqueSort,b$.text=t.getText,b$.isXMLDoc=t.isXML,b$.contains=t.contains,b$.ua.dom_isDescendant=p,b$.ua.getBoundingClientRect=_,b$.ua.setMouseTrap=y,b$.ua.releaseMouseTrap=x}else b$.ua=window.b$.ua}function Ne(t,a,n,r){a=a||function(){t.apply(this,arguments)},e(a,t),r&&e(a,r);var o=new Function;return o.prototype=t.prototype,a.prototype=e(new o,n),a.prototype.constructor=a,a.superClass=t,a}function Te(e,t){if(t instanceof Jt)return t.test(e);if(t instanceof Function)return e instanceof t;throw new Error("Wrong type passed to checkType().")}function Ee(e){var t=dt,a=e.split(".");if(1==a.length&&""==a[0])return t;for(var n=0;n<a.length;n++)if(a[n]in t)t=t[a[n]];else{var r=new Error("Cannot find object \""+e+"\".");if(r.stack){var o=r.stack&&r.stack.split("\n")[2],i=o&&o.match(/^[^@]*@(.*):(\d+)$/);i&&i[1]&&i[2]&&(r=new Error(r.message,i[1],+i[2]))}throw r}return t}function Ce(e){var t=unescape(e);return xa.test(t)?t:e.toUpperCase()}function Se(e,t,a,n){return(t||"")+a.toLowerCase()+(n||"")}function Ae(e,t){if(t==e)return 0;var a=[],n=[],r,o,i,d,l,s;for(l=e;l;l=l.parentNode)a.push(l);for(l=t;l;l=l.parentNode)n.push(l);if((e.ownerDocument||e)!=(t.ownerDocument||t)||a[a.length-1]!=n[n.length-1])return 33;for(s=rt(r=a.length,i=n.length);s;--s)if((o=aChain1[--r])!=(d=n[--i])){if(!d.nextSibling)return 4;if(!o.nextSibling)return 1;for(l=d.previousSibling;l;l=l.previousSibling)if(l==o)return 4;return 2}return r<i?20:10}function De(e,t){return e.dispatchEvent(t)}function we(e,t,a){t.parentNode&&Ie(t.parentNode,t),e.node&&e.node.insertBefore(t.node,a.node),t.parentNode=e;var n=a.previousSibling;n?(t.previousSibling=n,n.nextSibling=t):e.firstChild=t,t.nextSibling=a,a.previousSibling=t,e.childNodes.add(t,e.childNodes.indexOf(a));var r=new b$.bdom.events.MutationEvent;return r.initMutationEvent("DOMNodeInserted",!0,!1,e,null,null,null,null),De(t,r),t}function Ie(e,t){var a=t.previousSibling,n=t.nextSibling;e.node&&e.node.removeChild(t.node);var r=new b$.bdom.events.MutationEvent;return r.initMutationEvent("DOMNodeRemoved",!0,!1,e,null,null,null,null),De(t,r),a?a.nextSibling=n:e.firstChild=n,n?n.previousSibling=a:e.lastChild=a,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,e.childNodes.remove(t)}function Me(e,t,a){return we(e,t,a),Ie(e,a)}function Le(e,t){t.parentNode&&Ie(t.parentNode,t),e.node&&e.node.appendChild(t.node),t.parentNode=e;var a=e.lastChild;a?(t.previousSibling=a,a.nextSibling=t):e.firstChild=t,e.lastChild=t,e.childNodes.add(t);var n=new b$.bdom.events.MutationEvent;return n.initMutationEvent("DOMNodeInserted",!0,!1,e,null,null,null,null),De(t,n),t}function Oe(){throw new Error("Can not set read-only property.")}function Re(e,t){t.push(e);for(var a=e.childNodes,n=0;n<a.length;n++)Re(a[n],t)}function Pe(e){var t=[];Re(e,t),3==e.nodeType&&e.htmlNode&&e.htmlNode.parentNode&&e.htmlNode.parentNode.removeChild(e.htmlNode),e.parentNode&&e.parentNode.removeChild(e);for(var a=0;a<t.length;a++)e=t[a],e.dispatchCustomEvent("destroy",!1,!1),e.node=null,e.attributes=null,e.childNodes=null,e.local_listeners=null,e.layout=null,e.ownerDocument&&delete e.ownerDocument.all[e._jxid],e.ownerDocument=null,delete e}function He(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function ke(e){var t=[],a=0;switch(e.nodeType){case 1:var n;t.push("<"+e.nodeName),n=e.attributes;for(var r=0,o=n.length;r<o;r++)"_jxid"!=n[r].nodeName&&t.push(" "+n[r].nodeName+"=\""+He(n[r].nodeValue+"")+"\"");if(e.hasChildNodes()){for(t.push(">");a<e.childNodes.length;)t.push(ke(e.childNodes[a++]));t.push("</"+e.nodeName+">")}else t.push("/>");break;case 3:t.push(He(e.nodeValue));break;case 4:t.push("<![CDATA["+e.nodeValue+"]]>");break;case 7:t.push("<?"+e.nodeName+" "+e.nodeValue+"?>");break;case 8:t.push("<!--"+e.nodeValue+"-->");break;case 11:case 9:for(;a<e.childNodes.length;)t.push(ke(e.childNodes[a++]));}return e.nextSibling&&t.push("\n"),t.join("")}function a(e,t){for(var a in t)if(t.hasOwnProperty(a)){e[a]||(e[a]=[]);for(var n=0,r=t[a].length;n<r;n++)e[a].push(t[a][n])}return e}function Be(e){return this[e]}function $e(e,t){return 1<arguments.length?this.splice(t,0,e):this.push(e),e}function Fe(e){return this.splice(this.indexOf(e),1),e}function Ue(e,t,a){return we(e,t,a),e.ownerDocument.all[e._jxid]&&e.ownerDocument._checkin(t),t}function je(e,t){return e.ownerDocument.all[e._jxid]&&e.ownerDocument._checkout(t),Ie(e,t),t}function l(e,t,a){return e.ownerDocument._checkout(a),Me(e,t,a),e.ownerDocument.all[e._jxid]&&e.ownerDocument._checkin(t),t}function ze(e,t){return Le(e,t),e.ownerDocument.all[e._jxid]&&e.ownerDocument._checkin(t),t}function Xe(e,t){function a(){return e.apply(this,t)}return a.prototype=e.prototype,new a}function Ve(e,t,a,n){var r,o,i;if("getElementsByTagNameNS"in e.node)r=e.node.getElementsByTagNameNS(a,n);else for(r=[],aAll=e.node.getElementsByTagName("*"),bNamespaceURIStar="*"==a,bLocalNameStar="*"==n,(o=0,i=aAll.length);o<i;o++)(bNamespaceURIStar||aAll[o].namespaceURI==a)&&(bLocalNameStar||aAll[o].baseName==n||aAll[o].localName==n)&&r.push(aAll[o]);var d=[];for(o=0,i=r.length;o<i;o++){var l=t.getControllerFromModel(r[o]);l&&d.push(l)}return d}function v(e,t,a,n){var r=null;switch(t.nodeType){case 1:var o=t.namespaceURI,i=t.localName||t.baseName;if(Rt&&!o&&(o=function(e){for(;(e=e.parentNode)&&5!=e.nodeType;);return e&&e.parentNode?e.parentNode.namespaceURI:null}(t)),r=e.createElementNS(o,t.localName||t.baseName,t.cloneNode(!1)),window.DBG&&console.log("................................................................created "+t.localName),n&&(window.DBG&&console.log("................................................................append "+t.localName),window.DBG&&console.log(n.appendChild),n.appendChild(r)),a)for(var d=t.firstChild;d;)v(e,d,a,r),d=d.nextSibling;return r;case 3:var l=t.nodeValue;if(!l.trim){var s=/^\s+/,p=/\s+$/;l=l.toString().replace(s,"").replace(p,"")}else l=l.trim();return""!==l&&(r=e.createTextNode(t.nodeValue,r),n&&n.appendChild(r)),r;break;case 4:break;case 5:case 7:break;case 8:break;case 9:case 10:default:throw"Not supported "+t.nodeType;}return r}function We(e,t,a,n,r){var o=new b$.bdom.events.CustomEvent;return o.initCustomEventNS(null,t,a,n,r),Xa(e,o)}function qe(e,t,a){var n=e.substring(e.indexOf("<"),e.indexOf("?>"));"?"==n[1]&&(e=e.substring(e.indexOf(">")+2,e.length));var n=e.substring(0,e.indexOf(">"));if(-1==n.indexOf("xmlns=")){n="";for(var r=t.documentElement,o=r.attributes,i=0,d=o.length,l,s;i<d;i++)s=o[i],"xmlns"==s.name?(n+=" xmlns=\""+s.value+"\"",l=!0):"xmlns"==s.prefix&&(n+=" xmlns:"+(s.baseName||s.localName)+"=\""+s.value+"\"");if(a)for(var o=a.attributes,i=0,d=o.length;i<d;i++){var s=o[i],p=-1!=s.name.indexOf("xmlns:")&&s.name.substring(s.name.indexOf(":")+1,s.name.length);"xmlns"!=s.name||l?"xmlns"==s.prefix?n+=" xmlns:"+(s.baseName||s.localName)+"=\""+s.value+"\"":p&&(n+=" xmlns:"+p+"=\""+s.value+"\""):(n+=" xmlns=\""+s.value+"\"",l=!0)}l||(n+=" xmlns=\"http://www.w3.org/1999/xhtml\"")}else n="";e="<bbb:div xmlns:bbb=\"http://www.w3.org/1999/xhtml\""+n+">"+e+"</bbb:div>";var c=new h().parseFromString(e,"application/xml");c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||(console.log("Invalid XML: "+e),console.dirxml(c));for(var m=[],u=c.documentElement.firstChild;u;){var g=t.importNode(u,!0);g&&m.push(t.importNode(u,!0)),u=u.nextSibling}return m}function I(e){return e||(e=window.event),e.returnValue=!1,e.preventDefault&&e.preventDefault(),!1}function Ge(e){var t=null,a=e.responseText;return a&&(t=j(a)),!t||Rt&&9>kt&&0!=t.parseError||!t.documentElement||t.getElementsByTagName("parsererror").length?null:t}function Ke(e){var t=new G,a=e.headers||{},n=e.headers||{},r=!("async"in e)||e.async,o=e.contentType||n["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8",i=e.data||null,d=e.dataFilter||null,l=!("global"in e)||e.global,s=!("ifModified"in e)||e.ifModified,p=e.mimeType||null,c=e.password||null,m=!("processData"in e)||e.processData,u=e.statusCode||{},g=e.type||"GET",h=e.url||".",f=e.username||null,y=n["Content-Type"]||"",b=e.dataType,h=e.url||".",g="type"in e?lt(e.type).toUpperCase():"GET",v;for(var x in null!=i&&("object"==typeof i&&!("ownerDocument"in i)&&(i=Je(i)),"POST"==g?!y&&"string"==typeof i&&(a["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"):(h+=(-1==h.indexOf("?")?"?":"&")+i,i=null)),t.open(g,h,r),a)a.hasOwnProperty(x)&&t.setRequestHeader(x,a[x]);var _=t.onreadystatechange=function(){if(4==t.readyState){v&&fClearTimeout(v);var a=t.status,n="success";if(200<=a&&300>=a||304==a||1223==a){var r=t.responseText,o=t.getResponseHeader("Content-Type")||"",i=o.match(/(\w+)\/([-\w]+\+)?(?:x\-)?([-\w]+)?;?(.+)?/)?gt.$3:"";if("text"!=b)if("xml"==b||"xml"==i)r=Ge(t),r||(n="parsererror");else if("json"==b||"json"==i)try{r=oJSON.parse(r)}catch(e){n="parsererror"}else if("script"==b||"javascript"==i||"ecmascript"==i)try{fBrowser_eval(r)}catch(e){n="error"}}else n="error";"success"==n?e.success&&e.success(r,n,t):e.error&&e.error(t,n),e.complete&&e.complete(t,n)}};return r&&!Nt(e.timeout)&&(v=Ct(function(){t.onreadystatechange=new ft,t.abort(),e.error&&e.error(t,"timeout"),e.complete&&e.complete(t,"timeout")},e.timeout)),t.send(i),!r&&Pt&&2>kt&&_(),t}function Je(e){var t=[];if(e instanceof Ea)throw new Kt("NOT_SUPPORTED_ERR");else if(e instanceof mt)(function(e,a){if(a instanceof ut)for(var n=0,r=a.length,o;n<r;n++)arguments.callee(e+"["+((o=a[n])instanceof ut||"object"==typeof o?n:"")+"]",o);else if(a instanceof mt)for(var i in a)arguments.callee(e+(""==e?i:"["+i+"]"),a[i]);else t[t.length]=At(e)+"="+At(a)})("",e);else throw new Kt("NOT_SUPPORTED_ERR");return t.join("&").replace(/%20/g,"+")}function Ye(e,t,a,n){Qe(e),We(e,"DOMContentUnload",!1,!1),e._dcl_xhr=null,e._dcl_timeout=Ct(function(){var r={};r.url=t,r.type="GET",r.dataType="xml",r.data=a||null,r.success=function(r,o,i){for(;e.lastChild;)e.removeChild(e.lastChild);Ze(e);var d=e.ownerDocument?e.ownerDocument:e;e.appendChild(v(d,r.documentElement,!0)),We(e,"DOMContentLoad",!1,!1,{url:t,data:a}),n&&n(i.responseText,o,i)},r.error=function(n,r){We(e,"DOMContentError",!1,!1,{url:t,data:a,message:r,request:n})},e._dcl_xhr=Ke(r),e._dcl_timeout=null},1)}function Qe(e){(e._dcl_timeout||e._dcl_xhr)&&(e._dcl_xhr&&e._dcl_xhr.abort(),Ze(e),We(e,"DOMContentAbort",!1,!1))}function Ze(e){delete e._dcl_xhr,e._dcl_timeout&&(f(e._dcl_timeout),delete e._dcl_timeout)}function o(e,t,a){var n=new It}var dt=window,lt=dt.String,st=dt.Boolean,pt=dt.Number,mt=dt.Object,ut=dt.Array,gt=dt.RegExp,ht=dt.Date,ft=dt.Function,Y=dt.Math,yt=dt.Error,bt=dt.SyntaxError,vt=dt.TypeError,d=dt.parseInt,xt=dt.parseFloat,_t=dt.NaN,Nt=dt.isNaN,Tt=dt.Infinity,Et=dt.isFinite,Ct=dt.setTimeout,f=dt.clearTimeout,St=dt.navigator,i=dt.location,m=dt.document,At=dt.encodeURIComponent,G=dt.XMLHttpRequest,Dt=dt.DOMParser,wt=dt.XMLSerializer,It=dt.XSLTProcessor,Mt=dt.ActiveXObject,Lt=dt.JSON,Ot=!1,Rt=!1,Pt=!1,Ht=!1,kt=0;St.userAgent.match(/AppleWebKit\/(\d+\.\d+)/)?(Ot=!0,kt=1*gt.$1):!m.namespaces?!window.controllers?!!window.opera&&(Ht=!0,kt=1*St.userAgent.match(/Presto\/(\d+\.\d+)/)[1]):(Pt=!0,kt=1*St.userAgent.match(/rv:(\d+\.\d+)/)[1]):(Rt=!0,kt=1*St.userAgent.match(/MSIE\s(\d+\.\d+)/)[1]);(function(){return this})();window.DBG=!1;var Bt=["toString","hasOwnProperty","toLocaleString","isPrototypeOf","valueOf","constructor","propertyIsEnumerable"],$t=Object.prototype.hasOwnProperty;window.b$||(window.b$={});var J=/\s+/;(function(t,a){function n(){if(!jQuery.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}l.ready()}}var r=t.b$,o=Array.prototype.push,i=Object.prototype.toString,d=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=function(e,t){return new l.fn.init(e,t,s)},s,p;l.fn=l.prototype={constructor:l,init:function(e,t,n){var r,o,i;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:d.exec(e),r&&(r[1]||!t)){if(r[1])return t=t instanceof l?t[0]:t,i=t&&t.nodeType?t.ownerDocument||t:document,e=l.parseHTML(r[1],i,!0),rsingleTag.test(r[1])&&l.isPlainObject(t)&&this.attr.call(e,t,!0),l.merge(this,e);if(o=document.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(e);this.length=1,this[0]=o}return this.context=document,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}if(l.isFunction(e))return n.ready(e);e.selector!==a&&(this.selector=e.selector,this.context=e.context);var s=l.makeArray(e,this);return s},selector:"",version:"5.5",length:0,pushStack:function(e,t,a){var n=this.constructor();return l.isArray(e)?push.apply(n,e):l.merge(n,e),n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+a:t&&(n.selector=this.selector+"."+t+"("+a+")"),n},each:function(e,t){return l.each(this,e,t)},find:function(e){var t=this,a,n;if("string"!=typeof e)return l(e).filter(function(){for(a=0,n=t.length;a<n;a++)if(l.contains(t[a],this))return!0});var r=this.pushStack("","find",e),o,i,d;for(a=0,n=this.length;a<n;a++)if(o=r.length,l.find(e,this[a],r),0<a)for(i=o;i<r.length;i++)for(d=0;d<o;d++)if(r[d]===r[i]){r.splice(i--,1);break}return r},push:o},e(l,{trim:function(e){return nt.trim.call(e)},filter:function(e,t,a){return a&&(e=":not("+e+")"),1===t.length?l.find.matchesSelector(t[0],e)?[t[0]]:[]:l.find.matches(e,t)},isFunction:function(e){return"function"===l.type(e)},isArray:Array.isArray||function(e){return"array"===l.type(e)},type:function(e){return null==e?e+"":c[i.call(e)]||"object"},each:function(e,t,n){var r=0,o=e.length,i=o===a||l.isFunction(e),d;if(n){if(i){for(d in e)if(!1===t.apply(e[d],n))break;}else for(;r<o&&!1!==t.apply(e[r++],n););}else if(i){for(d in e)if(!1===t.call(e[d],d,e[d]))break;}else for(;r<o&&!1!==t.call(e[r],r,e[r++]););return e},makeArray:function(e,t){var a=t||[];if(null!=e){var n=l.type(e);null==e.length||"string"===n||"function"===n||"regexp"===n||l.isWindow(e)?o.call(a,e):l.merge(a,e)}return a},merge:function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var o=t.length;r<o;r++)e[n++]=t[r];else for(;t[r]!==a;)e[n++]=t[r++];return e.length=n,e},access:function(e,t,n,r,o,i,d){var l=null==n,s=0,p=e.length,c;if(n&&"object"==typeof n){for(s in n)jQuery.access(e,t,s,n[s],1,i,r);o=1}else if(r!==a){if(c=d===a&&jQuery.isFunction(r),l&&(c?(c=t,t=function(e,t,a){return c.call(jQuery(e),a)}):(t.call(e,r),t=null)),t)for(;s<p;s++)t(e[s],n,c?r.call(e[s],s,t(e[s],n)):r,d);o=1}return o?e:l?t.call(e):p?t(e[0],n):i}});var c={};l.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),e(l.fn,{dispatchCustomEvent:function(e,t,a,n){return this.each(function(){this.dispatchCustomEvent(e,t,a,n)})},addEventListener:function(e,t,a){return this.each(function(){this.addEventListener(e,t,a)})}});var p=!1;e(l,{isReady:!1,readyWait:1,holdReady:function(e){e?l.readyWait++:l.ready(!0)},ready:function(e){if(!0===e&&! --l.readyWait||!0!==e&&!l.isReady){if(!document.body)return setTimeout(l.ready,1);if(l.isReady=!0,!0!==e&&0<--l.readyWait)return;xe(),l.dispatchCustomEvent("ready")}},bindReady:function(){if("complete"===document.readyState)return setTimeout(l.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",__DOMContentLoaded,!1),t.addEventListener("load",l.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",__DOMContentLoaded),t.attachEvent("onload",l.ready);var e=!1;try{e=null==t.frameElement}catch(e){}document.documentElement.doScroll&&e&&n()}}}),__DOMContentLoaded=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",__DOMContentLoaded,!1),l.ready()):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",__DOMContentLoaded),l.ready())},l.bindReady(),l.escapeXML=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},l.unescapeXML=function(e){return"string"==typeof e?e.replace(/&amp;/g,"&").replace(/&quot;/g,"\"").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e},l.fn.init.prototype=l.fn,s=l(document),t.b$&&(l.portal=t.b$.portal),l.boot=function(){xe()},l.getVC=function(e){for(;e;){if(e.viewController)return e.viewController;e=e.parentNode}},l._private={},l.bUAWebKit=Ot,l.bUATrident=Rt,l.bUAGecko=Pt,l.xbUAPresto=Ht,l.nUAVersion=kt,t.b$=l})(window),b$=window.b$,window.OpenAjax&&OpenAjax.hub.registerLibrary("b$","http://backbase.com",b$.version);var Ft={};b$._private.simpleResponseCache_getData=function(e,t){this;if(!t&&Ft[e])return Ft[e];var a;return $.ajax({async:!1,url:e,dataType:"html",success:function(t){Ft[e]=t,a=t},error:function(t){Ft[e]=t,a="Error"}}),a},window.console||(window.console={log:function(){},dir:function(){},trace:function(){}}),window.console.dir||(console.dir=console.log);var Ut=null;b$._private.html={getDocumentHeight:function(){return it("CSS1Compat"==document.compatMode?document.documentElement.scrollHeight:document.body.scrollHeight,html.getViewportHeight())},getDocumentWidth:function(){return it("CSS1Compat"==document.compatMode?document.documentElement.scrollWidth:document.body.scrollWidth,html.getViewportWidth())},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getViewportWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},addEventListener:R,removeEventListener:P,handlePreventDefault:I},b$._private.xml={parse:j,textContent:function(e){return e.nodeType==Ra?null:e.textContent||e.text||""},getFirst:function(e,t){for(e=e.firstChild;e;e=e.nextSibling)if(!t||e.nodeType==t)return e;return null},getLast:function(e,t){for(e=e.lastChild;e;e=e.previousSibling)if(!t||e.nodeType==t)return e;return null},inSameDocument:function(e,t){for(;e&&e.parentNode;)e=e.parentNode;for(;t&&t.parentNode;)t=t.parentNode;return!(t!=e)},getElementsByTagNameNS:q,resolveQNames:function(e,t){var a=[],n,r,o,i,d,l,s;for(s=0,n=t.split(" "),l=n.length;s<l;s++)""!=n[s]&&(r=n[s].split(":"),1<r.length?(d=r[0],i=r[1]):(d="",i=r[0]),o=K(e,d),a.push([o,i,n[s]]));return a},lookupNamespaceURI:K,_lookupNamespaceURI:te,lookupPrefix:ne,lookupNamespacePrefix:X,isDefaultNamespace:re,hasAttribute:M,hasAttributeNS:oe,hasAttributes:function(e){return e.nodeType==1&&0<e.attributes.length},getAttributeNS:ie,removeAttributeNS:le,setAttributeNS:se};var jt=[],zt=null,Xt=null,Vt;N(window,"load",function(){}),N(window,"unload",function(){b$.getVC&&_e()});var Wt=!1,qt=function(){};qt.superClass=null,qt.classID=0;var Gt=1;qt.extend=function(e,t,a){var n=Ne(this,e,t,a);return n.classID=Gt++,n},qt.getClassID=function(){return this.classID};var Kt=qt.extend(function(e){this.message=e},{toString:function(){return this.message}}),Jt=qt.extend(function(){},{test:function(){return!0}}),Yt=Jt.extend(function(e){this.test=e}),Qt=Jt.extend(function(e){this.type=e},{test:function(e){return this.type instanceof Jt?this.type.test(e):e instanceof this.type}}),Zt=Qt.extend(function(e){Qt.call(this,e)},{test:function(e){return null===e||Qt.prototype.test.call(this,e)}}),ea=Qt.extend(function(e){Qt.call(this,e)},{test:function(e){return e==null||Qt.prototype.test.call(this,e)}}),ta=Jt.extend(function(e){this.pattern=e},{test:function(e){if(!e)return!1;for(var t in this.pattern)if(!Te(e[t],this.pattern[t]))return!1;return!0},extend:function(e){for(var t in this.pattern)t in e||(e[t]=this.pattern[t]);return new ta(e)},implementedBy:function(e){if(!this.test(e.prototype))throw new Error("Interface not implemented by class.")}}),b=Kt.extend(function(e,t,a,n){this.message=e,this.arguments=t,this.index=a,this.expected=n},{toString:function(){return"ArgumentException - Wrong argument type for argument "+this.index+" ("+this.arguments[this.index]+") in "+this.arguments.callee+"."+(this.message?" ("+this.message+")":"")}}),t=qt.extend(function(e,t){this.name=e,this.initializer=t,this.object=null},{create:function(){var e=this.getNamespace();return this.initializer.call(e),e},getNamespace:function(){if(this.object)return this.object;var e=dt,a=this.name.split(".");if(1==a.length&&""==a[0])return e;for(var n=0;n<a.length;n++)e=e[a[n]]?e[a[n]]:e[a[n]]={};return t.namespaces[this.name]=e,this.object=e}},{namespaces:{b$:b$}}),aa=qt.extend(function(){throw new Error("Must implement.")},{next:function(){throw new Error("Must implement.")},hasNext:function(){throw new Error("Must implement.")},forEach:function(e,t){for(;this.hasNext();)e.call(t||this,this.next())}}),na=aa.extend(function(e){this.array=e,this.index=0},{next:function(){return this.array[this.index++]},hasNext:function(){return this.index<this.array.length}});b$.extend=Ne,b$.mixin=e,b$.Class=qt,b$.Exception=Kt,b$.Interface=ta,b$._private.ArgumentException=b,b$.Module=t,b$.module=function(e,a){var n=new t(e,a);return n.create()},b$.require=Ee,b$._private.ArrayIterator=na;var ra=new Yt(function(){return!0}),oa=new Yt(function(e){return"number"==typeof e||e instanceof Number}),ia=new Yt(function(e){return"string"==typeof e||e instanceof String}),da=new Yt(function(e){return"boolean"==typeof e||e instanceof Boolean}),la=new Yt(function(e){return"function"==typeof e}),H=new Yt(function(e){return window.ActiveXObject&&!window.Performance?!!e&&"nodeType"in e&&"ownerDocument"in e&&"parentNode"in e&&"nodeName"in e&&"nodeValue"in e&&"nextSibling"in e&&"previousSibling"in e:e instanceof Node}),sa=new Yt(function(e){return window.ActiveXObject&&!window.Performance?window.Element&&!(e&&"selectNodes"in e)?!!e&&e instanceof Element:NODE.test(e)&&1==e.nodeType:e instanceof Element}),pa=new Yt(function(e){return window.ActiveXObject&&!window.Performance?window.HTMLDocument&&!(e&&"selectNodes"in e)?!!e&&e instanceof HTMLDocument&&9==e.nodeType:NODE.test(e)&&9==e.nodeType:e instanceof Document}),ma=new Yt(function(e){return window.ActiveXObject&&!window.Performance?window.Element?!!e&&e instanceof Element&&!!e.ownerDocument&&e.ownerDocument instanceof HTMLDocument:NODE.test(e)&&1==e.nodeType&&!("baseName"in e):e instanceof HTMLElement}),ua=new Yt(function(e){return window.ActiveXObject&&!window.Performance?window.Element&&window.HTMLDocument?!!e&&e instanceof HTMLDocument&&9==e.nodeType:NODE.test(e)&&9==e.nodeType&&!("baseName"in e):e instanceof HTMLDocument});b$._private.types={TypeConstraint:Jt,TypeConstraintFn:Yt,TypeConstraintObject:Qt,TypeConstraintNull:Zt,TypeConstraintOptional:ea,checkType:Te,ANY:ra,NUMBER:oa,STRING:ia,BOOLEAN:da,FUNCTION:la,NODE:H,ELEMENT:sa,DOCUMENT:pa,HTMLELEMENT:ma,HTMLDOCUMENT:ua};var ga=qt.extend(function(e){if(this.array=[],e)for(var t=0;t<e.length;++t)this.add(e[t])},{insert:function(e,t){this.array.splice(t,0,e)},add:function(e){this.array.push(e)},remove:function(e){var t=b$.ecma5.Array.prototype.indexOf.call(this.array,e);this.array.splice(t,1)},each:function(e,t){for(var a=[].concat(this.array),n=0,r=a.length,o;n<r&&(o=a[n],!1!==e.call(t||o,o,n,r));n++);}});b$._private.ArrayCollection=ga;var ha=qt.extend(function(e,t){if(qt.call(this),this.array=[],this.keys=[],this.map={},t&&(this.keyFn=t),e)for(var a=0;a<e.length;++a)this.add(e[a])},{keyFn:function(e){return e.name},add:function(e,t){var a=this,n;if(1==arguments.length&&(t=a.keyFn(e)),"undefined"!=typeof t&&null!==t){if(n=a.map[t],"undefined"!=typeof n)return a.replace(t,e);a.map[t]=e}return console.log(a.array),a.array.push(e),a.keys.push(t),e},addAll:function(e){var t=this,a=0,n,r,o;if(1<arguments.length||$.isArray(e))for(n=1<arguments.length?arguments:e,r=n.length;a<r;a++)t.add(n[a]);else for(o in e)e.hasOwnProperty(o)&&t.add(e[o],o)},insertAt:function(e,t,a){var n=this;return(2==arguments.length&&(a=t,t=n.keyFn(a)),"undefined"!=typeof n.map[t]&&(n.suspendEvents(),n.removeByKey(t),n.resumeEvents()),e>=n.array.length)?n.add(a,t):(n.array.splice(e,0,a),"undefined"!=typeof t&&null!==t&&(n.map[t]=a),n.keys.splice(e,0,t),a)},remove:function(e){return this.removeAt(this.array.indexOf(e))},removeByKey:function(e){return this.removeAt(this.keys.indexOf(e))},removeAll:function(){},removeAt:function(e){var t=this,a,n;return!!(e<t.array.length&&0<=e)&&(a=t.array[e],t.array.splice(e,1),n=t.keys[e],"undefined"!=typeof n&&delete t.map[n],t.keys.splice(e,1),a)},replace:function(e,t){var a,n;return(1==arguments.length&&(t=arguments[0],e=this.keyFn(a)),a=this.map[e],"undefined"==typeof e||null===e||"undefined"==typeof a)?this.add(t,e):(n=this.indexOfKey(e),this.array[n]=t,this.map[e]=t,t)},get:function(e){var t=this.map[e],t=t===void 0?"number"==typeof e?this.array[e]:void 0:t;return t},getAt:function(e){return this.array[e]},indexOf:function(e){return b$.ecma5.Array.prototype.indexOf.call(this.array,e)},indexOfKey:function(e){return b$.ecma5.Array.prototype.indexOf.call(this.keys,e)},each:function(e,t){for(var a=[].concat(this.array),n=0,r=a.length,o;n<r&&(o=a[n],!1!==e.call(t||o,o,n,r));n++);},clear:function(){this.array=[],this.keys=[],this.map={}}});b$._private.ArrayMap=ha;var h=window.DOMParser;h||(h=function(){this.baseURI=null},h.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");try{t.setProperty("SelectionLanguage","XPath")}catch(e){}return t.async=!1,t.preserveWhiteSpace=!0,t.validateOnParse=!1,t.resolveExternals=!1,t.loadXML(e),t});var fa=window.XMLSerializer;fa||(fa=function(){},fa.prototype.serializeToString=function(e){return 9==e.nodeType?e.xml.replace(/\s+$/g,""):e.xml});var ya=window.XSLTProcessor;ya||(ya=function(){this._template=new Mt("MSXML2.XSLTemplate")},ya.prototype.importStylesheet=function(e){var t=new Mt("MSXML2.FreeThreadedDOMDocument");t.loadXML(new wt().serializeToString(e)),t.setProperty("SelectionNamespaces","xmlns:xsl=\""+"http://www.w3.org/1999/XSL/Transform"+"\"");var a=t.selectSingleNode("//xsl:output");this._template.stylesheet=t,this._processor=this._template.createProcessor(),this._parameters={},this._method=a?a.getAttribute("method"):"xml"},ya.prototype.clearParameters=function(){var e,t;for(e in this._parameters)if(this._parameters.hasOwnProperty(e))for(t in this._parameters[e])this._parameters[e].hasOwnProperty(t)&&this.removeParameter(e,t);this._parameters={}},ya.prototype.getParameter=function(e,t){null==e&&(e="");var a=this._parameters[e];return a&&a[t]?a[t]:null},ya.prototype.removeParameter=function(e,t){null==e&&(e=""),e?this._processor.addParameter(t,"",e):this._processor.addParameter(t,"");var a=this._parameters[e];a&&delete a[t]},ya.prototype.setParameter=function(e,t,a){null==e&&(e=""),e?this._processor.addParameter(t,a,e):this._processor.addParameter(t,a),this._parameters[e]||(this._parameters[e]={}),this._parameters[e][t]=a},ya.prototype.reset=function(){this._processor=null,this._parameters={},this._method="xml"},ya.prototype.transformToDocument=function(e){var t=this._processor,a=new Mt("Microsoft.XMLDOM");if(!t)throw Kt("NOT_INITIALIZED");return t.input=e,t.output=a,t.transform(),a},ya.prototype.transformToFragment=function(e,t){var a=this._processor,n=new Mt("Microsoft.XMLDOM"),r=t.createDocumentFragment();if(!a)throw Kt("NOT_INITIALIZED");for(a.input=e,a.output=n,a.transform();n.hasChildNodes();)r.appendChild(n.firstChild);return r}),window.DOMParser=this.DOMParser=h,window.XMLSerializer=this.XMLSerializer=fa,new function(){var r=Number.prototype;function e(e){var t=Math.ceil,a=Math.floor,n=+e;return isNaN(n)?0:0<n?a(n):t(n)}function t(e){return 10>e?"0"+e:e+""}function a(e){return g.lastIndex=0,g.test(e)?"\""+e.replace(g,function(e){var t=h[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+e+"\""}function n(e,t){var r=null,o=0,i=f,d=[],l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof b&&(l=b.call(t,e,l)),typeof l){case"string":return a(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(f+=y,"[object Array]"===Object.prototype.toString.apply(l)){o=l.length;for(var s=0;s<o;s+=1)d[s]=n(s,l)||"null";return r=0===d.length?"[]":f?"[\n"+f+d.join(",\n"+f)+"\n"+i+"]":"["+d.join(",")+"]",f=i,r}if(b&&"object"==typeof b){o=b.length;for(var s=0,p;s<o;s+=1)p=b[s],"string"==typeof p&&(r=n(p,l),r&&d.push(a(p)+(f?": ":":")+r))}else for(var p in l)Object.hasOwnProperty.call(l,p)&&(r=n(p,l),r&&d.push(a(p)+(f?": ":":")+r));return r=0===d.length?"{}":f?"{\n"+f+d.join(",\n"+f)+"\n"+i+"}":"{"+d.join(",")+"}",f=i,r;}}var o=function(){},i=Function.prototype.call,d=Array.prototype,l=Object.prototype,s=d.slice;Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=s.call(arguments,1),a=this,n=function(){return a.apply(this instanceof o&&e?this:e,t.concat(s.call(arguments)))};return o.prototype=this.prototype,n.prototype=new o,n});i.bind(l.toString);if(!Object.keys){var p=!0,c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=c.length;for(var u in{toString:null})p=!1;Object.keys=function(e){var t=Object.prototype.hasOwnProperty;if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var a=[];for(var n in e)t.call(e,n)&&a.push(n);if(p)for(var r=0,o;r<m;r++)o=c[r],t.call(e,o)&&a.push(o);return a}}Array.prototype.indexOf||(Array.prototype.indexOf=function(t,a){a=2>arguments.length?0:e(a),0>a&&(a=it(this.length-a,0));for(var n=a,r=this.length;n<r;n++)if(this[n]===t)return n;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,a){a=2>arguments.length?this.length:e(a),0>a&&(a=this.length-a),a=rt(a,this.length-1);for(var n=a;0<=n;n--)if(this[n]===t)return n;return-1}),Array.prototype.every||(Array.prototype.every=function(e,t){if(!(e instanceof Function))throw new TypeError;for(var a=0,n=this.length;a<n;a++)if(this.hasOwnProperty(a)&&!e.call(t,this[a],a,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e,t){if(!(e instanceof Function))throw new TypeError;for(var a=0,n=this.length;a<n;a++)if(this.hasOwnProperty(a)&&e.call(t,this[a],a,this))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(!(e instanceof Function))throw new TypeError;for(var a=0,n=this.length;a<n;a++)this.hasOwnProperty(a+"")&&e.call(t,this[a],a,this)}),Array.prototype.map||(Array.prototype.map=function(e,t){if("function"!=typeof e)throw new TypeError;for(var a=[],n=0,r=this.length;n<r;n++)a.push(e.call(t,this[n],n,this));return a}),Array.prototype.filter||(Array.prototype.filter=function(e,t){if(!(e instanceof Function))throw new TypeError;for(var a=[],n=0,r=this.length;n<r;n++)e.call(t,this[n],n,this)&&a.push(this[n]);return a}),Array.prototype.reduce||(Array.prototype.reduce=function(e,t){if(0==this.length&&void 0===t||!(e instanceof Function))throw new TypeError;for(var a=2>arguments.length,n=0,r=this.length;n<r;n++)a?(t=this[n],a=!1):t=e(t,this[n],n,this);return t}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e,t){if(0==this.length||!(e instanceof Function))throw new TypeError;for(var a=2>arguments.length,n=this.length-1;0<=n;n--)a?(t=this[n],a=!1):t=e(t,this[n],n,this);return t}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z"}),"function"!=typeof nt.toJSON&&(nt.toJSON=function(){return this.valueOf()}),"function"!=typeof r.toJSON&&(r.toJSON=function(){return this.valueOf()}),"function"!=typeof Boolean.prototype.toJSON&&(Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"},f="",y="",b={};if(window.JSON||(window.JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,a){if(f="",y="","number"==typeof a)for(var r=0;r<a;r+=1)y+=" ";else"string"==typeof a&&(y=a);if(b=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse){var v=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(e,t){function a(e,n){var r=null,o=e[n];if(o&&"object"==typeof o)for(var i in o)Object.hasOwnProperty.call(o,i)&&(r=a(o,i),void 0===r?delete o[i]:o[i]=r);return t.call(e,n,o)}if(v.lastIndex=0,v.test(e)&&(e=e.replace(v,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var n=new Function("return "+e)();return"function"==typeof t?a({"":n},""):n}throw new SyntaxError("JSON.parse")}}b$.ecma5={Array:Array,JSON:JSON}};var ba=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,va=/%[0-9a-z]{2}/gi,xa=/[a-zA-Z0-9\-\._~]/,ce=/(.*@)?([^@:]*)(:.*)?/,_a={},Na=qt.extend(function(e){if(e instanceof Na)this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment;else if(e){var t=ba.exec(e);this.scheme=t[1],this.authority=t[2],this.path=t[3],this.query=t[4],this.fragment=t[5]}},{scheme:null,authority:null,path:"",query:null,fragment:null,getScheme:function(){return this.scheme},getAuthority:function(){return this.authority},getPath:function(){return this.path},getQuery:function(){return this.query},getFragment:function(){return this.fragment},isAbsolute:function(){return this.scheme&&!this.fragment},isSameDocumentAs:function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},equals:function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},normalize:function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(ce,Se).replace(va,Ce)),this.path&&(this.path=this.path.replace(va,Ce)),this.query&&(this.query=this.query.replace(va,Ce)),this.fragment&&(this.fragment=this.fragment.replace(va,Ce))},resolve:function(e){var t=new Na;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?(t.path=this.path,t.removeDotSegments()):(t.path=e.authority&&""==e.path?"/"+this.path:e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments()),t.query=this.query))),t.fragment=this.fragment,t},removeDotSegments:function(){var e=this.path.split("/"),t=[],a=""==e[0],n;a&&e.shift();for(""==e[0]?e.shift():null;e.length;)n=e.shift(),".."==n?t.pop():"."!=n&&t.push(n);("."==n||".."==n)&&t.push(""),a&&t.unshift(""),this.path=t.join("/")},toString:function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e}},{resolve:function(e,t){var a=_a[e]||(_a[e]=new Na(e)),n=_a[t]||(_a[t]=new Na(t));return a.resolve(n).toString()}});b$.module("b$._private.uri",function(){this.URI=Na});var B=b$.Class.extend(function(){this.parameterNames={},this.namespaces={}},{parameterNames:null,setParameter:function(e,t){this.parameterNames[e]=t},getParameter:function(e){return this.parameterNames[e]},canSetParameter:function(){return!0},namespaces:null,getNamespace:function(e){return this.namespaces[e]},registerNamespace:function(e){this.namespaces[e.namespaceURI]=e}},null,"BDOMConfiguration"),Ta=b$.Class.extend(null,{documents:[],hasFeature:function(){return!1},createDocumentType:function(){},createDocument:function(e,t){var a=new wa;if(this.documents.push(a),a.implementation=this,a.domConfig=new B,t){var n=a.createElementNS(e,t);a.appendChild(n)}return a},destroyDocument:function(e){var t=e.documentElement;t&&t.destroy(),e.dispatchCustomEvent("destroy",!1,!1),this.documents.splice(this.documents.indexOf(e),1)},getFeature:function(){}}),n=qt.extend(function(e,t){this.node=t,this.ownerDocument=e,this.childNodes=new Ea,this.attributes=new Sa,this._jxid="id"+window.Math.floor(1e7*window.Math.random())},{nodeName:null,nodeValue:null,nodeType:1,parentNode:null,childNodes:null,firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,ownerDocument:null,namespaceURI:null,prefix:null,localName:null,destroy:function(){Pe(this)},insertBefore:function(e,t){return we(this,e,t),9==this.nodeType&&this._checkin(e),e},replaceChild:function(e,t){return Me(this,e,t),9==this.nodeType&&(this._checkout(t),this._checkin(e)),e},removeChild:function(e){return 9==this.nodeType&&this._checkout(e),Ie(this,e),e},appendChild:function(e){return Le(this,e),9==this.nodeType&&this._checkin(e),e},hasChildNodes:function(){return this.node.hasChildNodes()},cloneNode:function(e){var t=this.node.cloneNode(e);return this.ownerDocument.importNode(t,e)},hasAttributes:function(e){return this.node.hasAttributes?this.node.hasAttributes(e):this.node.nodeType==ct&&0<this.node.attributes.length},compareDocumentPosition:function(e){return Ae(this,e)},isSameNode:function(e){return this.node==e.node},lookupPrefix:function(e){return ne(this.node,e)},isDefaultNamespace:function(e){return re(this.node,e)},lookupNamespaceURI:function(e){return K(this.node,e)},toXML:function(){return ke(this)}});n.ELEMENT_NODE=1,n.ATTRIBUTE_NODE=2,n.TEXT_NODE=3,n.CDATA_SECTION_NODE=4,n.ENTITY_REFERENCE_NODE=5,n.ENTITY_NODE=6,n.PROCESSING_INSTRUCTION_NODE=7,n.COMMENT_NODE=8,n.DOCUMENT_NODE=9,n.DOCUMENT_TYPE_NODE=10,n.DOCUMENT_FRAGMENT_NODE=11,n.NOTATION_NODE=12,n.XPATH_NAMESPACE_NODE=13,n.extend=function(e,t,n){var r=t&&t.listeners?a({},t.listeners):{},o=this.prototype.listeners;for(var i in o)if(o.hasOwnProperty(i))for(var d=0,l=o[i].length;d<l;d++)r[i]||(r[i]=[]),r[i].push(o[i][d]);return e=qt.extend.call(this,e,t,n),e.prototype.listeners=r,e};var Ea=function(){var e=[];return e.item=Be,e.add=$e,e.remove=Fe,e},Ca=b$.Class.extend.call(Array,null,null,b$.Class),Sa=Ca.extend(function(){Ca.call(this),this._map={},this._nsmap={}},{getNamedItem:function(e){return this._map[e]},setNamedItem:function(e){this._map[e.nodeName]=e,this.push(e)},removeNamedItem:function(e){var t=this._map[e];return this.splice(this.indexOf(t),1),delete this._map[e],t},item:function(e){return this[e]},getNamedItemNS:function(e,t){if(this._nsmap[node.namespaceURI])return this._nsmap[node.namespaceURI][t]},setNamedItemNS:function(e){this._nsmap[e.namespaceURI]||(this._nsmap[e.namespaceURI]={}),this._nsmap[e.namespaceURI][e.localName]=e,this.push(e)},removeNamedItemNS:function(e,t){if(this._nsmap[e]){var a=this._nsmap[e][t];return this.splice(this.indexOf(a),1),delete this._nsmap[e][t],a}}}),Aa=n.extend(function(){n.apply(this,arguments),this.name=null,this.specified=null,this.value=null,this.ownerElement=null},{nodeType:2,toString:function(){return"Attr"}}),Da=n.extend(function(e,t,a,n){t&&t.namespaceURI&&(n=t,t=null),t||(t=this.namespaceURI),a?!this.localName&&(this.localName=a):a=this.localName,this.nodeName=this.prefix?this.prefix+":"+this.localName:this.localName,this.tagName=this.nodeName,e||console.log("no bdomDocument"),a||console.log("no localName"),n||(t?n="createElementNS"in e.node?e.node.createElementNS(t,a):e.node.createNode(1,a,t):n=e.node.createElement(a)),this.ownerDocument=e,this.node=n,this.childNodes=new Ea,this.attributes=n.attributes;var r;e&&e._newIDhack?(r=e._newIDhack,e._newIDhack=null):n.getAttribute("_jxid")?r=n.getAttribute("_jxid"):n.getAttribute("id")?r=n.getAttribute("id"):r="id"+window.Math.floor(1e7*window.Math.random()),this._jxid=r,n.setAttribute("_jxid",this._jxid);var o=ie(n,"http://www.w3.org/2001/xml-events","event");if(o){var i=ie(n,"http://www.w3.org/2001/xml-events","observer");if(i||(i=e.getControllerFromModel(n.parentNode)),i){var d=ie(n,"http://www.w3.org/2001/xml-events","handler");if(d){if(0==d.indexOf("#")){var l=d.substring(1);d=window[l]}else d=function(){alert("Some handler")};d&&i.addEventListener(o,d,!1)}}}},{nodeType:1,toString:function(){return"BDOMElement "+this.localName},getAttribute:function(e){var t=this.attributes.getNamedItem(e);return t?t.value:null},getAttributeNS:function(e,t){var a=this.attributes.getNamedItemNS(e,t);return a?a.value:null},setAttribute:function(e,t){var a=null!==this.node.getAttribute(e),n=a?this.node.getAttribute(e):null;if(n!=t){this.node.setAttribute(e,t);var r=this.ownerDocument.createEvent("MutationEvent");r.initMutationEvent("DOMAttrModified",!0,!1,null,n,t,e,a?1:2),this.dispatchEvent(r),this.ownerDocument.all[this._jxid]&&this.mapAttribute(e,t)}},setAttributeNS:function(e,t,a){if(a+="",null==e)return this.setAttribute(t,a);var n=t.split(":").pop(),r=this.ownerDocument.createEvent("MutationEvent"),o=null;if(bNew){if(o=ie(this.node,e,n),o==a)return;r.initMutationEvent("DOMAttrModified",!0,!1,null,o,a,t,b$.bdom.events.MutationEvent.MODIFICATION)}else r.initMutationEvent("DOMAttrModified",!0,!1,null,null,a,t,b$.bdom.events.MutationEvent.ADDITION);se(this.node,e,t,a),this.dispatchEvent(r),this.ownerDocument.all[this._jxid]&&this.mapAttribute(t,a)},removeAttribute:function(e){var t=this.attributes.getNamedItem(e);if(t){var a=t.value,n=this.ownerDocument.createEvent("MutationEvent");n.initMutationEvent("DOMAttrModified",!0,!1,null,a,null,e,b$.bdom.events.MutationEvent.REMOVAL),this.attributes.removeNamedItem(e),this.dispatchEvent(n),this.ownerDocument.all[this._jxid]&&this.mapAttribute(e,null)}},removeAttributeNS:function(e,t){if(null==e)return this.removeAttribute(t);var a=this.attributes.getNamedItemNS(e,t);if(a){var n=a.value,r=this.ownerDocument.createEvent("MutationEvent");r.initMutationEvent("DOMAttrModified",!0,!1,null,n,null,t,b$.bdom.events.MutationEvent.REMOVAL),this.attributes.removeNamedItemNS(e,t),this.dispatchEvent(r),this.ownerDocument.all[this._jxid]&&this.mapAttribute(sName,null)}},hasAttribute:function(e){return null!==this.attributes.getNamedItem(e)},hasAttributeNS:function(e,t){return null!==this.attributes.getNamedItemNS(e,t)},insertBefore:function(e,t){return Ue(this,e,t)},removeChild:function(e){return je(this,e)},replaceChild:function(e,t){return l(this,e,t)},appendChild:function(e){return ze(this,e)},getElementsByTagName:function(e){return Ve(this,this.ownerDocument,"*",e)},getElementsByTagNameNS:function(e,t){return Ve(this,this.ownerDocument,e,t)},mapAttribute:function(){}},{extend:function(e,t,a){var n=qt.extend.call(this,e,t,a);if(n.prototype.namespaceURI&&n.prototype.localName){if(!b$.bdom.namespaces[n.prototype.namespaceURI])new T(n.prototype.namespaceURI);b$.bdom.namespaces[n.prototype.namespaceURI].classes[n.prototype.localName]&&console.log("Warning overwriting "+n.prototype.localName),b$.bdom.namespaces[n.prototype.namespaceURI].registerElement(n.prototype.localName,n)}return n}}),wa=n.extend(function(e,t){this.all={},this.domConfig=e,t||(t=new h().parseFromString("<base xmlns=\"base\" />","application/xml"),t.removeChild(t.documentElement)),this.node=t,this.documentElement=null,this.childNodes=new Ea},{nodeType:9,_resetElementId:function(e,t){this.all[e._jxid]&&(delete this.all[e._jxid],e._jxid=t,this.all[e._jxid]=e,e.node.setAttribute("_jxid",e._jxid))},_checkin:function(e){de.call(this,e),Ia.call(this,e)},_checkout:function(e){e._checkout&&e._checkout();for(var t=0,a;a=e.childNodes[t];t++)this._checkout(a);var n=this.createEvent("MutationEvent");n.initMutationEvent("DOMNodeRemovedFromDocument",!0,!1,null,null,null,null,null),e.dispatchEvent(n),delete this.all[e._jxid]},toString:function(){return"BDOMDocument"},get_documentElement:function(){return this.documentElement},insertBefore:function(e,t){if(this.documentElement&&1==e.nodeType)throw"dom exception";return 1==e.nodeType&&(this.documentElement=e),n.prototype.insertBefore.call(this,e,t),e},removeChild:function(e){return 1==e.nodeType&&(this.documentElement=null),n.prototype.removeChild.call(this,e),e},replaceChild:function(e,t){return 1==t.nodeType&&(this.documentElement=null),1==e.nodeType&&(this.documentElement=e),n.prototype.replaceChild.call(this,e,t),e},appendChild:function(e){if(this.documentElement&&1==e.nodeType)throw"dom exception";return 1==e.nodeType&&(this.documentElement=e),n.prototype.appendChild.call(this,e),e},get_domConfig:function(){return this.domConfig},set_domConfig:Oe,createElement:function(e){return this.createElementNS(null,e)},createFromString:function(e){return qe(e,this)[0]},createTextNode:function(e,t){return new Ma(this,e,t)},createCDATASection:function(e,t){return new La(this,e,t)},createAttribute:function(e,t){return new Aa(this,e,t)},importNode:function(e,t){var a=this.context;this.context={};var n=v(this,e,t);return a=a,n},createElementNS:function(e,t){var a=t.split(":"),n=a.pop(),r=a.pop()||null,o=b$.bdom.getNamespace(e),i,d;if(!o)throw d=Da,"Namespace not found: "+e+" "+n;else if(d=o.getClass(n),!d||!d.prototype)throw d=Da,"Element not found: "+o.namespaceURI+" "+n;var l=new Xe(d,[this].concat([].slice.call(arguments))),s=d.attributes;for(i in s)if(s.hasOwnProperty(i)){var p=l.getAttribute(i);null===p&&l.setAttribute(i,s[i])}return l},getElementsByTagName:function(e){return Ve(this,this,"*",e)},getElementsByTagNameNS:function(e,t){return Ve(this,this,e,t)},getElementById:function(e){return this.all[e]},getControllerFromModel:function(e){switch(e.nodeType){case 9:throw new Error("getControllerFromModel DOCUMENT_NODE");case 1:var t=e.getAttribute("_jxid");if(this.all[t])return this.all[t];break;case 3:return new Ma(this,e.nodeValue,e);case 4:return new La(this,e.nodeValue,e);case 8:return new La(this,e.nodeValue,e);default:throw new Error("getControllerFromModel unkown type: "+e.nodeType);}}}),de=function(e){if(!this.all[e._jxid])if(1==e.node.nodeType){this.all[e._jxid]=e;for(var t=[],a=0,n;n=e.childNodes[a];a++)t.push(n);e._checkin&&e._checkin();var r=this.createEvent("MutationEvent");r.initMutationEvent("DOMNodeInsertedIntoDocument",!0,!1,null,null,null,null,null),e.dispatchEvent(r);for(var a=0;n=t[a];a++)de.call(this,n);e._checkup&&e._checkup()}else 3==e.node.nodeType&&(this.all[e._jxid]=e,e.parentNode&&e.parentNode.insertDisplayChild&&e.parentNode.insertDisplayChild(e))},Ia=function(e){var t;if(1==e.nodeType){for(var a=0;t=e.childNodes[a];a++)Ia.call(this,t);e.DOMReady&&e.DOMReady(),e.dispatchCustomEvent("DOMReady",!1,!1)}},Q=n.extend(function(){n.apply(this,arguments),this.data=null,this.length=null},{nodeType:-1,toString:function(){return"CharacterData"},substringData:function(e,t){var a=this.node,n=a.data;return(0>iOffset||e>n.length||0>t)&&error.exception(error.SEVERITY_ERROR,a,0,error.MSG_DOMCORE_INDEX_SIZE_ERR),n.substr(e,t)},appendData:function(e){var t=this.node.data;this.node.data+=e;var a=this.ownerDocument.createEvent("MutationEvent");a.initMutationEvent("DOMCharacterDataModified",!0,!1,this,t,this.node.data,null,null),this.dispatchEvent(a)},insertData:function(e,t){var a=this.node,n=a.data;(0>e||e>n.length)&&error.exception(error.SEVERITY_ERROR,a,0,error.MSG_DOMCORE_INDEX_SIZE_ERR),a.data=n.substring(0,e)+t+n.substring(e);var r=this.ownerDocument.createEvent("MutationEvent");r.initMutationEvent("DOMCharacterDataModified",!0,!1,this,n,a.data,null,null),this.dispatchEvent(r)},deleteData:function(e,t){var a=this.node,n=a.data;(0>e||e>n.length||0>t)&&error.exception(error.SEVERITY_ERROR,a,0,error.MSG_DOMCORE_INDEX_SIZE_ERR),a.data=n.substring(0,e)+n.substring(e+t);var r=this.ownerDocument.createEvent("MutationEvent");r.initMutationEvent("DOMCharacterDataModified",!0,!1,this,n,a.data,null,null),this.dispatchEvent(r)},replaceData:function(e,t,a){var n=this.node,r=n.data;(0>e||e>r.length||0>t)&&error.exception(error.SEVERITY_ERROR,n,0,error.MSG_DOMCORE_INDEX_SIZE_ERR),n.data=r.substring(0,e)+a;var o=this.ownerDocument.createEvent("MutationEvent");o.initMutationEvent("DOMCharacterDataModified",!0,!1,this,r,n.data,null,null),this.dispatchEvent(o)}}),Ma=Q.extend(function(e,t,a){Q.apply(this,arguments),this.ownerDocument=e,a||(a=e.node.createTextNode(t)),this.node=a,this.nodeValue=this.node.nodeValue,this.htmlNode=document.createTextNode(t)},{nodeType:3,set_nodeValue:function(e){this.node.nodeValue=e,this.nodeValue=e},injectDisplaySelf:function(){return!0},toString:function(){return"BDOMText"}}),La=Ma.extend(function(){Ma.apply(this,arguments)},{nodeType:4,toString:function(){return"CDATASection"}}),U={createPreference:function(e,t,a){var n=new b$.portal.preferences.PreferenceNode;n.name=e,t=t.toLowerCase();var r=b$.portal.preferences.datatype[t];return r||(console.log("dataType for "+e+" not found "+t),r=b$.portal.preferences.datatype.string),n.dataType=new r,n.value=typeof a==String?n.dataType.parseFromString(a):a,n.inputType=new b$.portal.preferences.inputType.text,n.validType=new b$.portal.preferences.validType.none,n},resetID:function(e){this.ownerDocument.all[this._jxid]&&(delete this.ownerDocument.all[this._jxid],this._jxid=e,this.ownerDocument.all[this._jxid]=this,this.node.setAttribute("_jxid",this._jxid))},fireEvent:function(e,t,a,n){return this.dispatchCustomEvent(e,t,a,n)},get_nodeName:function(){return this.node.nodeName},set_nodeName:Oe,get_nodeValue:function(){return this.node.nodeValue},set_nodeValue:Oe,get_nodeType:function(){return this.node.nodeType},set_nodeType:Oe,get_parentNode:function(){if(this.node&&this.node.parentNode)switch(this.node.parentNode.nodeType){case 1:return this.ownerDocument.getControllerFromModel(this.node.parentNode);case 9:return this.ownerDocument;case 11:default:return null;}return null},set_parentNode:Oe,get_childNodes:function(){for(var e=[],t=this.node.firstChild,a;t;)a=9==this.node.nodeType?this.getControllerFromModel(t):this.ownerDocument.getControllerFromModel(t),a&&(e.push(a),a=null),t=t.nextSibling;return e},set_childNodes:Oe,get_childElements:function(){for(var e=[],t=this.node.firstChild,a=this.ownerDocument;t;)1==t.nodeType&&e.push(a.getControllerFromModel(t)),t=t.nextSibling;return e},set_childElements:Oe,get_firstChild:function(){return this.node.firstChild?this.ownerDocument.getControllerFromModel(this.node.firstChild):null},set_firstChild:Oe,get_lastChild:function(){return this.node.lastChild?this.ownerDocument.getControllerFromModel(this.node.lastChild):null},set_lastChild:Oe,get_previousSibling:function(){return this.node.previousSibling?this.ownerDocument.getControllerFromModel(this.node.previousSibling):null},set_previousSibling:Oe,get_nextSibling:function(){return this.node.nextSibling?this.ownerDocument.getControllerFromModel(this.node.nextSibling):null},set_nextSibling:Oe,get_ownerDocument:function(){return 9==this.node.nodeType?null:this.ownerDocument},set_ownerDocument:Oe},T=b$.Class.extend(function(e){this.namespaceURI=e,this.classes={},b$.bdom.namespaces[e]=this},{namespaceURI:null,listeners:null,classes:null,registerClass:function(e,t){return this.classes[e]=t,t.CLASSID=e,t},getClass:function(e){return this.classes[e]||null},getAllClasses:function(){return this.classes},removeClass:function(e){delete this.classes[e]},registerElement:function(e,t){return this.registerClass(e,t)}},null,"BDOMNamespace"),ca=Da;ca.prototype.innerDOM=function(e){for(var t=this.lastChild;t;)t.destroy(),t=this.lastChild;for(var a=qe(e,this.ownerDocument),n=0,r=a.length;n<r;n++)this.appendChild(a[n])},ca.prototype.getTextContent=function(){return z(this)},b$.module("b$.bdom",function(){b$.bdom.getNamespace=function(e){return b$.bdom.namespaces[e]},b$.bdom.namespaces={},this.Namespace=T;var e=b$._private.types,t=b$.Class;this.domImplementation=new Ta,this.BOldNode=U,this.Node=n,this.Document=wa,this.CharacterData=Q,this.Attr=Aa,this.Element=ca,this.Text=Ma,this.CDATASection=La,this.NodeList=Ea,this.DOMConfiguration=B});var Oa=new T("http://backbase.com/2012/base");Oa.registerClass("Node",n),Oa.registerClass("Document",wa),Oa.registerClass("Element",ca),Oa.registerClass("CharacterData",Q),Oa.registerClass("Text",Ma),Oa.registerClass("Attr",Aa);var Z=b$.Class,Ra=9,Pa=Z.extend(function(){this.bubbles=!1,this.cancelable=!1,this.currentTarget=null,this.eventPhase=Pa.CAPTURING_PHASE,this.target=null,this.timeStamp=new Date().getTime(),this.type="",this.namespaceURI=null,this.defaultPrevented=!1,this._captures=null,this._stopped=!1,this._stoppedImmediate=!1,this._stoppedHorizontal=!1},{initEvent:function(e,t,a){this.type=e,this.bubbles=!!t,this.cancelable=!!a},initEventNS:function(e,t,a,n){this.initEvent(t,a,n),this.namespaceURI=e},preventDefault:function(){this.defaultPrevented=this.cancelable},stopPropagation:function(){this._stopped=!0},stopImmediatePropagation:function(){this.stopPropagation(),this.stopHorizontalPropagation(),this._stoppedImmediate=!0},stopHorizontalPropagation:function(){this._stoppedHorizontal=!0},isPropagationStopped:function(){return this._stopped},isImmediatePropagationStopped:function(){return this._stoppedImmediate},isHorizontalPropagationStopped:function(){return this._stoppedHorizontal}},{CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3,LISTENER_ENTRY:0});Pa.prototype.toString=function(){return""+this.type};var Ha=Pa.extend(function(){this.detail=0,Pa.call(this)},{initCustomEvent:function(e,t,a,n){this.initEvent(e,t,a,n),this.detail=n},initCustomEventNS:function(e,t,a,n,r){this.initCustomEvent(t,a,n,r),this.namespaceURI=e}}),ka=Pa.extend(function(){this.detail=0,this.view=null,Pa.call(this)},{initUIEvent:function(e,t,a,n,r){this.initEvent(e,t,a),this.view=n,this.detail=r},initUIEventNS:function(e,t,a,n,r,o){this.initUIEvent(t,a,n,r,o),this.namespaceURI=e}}),Ba=ka.extend(function(){this.relatedTarget=null,ka.call(this)},{initFocusEvent:function(e,t,a,n,r,o){this.initUIEvent(e,t,a,n,r),this.relatedTarget=o}}),$a=ka.extend(function(){this.screenX=0,this.screenY=0,this.clientX=0,this.clientY=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.metaKey=!1,this.button=0,this.relatedTarget=null,ka.call(this)},{initMouseEvent:function(e,t,a,n,r,o,i,d,l,s,p,c,m,u,g){this.initUIEvent(e,t,a,n,r),this.screenX=o,this.screenY=i,this.clientX=d,this.clientY=l,this.ctrlKey=s,this.altKey=p,this.shiftKey=c,this.metaKey=m,this.button=u,this.relatedTarget=g},initMouseEventNS:function(e,t,a,n,r,o,i,d,l,s,p,c,m,u,g,h){this.initMouseEvent(t,a,n,r,o,i,d,l,s,p,c,m,u,g,h),this.namespaceURI=e},getModifierState:function(e){return"Alt"===e?this.altKey:"Control"===e?this.ctrlKey:"Meta"===e?this.metaKey:!("Shift"!=e)&&this.shiftKey}}),Fa=$a.extend(function(){this.wheelDelta=0,$a.call(this)},{initMouseWheelEvent:function(e,t,a,n,r,o,i,d,l,s,p,c,m){var u=-1!=c.indexOf("Control"),g=-1!=c.indexOf("Alt"),h=-1!=c.indexOf("Shift"),f=-1!=c.indexOf("Meta");this.initMouseEvent(e,t,a,n,r,o,i,d,l,u,g,h,f,s,p),this.wheelDelta=m},initMouseWheelEventNS:function(e,t,a,n,r,o,i,d,l,s,p,c,m,u){this.initMouseWheelEvent(t,a,n,r,o,i,d,l,s,p,c,m,u),this.namespaceURI=e}}),Ua=ka.extend(function(){this.data="",ka.call(this)},{initTextEvent:function(e,t,a,n,r){this.initUIEvent(e,t,a,n,null),this.data=r},initTextEventNS:function(e,t,a,n,r,o){this.initTextEvent(t,a,n,r,o),this.namespaceURI=e}}),V=ka.extend(function(){this.keyIdentifier="",this._keyModifiers=null,this.keyLocation=0,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,ka.call(this)},{initKeyboardEvent:function(e,t,a,n,r,o,i){this.initUIEvent(e,t,a,n,0),this._keyModifiers=i||"",this.ctrlKey=-1!=i.indexOf("Control"),this.altKey=-1!=i.indexOf("Alt"),this.shiftKey=-1!=i.indexOf("Shift"),this.metaKey=-1!=i.indexOf("Meta"),this.keyIdentifier=r,this.keyLocation=o},initKeyboardEventNS:function(e,t,a,n,r,o,i,d){this.initKeyboardEvent(t,a,n,r,o,i,d),this.namespaceURI=e},getModifierState:function(e){return-1!=(this._keyModifiers+"").indexOf(e)}},{DOM_KEY_LOCATION_STANDARD:0,DOM_KEY_LOCATION_LEFT:1,DOM_KEY_LOCATION_RIGHT:2,DOM_KEY_LOCATION_NUMPAD:3}),ja=Pa.extend(function(){this.relatedNode=null,this.prevValue="",this.newValue="",this.attrName="",this.attrChange=0,Pa.call(this)},{initMutationEvent:function(e,t,a,n,r,o,i,d){this.initEvent(e,t,a),this.relatedNode=n,this.prevValue=r,this.newValue=o,this.attrName=i,this.attrChange=d},initMutationEventNS:function(e,t,a,n,r,o,i,d,l){this.initMutationEvent(t,a,n,r,o,i,d,l),this.namespaceURI=e}},{MODIFICATION:1,ADDITION:2,REMOVAL:3}),E=Pa.extend(function(){this.severity=0,this.context=null,this.executable=null,this.description="",this.url="",this.line=0,this.arguments=null,Pa.call(this)},{initExceptionEvent:function(e,t,a,n,r,o,i,d,l,s){this.initEvent(e,t,a),this.severity=n,this.context=r,this.executable=o,this.description=i,this.arguments=d,this.url=l,this.line=s}}),za=$a.extend(function(){$a.call(this),this.dataTransfer=null},{initDragEvent:function(e,t,a,n,r,o,i,d,l,s,p,c,m,u,g,h){this.initMouseEvent(e,t,a,n,r,o,i,d,l,s,p,c,m,u,g),this.dataTransfer=h},initDragEventNS:function(e,t,a,n,r,o,i,d,l,s,p,c,m,u,g,h,f){this.initDragEvent(t,a,n,r,o,i,d,l,s,p,c,m,u,g,h,f),this.namespaceURI=e}}),Xa=function(e,t){t.target=e,t._captures=!0,t.aStackTargets=[e],t.iStackIndex=1,t.iStackLimit=0;var a=t.bubbles||t._captures;if(a||t instanceof ka)if(!e.node){for(var n=e;n;)n.getBubbleParent?(n=n.getBubbleParent(),a&&(t.aStackTargets[t.iStackIndex++]=n)):n=null;a||(t.iStackIndex=1)}else if(e.node.nodeType==ct){for(var r=e.parentNode;r&&r.nodeType!=Ra;r=r.parentNode)a&&(t.aStackTargets[t.iStackIndex++]=r);r&&r.nodeType==Ra&&(t.aStackTargets[t.iStackIndex++]=e.ownerDocument),a||(t.iStackIndex=1)}return t.iStackLength=t.iStackIndex,Va(e,t),!1,!t.defaultPrevented},Va=function(e,t){for(;!t._stopped;){switch(t.eventPhase){case Pa.BUBBLING_PHASE:if(t.bubbles&&++t.iStackIndex<t.iStackLength)t.currentTarget=t.aStackTargets[t.iStackIndex];else return;break;case Pa.AT_TARGET:if(t.bubbles&&1<t.iStackLength)t.iStackIndex++,t.currentTarget=t.aStackTargets[t.iStackIndex],t.eventPhase=Pa.BUBBLING_PHASE;else return;break;case Pa.CAPTURING_PHASE:default:t._captures&&0<--t.iStackIndex?t.eventPhase=Pa.CAPTURING_PHASE:(t.iStackIndex=0,t.eventPhase=Pa.AT_TARGET),t.currentTarget=t.aStackTargets[t.iStackIndex];}t.eventStage=Pa.LISTENER_ENTRY,t.iStackLimit&&t.iStackIndex<t.iStackLimit||Wa(t)}},Wa=function(e){var t=e.currentTarget,a,n;t.local_listeners&&(n=t.local_listeners["*"],a=t.local_listeners[e.type],(a||n)&&(n?a&&(n=n.concat(a)):n=a,qa(e,Ga(e,n),[])));e._stoppedHorizontal||(t&&t.constructor.handlers&&e.eventPhase!==Pa.CAPTURING_PHASE&&t.constructor.handlers[e.type]&&t.constructor.handlers[e.type].apply(e.currentTarget,[e]),e._stoppedHorizontal=!1)},qa=function(e,t,a){if(t[1].length)for(var n=0,r=a.length;n<r;n++)if(Ka(e,t[1],a[n]),e._stoppedHorizontal)return;t[0].length&&(Ka(e,t[0]),e._stoppedHorizontal)},Ga=function(e,t){for(var a=[],n=[],r=e.eventPhase==Pa.CAPTURING_PHASE,o=0,i=t.length;o<i;o++)!!t[o].useCapture==r&&(t[o].viewMatch?n.push(t[o]):a.push(t[o]));return[a,n]},Ka=function(e,t,a){e.currentView=a;for(var n=0,r=t.length,o;n<r;n++)if(o=t[n],!o.viewMatch||b$.selector.match(e.currentView,o.viewMatch)){if(o.bStopPropagate&&e.stopPropagation(),o.bDefaultActionCancel&&e.preventDefault(),o.context?o.fn.apply(o.context,[e]):o.fn.apply(e.currentTarget,[e]),e._stoppedHorizontal||!e.currentTarget.node)return;e.target&&!e.target.node&&(e.target=null)}},Ja=function(e,t,a){e.node.nodeType==ct&&L(e.ownerDocument,e.node,t,a)},ct=1,L=function(e,t,a,n){var r=e.getControllerFromModel(t);if(r){for(var o=t.firstChild,i=[];o;)o.nodeType==ct&&i.push(o),o=o.nextSibling;O(r,a,n);for(var d=0,l=i.length;d<l;d++)L(e,i[d],r,n)}},O=function(e,t,a){var n=new ja;return n.initMutationEvent(a,!1,!1,t,null,null,null,null),void e.dispatchEvent(n)},Ya={dispatchEvent:function(e){return Xa(this,e)},dispatchCustomEvent:function(e,t,a,n){var r=new Ha;return r.initCustomEventNS(null,e,t,a,n),Xa(this,r)},addEventListener:function(e,t,a,n){this.addEventListenerNS(null,e,t,a,n)},addEventListenerNS:function(e,t,a,n,r){this.local_listeners||(this.local_listeners={}),this.local_listeners[t]||(this.local_listeners[t]=[]);var o={};o.fn=a,o.namespaceURI=e,o.useCapture=n,o.context=r,this.local_listeners[t].push(o)},removeEventListener:function(e,t,a,n){this.removeEventListenerNS(null,e,t,a,n)},removeEventListenerNS:function(e,t,a,n,r){var o=this.local_listeners[t];if(o)for(var i=0;i<o.length;i++)if(o[i].fn==a&&o[i].useCapture==n&&o[i].context==r&&o[i].namespaceURI==e)return void o.splice(i,1)}};b$.mixin(b$.bdom.Document.prototype,{createEvent:function(e){switch(e.replace(/s$/,"")){case"Event":return new Pa;case"CustomEvent":return new Ha;case"UIEvent":return new ka;case"TextEvent":return new Ua;case"MouseEvent":return new $a;case"MouseWheelEvent":return new Fa;case"KeyboardEvent":return new V;case"MutationEvent":return new ja;case"ExceptionEvent":return new E;case"DragEvent":return new za;default:throw new Error("Event interface not supported!",arguments,0);}}}),b$.mixin(b$.bdom.Node.prototype,Ya),b$.module("b$.bdom.events",function(){(function(){return this})();b$.mixin(this,{Event:Pa,CustomEvent:Ha,UIEvent:ka,FocusEvent:Ba,MouseEvent:$a,MouseWheelEvent:Fa,TextEvent:Ua,KeyboardEvent:V,MutationEvent:ja,ExceptionEvent:E,DragEvent:za}),this.createDispatchEventAtTargetForAllChildren=Ja,this.EventTarget=b$.Class.extend(null),b$.mixin(this.EventTarget.prototype,Ya),b$.mixin(b$,Ya)}),b$.module("b$.bdom.util",function(){function e(e,t){for(var a=0,n=[],r=e.body.getElementsByTagName("script"),o;o=r[a++];)n.push(o);for(a=0;a<n.length;a++){o=n[a];var i=o.textContent||o.innerHTML||o.text||"",d=o.getAttribute("type");if("text/backbase+xml"==d||"application/backbase+xml"==d){if(0==i.indexOf("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><page"))return;console.log("type:::",d);var l=t.documentElement.insertDisplayChild;t.documentElement.insertDisplayChild=function(e){o.parentNode.insertBefore(e.htmlNode,o)};for(var s=qe(i,t,o),p=0,c=s.length;p<c;p++)t.documentElement.appendChild(s[p]);t.documentElement.insertDisplayChild=l}}}function t(e,a,n){n||(n=[]),e[a]&&e[a].apply(e,n);for(var r=e.childNodes,o=0;o<r.length;o++)t(r[o],a,n)}function a(e,t,n){n||(n=[]),t.apply(e,n);for(var r=e.childNodes,o=0;o<r.length;o++)a(r[o],t,n)}for(var n={},r=["<!DOCTYPE html [<!ENTITY nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","euro \"&#8364;\"","trade \"&#8482;\">]>"],o=160;256>o;o++)r[o-160]=r[o-160]+" \"&#"+o+";\"";n.HTMLEntities=r.join("><!ENTITY ")+"\n",n.parseFromString=function(e,t){var a=new Date,r=new h;if(document.all){var o=e.indexOf("<?xml ");0<=o&&(e=e.substr(e.indexOf("?>",o+1)+2)),t&&0>e.indexOf("<!DOCTYPE")&&(e=n.HTMLEntities+e)}else t&&0>e.indexOf("<!DOCTYPE")&&(e=e.replace(/^[\s]*(<\?xml .*?\?>)?/m,"$1"+n.HTMLEntities));try{var i=r.parseFromString(e,"application/xml");return i}catch(e){return alert(e),null}};var i=b$.Class.extend(function(){this.hSets={},this.hSets["default"]=[],this.sActiveSet="default"},{getID:function(){return null},addToSet:function(e,t){e||(e="default"),this.hSets[e]||(this.hSets[e]=[]),t.length?this.hSets[e]=this.hSets[e].concat(t):this.hSets[e].push(t);for(var a=0;a<t.length;a++)t[a].reflector=this},setActiveSet:function(e){e||(e="default"),this.hSets[e]&&(this.sActiveSet=e)},reflect:function(e,t,a,n){var r=this.findMatch(e);if(r){var o=this.getID(e),i=r.build(e,t,o,a);return n&&this.reflectInsert(e,n,i,null,a),i}},reflectDeep:function(e,t,a,n){var r=this.findMatch(e);return r?r.buildRecursive(this,e,t,a,n):this.buildRecursive(e,t,a,n)},buildRecursive:function(e,t,a,n){for(var r=[],o=e.firstChild;o;)r.push(o),o=o.nextSibling;for(var i=[],d=0;d<r.length;d++)i=i.concat(this.reflectDeep(r[d],t,a,n));return i},findMatch:function(e){for(var t=this.hSets[this.sActiveSet],a=0;a<t.length;a++)if(t[a].doMatch(e))return t[a];return null},reflectInsert:function(e,t,a,n,r){var o=this.findMatch(e);o&&o.insertChild(t,a,n,e,r)},connectToModel:function(e,t){var a=this,n=function(e){var n=t.all[a.getID(e.target.parentNode)],r=a.reflect(e.target,t,e.target._ssr,n);e.target._ssr=null,delete e.target._ssr},r=function(e){var n=t.all[a.getID(e.relatedNode)],r=t.all[a.getID(e.target)];if(!n)console.log("---------------------------- Parent not avaiable yet..."),console.log(e.relatedNode,e.target);else if(!r);else{var o;e.target.nextSibling?(o=t.all[a.getID(e.target.nextSibling)],a.reflectInsert(n.model,n,r,o)):a.reflectInsert(n.model,n,r,null)}},o=function(e){window.DBG&&console.log("model - DOMNodeRemoved",e.target)},i=function(e){var n=t.all[a.getID(e.target)];if(!n)console.log("No view trg found in debug");else{var r=n.parentNode;r&&(r.removeChild(n),n.destroy())}};e.addEventListener("DOMNodeInsertedIntoDocument",n),e.addEventListener("DOMNodeInserted",r),e.addEventListener("DOMNodeRemoved",o),e.addEventListener("DOMNodeRemovedFromDocument",i),this.disconnectFromModel=function(e){e.removeEventListener("DOMNodeInsertedIntoDocument",n),e.removeEventListener("DOMNodeInserted",r),e.removeEventListener("DOMNodeRemoved",o),e.removeEventListener("DOMNodeRemovedFromDocument",i)}},disconnectFromModel:function(){}}),d=b$.Class.extend(function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},{match:"",doMatch:function(e){return!(e.localName!=this.match)},buildRecursive:function(e,t,a,n,r){for(var o=[],i=t.firstChild;i;)o.push(i),i=i.nextSibling;var d=e.getID(t),l;l=this.build(t,a,d,n),l&&(r&&this.insertChild(r,l,null,t,n),r=l,n=null);for(var s=[],p=0;p<o.length;p++)s=s.concat(e.reflectDeep(o[p],a,n,r));return l?l:s},build:function(e,t,a,n){var r=this.getInstance(e,t,a);if(r)return this.initInstance(r,e),n&&(r.htmlNode=n,r.htmlNode.viewController=r),this.fn&&this.fn(r,config),r},insertChild:function(e,t,a){a?e.insertBefore(t,a):e.appendChild(t,a)},getInstance:function(){},initInstance:function(){}}),l=d.extend(null,{match:"",doMatch:function(){return!0},buildRecursive:function(e,t,a,n,r){console.log("DOMTextReflection.buildRecursive");var o=e.getID(t),i;if(i=this.build(t,a,o,n),i){if(r){var d=this.reflector.findMatch(r);d&&d.insertChild(r,i,null,t,n)}r=i,n=null}return i?i:aRes},insertChild:function(){},getInstance:function(e,t){return t.createTextNode(e.nodeValue)},initInstance:function(){}}),s=d.extend(null,{ns:"http://backbase.com/2012/portalView",localName:"baseElement",attr:!1,getNS:function(){return this.ns},getLocalName:function(){return this.localName},match:"",doMatch:function(e){return!(e.localName!=this.match)},getInstance:function(e,t,a,n){t._newIDhack=a;var r;if(b$.bdom.namespaces[this.getNS(e)]&&b$.bdom.namespaces[this.getNS(e)].getClass(this.getLocalName(e))){var o=b$.bdom.namespaces[this.getNS(e)].getClass(this.getLocalName(e));r=new o(t,this.getNS(e),this.getLocalName(e))}if(!o){var i=this;if(n){console.log("Error building: "+this.getNS(e),this.getLocalName(e)),console.log("Fallingback to: "+this.ns,e.localName.toLowerCase());var o=b$.bdom.namespaces[this.ns].getClass(e.localName.toLowerCase());r=new o(t,this.ns,e.localName.toLowerCase())}else b$.portal._private.definition.getResourcesFromConfig(e.getAttribute("config"),function(){r=i.getInstance(e,t,a,!0)})}return r},initInstance:function(){},htmlRelocateChild:function(){}}),p=s.extend(null,{ns:"http://backbase.com/2012/view",localName:"baseElement",doMatch:function(e){return!!b$.ua.matchesSelector(e,this.match)},initInstance:function(e,t){if(this.attr)if(!0==this.attr)for(var a=0;a<t.attributes.length;a++)e.setAttribute(t.attributes[a].nodeName,t.attributes[a].nodeValue);else for(var n in this.attr){var r=t.getAttribute(n);null!=r&&e.setAttribute(config.attr[n],r)}!1===this.render&&(e.htmlNode=t,e.htmlNode.viewController=e)},insertChild:function(e,t,a,n,r){if(a?e.insertBefore(t,a):e.appendChild(t),r=n,!0==this.render&&r&&t.htmlNode&&t.htmlNode.nodeType){var o=t.getDisplay("area");o||(o=t.htmlNode);for(var i=r.firstChild;i;)o.appendChild(i),i=r.firstChild;r.parentNode.insertBefore(t.htmlNode,r),r.parentNode.removeChild(r)}},xxxinitInstance:function(e){if(!0!=this.render&&(e.htmlNode=html),this.fn&&this.fn(e,this),!0!=this.render&&(e.htmlNode.viewController=e),bdomParent.ownerDocument.bMoveDisplayChildren=!1,bdomParent.appendChild(e),bdomParent.ownerDocument.bMoveDisplayChildren=!0,!0==this.render&&html&&e.htmlNode&&e.htmlNode.nodeType){var t=e.getDisplay("area");t||(t=e.htmlNode);for(var a=html.firstChild;a;)t.appendChild(a),a=html.firstChild;html.parentNode.insertBefore(e.htmlNode,html),html.parentNode.removeChild(html)}return e}});this.DOMReflector=i,this.DOMReflection=d,this.DOMTextReflection=l,this.RFL_DOM2Control=s,this.RFL_HTMLEnhance=p,this.processTools=n,this.findAndProcessScriptTags=function(t,a,n){e(t,bdoc,n),n?n.appendChild(res):a.appendChild(res)},this.startup=function(t){var a=b$.bdom.domImplementation.createDocument("http://backbase.com/2012/UADisplay","application");a.insertDisplayChild=function(e){t.body.appendChild(e.htmlNode)},t.body.appendChild(a.documentElement.htmlNode),a.documentElement.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.documentElement.setAttribute("xmlns:d","http://backbase.com/2013/UADisplay"),a.documentElement.setAttribute("xmlns:v","http://backbase.com/2012/view"),a.htmlNode=t.body,a.bMoveDisplayChildren=!0,e(t,a),a.bMoveDisplayChildren=!0},this.easedImportXMLString=qe,this.callMethodRecursively=t,this.callFunctionRecursively=a});var Qa=/[\n\t\r]/g,Za={init:function(){this.divBuilder=document.createElement("div")},createElementFromString:function(e,t){return jQuery(e,t).get(0)},createHTMLFromString:function(e){return this.divBuilder.innerHTML=e,this.divBuilder.firstChild},findCaptureClass:function(e,t){var a=[];return this._findCaptureClass(e,t,a),a},_findCaptureClass:function(e,t,a){if(1==t.nodeType)if(this.hasClass(t,e))a.push(t);else for(var n=t.childNodes.length,r=0,o;r<n;r++)o=t.childNodes[r],this._findCaptureClass(e,o,a)},hasClassUpwards:function(e,t){for(;e;){if(this.hasClass(e,t))return e;e=e.parentNode}},hasClass:function(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){var a=e.className||"";this.hasClass(e,t)||(e.className=a+" "+t)},removeClass:function(e,t){var a=e.className||"";this.hasClass(e,t)&&(e.className=a.replace(t,""))},getStyle:function(e,t){if(document.defaultView){var a=document.defaultView.getComputedStyle(e,null);return a?a.getPropertyValue(t):""}return e.currentStyle[t]},setStyle:function(e,t,a){e.style[t]=a},bindEvent:function(e,t,a){jQuery(e).bind(t,a)},handlePreventDefault:I,cssSelector:function(e,t){for(var a=jQuery(e,t),n=[],r=0;r<a.length;r++)n.push(a.get(r));return n},getChildren:function(e){return jQuery(e).children().get()},getDescendants:function(e){return jQuery(e).find("*").get()},getContents:function(e){return jQuery(e).contents().get()},getParents:function(e){return jQuery(e).parents().get()},getBoxObject:function(e,t){var a=jQuery(e).offset(),n={x:a.left,y:a.top,left:a.left,top:a.top,w:e.offsetWidth,h:e.offsetHeight};return n},getBorder:function(e,t){return"tb"==t?parseInt(jQuery(e).css("border-top-width")||0)+parseInt(jQuery(e).css("border-bottom-width")||0):parseInt(jQuery(e).css("border-left-width")||0)+parseInt(jQuery(e).css("border-right-width")||0)},getPadding:function(e,t){return"tb"==t?parseInt(jQuery(e).css("padding-top")||0)+parseInt(jQuery(e).css("padding-bottom")||0):parseInt(jQuery(e).css("padding-left")||0)+parseInt(jQuery(e).css("padding-right")||0)},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight},setTop:function(e,t){jQuery(e).css("top",t)},setLeft:function(e,t){jQuery(e).css("left",t)},setTopLeft:function(e,t,a){jQuery(e).css("top",t),jQuery(e).css("left",a)},setWidthPB:function(e,t){jQuery(e).width(t-this.getPadding(e)-this.getBorder(e))},setHeightPB:function(e,t){jQuery(e).height(t-this.getPadding(e,"tb")-this.getBorder(e,"tb"))},setWidth:function(e,t){jQuery(e).width(t)},setHeight:function(e,t){jQuery(e).height(t)},setWidthHeightPB:function(e,t,a){t!==void 0&&(e.style.width=t+"px"),a!==void 0&&(e.style.height=a+"px")},setWidthHeight:function(e,t,a){return jQuery(e).width(t),jQuery(e).height(a),e},animate:function(e,t,a,n){jQuery(e).animate(t,a,null,n)}};b$._private.htmlAPI=Za;var tn={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",a=0,n,r,o,i,d,l,s;for(e=tn._utf8_encode(e);a<e.length;)n=e.charCodeAt(a++),r=e.charCodeAt(a++),o=e.charCodeAt(a++),i=n>>2,d=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,s=63&o,isNaN(r)?l=s=64:isNaN(o)&&(s=64),t=t+this._keyStr.charAt(i)+this._keyStr.charAt(d)+this._keyStr.charAt(l)+this._keyStr.charAt(s);return t},decode:function(e){var t="",a=0,n,r,o,i,d,l,s;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");a<e.length;)i=this._keyStr.indexOf(e.charAt(a++)),d=this._keyStr.indexOf(e.charAt(a++)),l=this._keyStr.indexOf(e.charAt(a++)),s=this._keyStr.indexOf(e.charAt(a++)),n=i<<2|d>>4,r=(15&d)<<4|l>>2,o=(3&l)<<6|s,t+=ot(n),64!=l&&(t+=ot(r)),64!=s&&(t+=ot(o));return t=tn._utf8_decode(t),t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0,n;a<e.length;a++)n=e.charCodeAt(a),128>n?t+=ot(n):127<n&&2048>n?(t+=ot(192|n>>6),t+=ot(128|63&n)):(t+=ot(224|n>>12),t+=ot(128|63&n>>6),t+=ot(128|63&n));return t},_utf8_decode:function(e){for(var t="",a=0,n=c1=c2=0;a<e.length;)n=e.charCodeAt(a),128>n?(t+=ot(n),a++):191<n&&224>n?(c2=e.charCodeAt(a+1),t+=ot((31&n)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=ot((15&n)<<12|(63&c2)<<6|63&c3),a+=3);return t}};b$._private.format={trblAddUnit:function(){},trblFromString:function(e){if("object"==typeof e)return null==e&&(e={}),{top:e.top||0,right:e.right||0,bottom:e.bottom||0,left:e.left||0};"string"!=typeof e&&(e&&e.toString?e=e.toString():e="");var t=e.split(" "),a=t.length;return 1==a?t[1]=t[2]=t[3]=t[0]:2==a?(t[2]=t[0],t[3]=t[1]):3==a&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0}},addUnits:function(e,t){return"number"==typeof e?e+(t||"px"):null==e||""===e||"auto"==e?e||"":void 0},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},base64:tn},b$.module("b$.view",function(){var e=function(){return this}(),t=b$.Class,a=b$._private.uri.URI,n=b$._private.htmlAPI,r=t.extend(function(e){if(e.init&&e.evaluateType&&e.loadResource&&e.evaluateResource)this.init=e.init,this.evaluateType=e.evaluateType,this.loadResource=e.loadResource,this.evaluateResource=e.evaluateResource,e.toString&&(this.toString=e.toString),e.equals&&(this.equals=e.equals),this.init();else throw"Invalid Argument Exception for ResourceType"},{isCoreAttribute:function(e){if(!this.coreAttributes)return!1;for(var t=0;t<this.coreAttributes.length;t++)if(this.coreAttributes[t]==e)return!0;return!1},setResourceAttributesOnTag:function(e,t){for(var a=0,n;a<t.length;a++)if(n=t[a].name,!this.isCoreAttribute(n)){var r=t[a].value;e.setAttribute(n,r)}return e}},{}),o=t.extend(function(e,t,a,n,r){this.resourceType=null,this.state=o.State.PENDING,this.options=n||null,this.mime=e,this.uri=t,this.source=a,this.callbacks=[],this.aPackageResources=[],this.tagAttributes=r||[],(t&&a||!t&&!a)&&(this.source="")},{isInline:function(){return null!=this.source},getMime:function(){return this.mime},getUri:function(){return this.uri},getSource:function(){return this.source},getResourceType:function(){return this.resourceType},getTagAttributes:function(){return this.tagAttributes},equals:function(e){if(this.isInline())return this.source==e.source;var t=new a(this.uri);t.normalize();var n=new a(e.uri);return n.normalize(),t.path==n.path},load:function(){this.state=o.State.LOADING,this.resourceType.loadResource(this)},evaluate:function(){this.state=o.State.EVALUATING,this.resourceType&&this.resourceType.evaluateResource(this)},loadingComplete:function(){if(this.state=o.State.LOADED,this.isInline())return void this.evaluate();for(var e=0;e<this.callbacks.length;e++)this.callbacks[e](this)},loadingFailed:function(){this.state=o.State.FAILED;for(var e=0;e<this.callbacks.length;e++)this.callbacks[e](this)},evaluationComplete:function(){this.state=o.State.EVALUATED;for(var e=0;e<this.callbacks.length;e++)this.callbacks[e](this)},isPending:function(){return this.state==o.State.PENDING},isLoading:function(){return this.state==o.State.LOADING},isLoaded:function(){return this.state==o.State.LOADED},isPendingEvaluation:function(){return this.state==o.State.PENDING_EVALUATION},isEvaluating:function(){return this.state==o.State.EVALUATING},isEvaluated:function(){return this.state==o.State.EVALUATED},isFailed:function(){return this.state==o.State.FAILED},isPackage:function(){return 0<this.aPackageResources.length}},{State:{PENDING:0,LOADING:1,LOADED:2,PENDING_EVALUATION:3,EVALUATING:4,EVALUATED:5,FAILED:6}}),i=t.extend(function(e){this.onReadyHandler=null,this.resourceManager=e?e:b$._private.resourceManager,this.sequence=[]},{add:function(e,t,a,n,r){var i=this.resourceManager.addResource(new o(e,t,a,n,r),this);this.sequence.push(i)},addURI:function(e,t,a,n){this.add(e,t,null,a,n)},addInline:function(e,t,a,n){this.add(e,null,t,a,n)},startLoading:function(e,t){this.onReadyHandler=e,this.onFailureHandler=t,this.resourceManager.loadSequence(this)}},{}),d=t.extend(function(){this.resources=[],this.types=[]},{addResource:function(e,t){if(e.resourceType=this.getTypeForResource(e),null==e.getResourceType())throw"invalid argument exception: Cannot allocate a resource type for "+e.getMime();for(var a=this,n=function(e){a.callback(e,t)},r=0,o;r<this.resources.length;r++)if(o=this.resources[r],o.equals(e))return o.callbacks.push(n),r;return e.callbacks.push(n),this.resources.push(e),this.registerPackageContent(e,t),r},loadSequence:function(e){for(var t=!1,a=0,n;a<e.sequence.length;a++)n=this.resources[e.sequence[a]],n.isPending()&&(t=!0,n.load());t||this.callback(null,e)},registerPackageContent:function(e,t){var a=d.Constants.PACKAGE_ATTRIBUTE_NAME,n=d.Constants.PACKAGE_URI_DELIMITER;if(e.options&&e.options[a])for(var r=e.options[a].split(n),i=0;i<r.length;i++){var l=r[i].replace(/\s+/g,""),s=new o(e.getMime(),l,null);s.state=o.State.PENDING_EVALUATION;var p=this.addResource(s,t);e.aPackageResources.push(p)}else return},registerType:function(e){var t=new r(e);this.types.push(t)},getTypeForResource:function(e){for(var t=0,a;t<this.types.length;t++)if(a=this.types[t],a.evaluateType(e.getMime()))return a;return null},addPageHeadResources:function(){var e=this,t=n.cssSelector("head link",document);t.forEach(function(t){var a=t.getAttribute("type")||"text/css",n=t.getAttribute("href"),r=""==t.innerHTML?void 0:t.innerHTML,i=new o(a,n,r);i.evaluate(),i.state=o.State.EVALUATED,e.resources.push(i)});var a=n.cssSelector("head script",document);a.forEach(function(t){var a=t.getAttribute("type")||"text/javascript",n=t.getAttribute("src"),r=""!=t.textContent&&t.textContent?t.textContent:""===t.innerHTML?void 0:t.innerHTML;if(n||r){var i=new o(a,n,r);i.evaluate(),i.state=o.State.EVALUATED,e.resources.push(i)}})},callback:function(e,t){for(var a=this,n=0,r;n<t.sequence.length;n++){if(r=a.resources[t.sequence[n]],r.isPending())return void r.load();if(r.isLoading())return;if(r.isLoaded())return void r.evaluate();if(r.isPendingEvaluation())return;if(r.isEvaluated()){if(r.isPackage()){for(var n=0,i;n<r.aPackageResources.length;n++)i=r.aPackageResources[n],a.resources[i].state=o.State.EVALUATED;var d=r.aPackageResources;r.aPackageResources=[];for(var n=0,i;n<d.length;n++)i=d[n],a.callback(a.resources[i],t)}continue}if(r.isFailed()){t.onReadyHandler=t.onFailureHandler;continue}}if(t.onReadyHandler){var l=t.onReadyHandler;t.onReadyHandler=null,l()}}},{Constants:{PACKAGE_ATTRIBUTE_NAME:"data-package-info",PACKAGE_URI_DELIMITER:";",MAXIMIZED_ATTRIBUTE_NAME:"data-bb-mode"}});b$._private.ResourceSequence=i,b$._private.resourceManager=new d,b$._private.resourceManager.registerType({init:function(){this.mimeArray=["text/javascript","application/javascript"],this.coreAttributes=["src","type","onload","onerror"],this.label="JavaScript Resource"},evaluateType:function(e){for(var t=0;t<this.mimeArray.length;t++)if(this.mimeArray[t]==e)return!0;return!1},loadResource:function(e){if(e.isInline())e.loadingComplete();else{var t=function(){e.loadingComplete()},a=function(){e.loadingFailed()},n=e.getUri(),r=document.createElement("script");if(r.type=e.getMime(),this.setResourceAttributesOnTag(r,e.getTagAttributes()),window.ActiveXObject){var o=null;try{o=new XMLHttpRequest}catch(e){try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){o=new ActiveXObject("Microsoft.XMLHTTP")}}o.onreadystatechange=function(){try{if(void 0!==this.done)return;200<=this.status&&300>this.status&&(this.done=!0,r.text=this.responseText,e.scriptTag=r,t()),400<=this.status&&(this.done=!0,a())}catch(e){throw e}},setTimeout(function(){o.open("get",n,!0),o.send(null)},1)}else r.src=n,r.async=!1,r.onload=t,r.onerror=a,document.getElementsByTagName("head")[0].appendChild(r)}},evaluateResource:function(e){if(e.isInline()){var t=document.createElement("script");t.type=e.getMime(),t.text=e.getSource();var a=document.getElementsByTagName("head")[0];a.appendChild(t)}else e.scriptTag&&document.getElementsByTagName("head")[0].appendChild(e.scriptTag);e.evaluationComplete()},toString:function(){return this.label},equals:function(e){return!!this.label&&this.label==e.label}}),b$._private.resourceManager.registerType({init:function(){this.mime="text/css",this.coreAttributes=["href","type","rel"],this.label="StyleSheet Resource"},evaluateType:function(e){return this.mime==e},loadResource:function(e){if(!e.isInline()){var t=document.createElement("link");t.type=e.getMime(),t.href=e.getUri();var a=document.createAttribute("rel");a.nodeValue="stylesheet",t.setAttributeNode(a),this.setResourceAttributesOnTag(t,e.getTagAttributes());var n=document.getElementsByTagName("head")[0];n.appendChild(t)}e.loadingComplete()},evaluateResource:function(e){if(e.isInline()){var t=document.createElement("style");t.type=e.getMime(),t.styleSheet?t.styleSheet.cssText=e.getSource():t.appendChild(document.createTextNode(e.getSource()));var a=document.getElementsByTagName("head")[0];a.appendChild(t)}e.evaluationComplete()},equals:function(e){return!!this.mime&&this.mime==e.mime},toString:function(){return this.label}})});var en=b$._private.ResourceSequence;b$.module("b$._private.template",function(){var e=b$.Class,t=b$._private.uri.URI,a=e.extend(function(e){this.template=e},{generate:function(e){return this.template.replace(a.VARIABLE_REGEXP,function(t,a){return e.getPreference(a)})},getVariableNames:function(){return(this.template.match(/\${([^}]*)}/gm)||[]).map(function(e){return e.slice(2,-1)})}},{VARIABLE_REGEXP:/\${([^}]*)}/gm}),n=e.extend(function(e,n,r){r=r||{},this.bindingTemplate=new a(t.resolve(n,e)),this.matchingRegexp=new RegExp("^"+this.bindingTemplate.generate({getContextVariableValue:function(e){return"("+(r[e]||/.+/).source+")"}})+"$"),this.constraints=r},{match:function(e){var t=this.bindingTemplate.getVariableNames(),a=this.matchingRegexp.exec(e);return a?{getContextVariableValue:function(e){return a[t.indexOf(e)+1||-1]||""}}:null},bind:function(e){return this.bindingTemplate.generate(e)}});this.StringTemplate=a,this.SimpleURITemplate=n;var r=function(e,t){if(null==e)return e;var a=e.indexOf("$(");if(-1!=a){var n=e.indexOf(")");if(-1==n)return e;var o=e.substring(a+2,n),i=t[o];"undefined"==typeof i&&(i="jQuery("+o+")");var d=e.substring(0,a)+i+r(e.substring(n+1),t);return d}return e};this.replaceParams=r}),b$.module("b$.view.bdom.layout",function(){var e=function(){return this}(),t=b$.Class,a=b$._private.htmlAPI,n=function(e,t,a){return t&&e<t?t:a&&e>a?a:e},r=t.extend(function(e){this.component=e,this.dir={direction:"vertical"}},{getHTML:function(){return this.component.htmlNode},getHTMLBody:function(){return this.component.htmlAreas[0]},initLayout:function(){!this.initialized,this.initialized=!0},layout:function(){this.bLayouting=!0,this.initLayout(),!1===this.beforeLayout.apply(this,arguments)?this.layoutCancelled=!0:(this.layoutCancelled=!1,this.doLayout.apply(this,arguments),this.childrenChanged=!1,this.bLayouting=!1,this.afterLayout.apply(this,arguments)),this.bLayouting=!1},beforeLayout:function(){return!0},doLayout:function(){console.log(this,this.component)},afterLayout:function(){return!0}}),o=r.extend(null,{doLayout:function(){}}),i=r.extend(null,{doLayout:function(e,t){this.component.setHTMLWidthHeight(e,t)}}),d=r.extend(null,{}),l=r.extend(null,{}),s=r.extend(null,{}),p=r.extend(function(e){r.call(this,e),this.myBoxLayout=new g},{doLayout:function(e,t){a.setWidthHeightPB(this.component.htmlNode,e,t),this.myBoxLayout.component={},this.myBoxLayout.component.htmlAreas=[],this.myBoxLayout.component.htmlAreas[0]=this.component.htmlNode,this.colWidths=this.colWidths||[33,33,34],this.rowHeights=this.rowHeights||[33,33,34],this.myBoxLayout.setDirection(!1);var n=this.component.resizeBars,r=this.component.getAreaOrderedChildren();if(r.length){var o=[],i=4;o.push();var d=new m(n[0]);d.height=i,o=r[0].concat([d]);var l=this.myBoxLayout.computeChildCoords(o,{width:e,height:t/100*this.rowHeights[0]});this.myBoxLayout.updateChildBoxes(l.boxes);var d=new m(n[3]);d.height=i,o=[d].concat(r[4]),l=this.myBoxLayout.computeChildCoords(o,{width:e,height:t/100*this.rowHeights[2]});for(var s=0,p=l.boxes.length;s<p;s++)l.boxes[s].top+=t/100*(100-this.rowHeights[2]);this.myBoxLayout.updateChildBoxes(l.boxes),l=this.myBoxLayout.computeChildCoords(r[1],{width:e/100*this.colWidths[0],height:t/100*this.rowHeights[1]});for(var s=0,p=l.boxes.length;s<p;s++)l.boxes[s].top+=t/100*this.rowHeights[0];this.myBoxLayout.updateChildBoxes(l.boxes),l=this.myBoxLayout.computeChildCoords(r[2],{width:e/100*this.colWidths[1]-i/2,height:t/100*this.rowHeights[1]});for(var s=0,p=l.boxes.length;s<p;s++)l.boxes[s].top+=t/100*this.rowHeights[0],l.boxes[s].left+=i+e/100*this.colWidths[0];this.myBoxLayout.updateChildBoxes(l.boxes),l=this.myBoxLayout.computeChildCoords(r[3],{width:e/100*this.colWidths[2]-2*i,height:t/100*this.rowHeights[1]});for(var s=0,p=l.boxes.length;s<p;s++)l.boxes[s].top+=t/100*this.rowHeights[0],l.boxes[s].left+=e/100*this.colWidths[0],l.boxes[s].left+=2*i+e/100*this.colWidths[1];return this.myBoxLayout.updateChildBoxes(l.boxes),o=[],d=new m(n[1]),d.width=4,o.push(d),d=new m(n[2]),d.width=4,o.push(d),this.myBoxLayout.setDirection(!0),l=this.myBoxLayout.computeChildCoords(o,{width:2*i,height:t/100*this.rowHeights[1]}),l.boxes[0].top+=t/100*this.rowHeights[0],l.boxes[0].left+=e/100*this.colWidths[0],l.boxes[1].top+=t/100*this.rowHeights[0],l.boxes[1].left+=e/100*(100-this.colWidths[2]),void this.myBoxLayout.updateChildBoxes(l.boxes);var c=this.component.htmlAreas,u=parseInt((t-8)/3,10),g=parseInt((e-8)/3,10),h=4}}}),p=r.extend(function(e){r.call(this,e),this.myBoxLayout=new g},{doLayout:function(e,t){a.setWidthHeightPB(this.component.htmlNode,e,t),this.myBoxLayout.component={},this.myBoxLayout.component.htmlAreas=[],this.myBoxLayout.component.htmlAreas[0]=this.component.htmlNode;var n=this.component.resizeBars,r=this.component.getAreaOrderedChildren(),o=[];o.push(r[0][0]);var i=new m(n[0]);i.height=4,o.push(i),o.push(r[1][0]);var d=r[1][0].flex;r[1][0].flex=1;var i=new m(n[3]);i.height=4,o.push(i),o.push(r[4][0]),this.myBoxLayout.setDirection(!1);var l=this.myBoxLayout.computeChildCoords(o,{width:e,height:t});l.boxes[1].height=4,l.boxes[3].height=4,this.myBoxLayout.updateChildBoxes(l.boxes),t=l.boxes[2].height;var s=l.boxes[2].top,o=[];o.push(r[1][0]),r[1][0].flex=d;var i=new m(n[1]);i.width=4,o.push(i),o.push(r[2][0]);var i=new m(n[2]);i.width=4,o.push(i),o.push(r[3][0]),this.myBoxLayout.setDirection(!0);var l=this.myBoxLayout.computeChildCoords(o,{width:e,height:t});return l.boxes[0].top=s,l.boxes[1].top=s,l.boxes[2].top=s,l.boxes[3].top=s,l.boxes[4].top=s,l.boxes[1].width=4,l.boxes[3].width=4,void this.myBoxLayout.updateChildBoxes(l.boxes);var p=this.component.htmlAreas,c=parseInt((t-8)/3,10),u=parseInt((e-8)/3,10),g=4}}),c=r.extend(null,{beforeLayout:function(){return!0},doLayout:function(){console.log(this,this.component)},afterLayout:function(){return!0}}),m=t.extend(function(e){this.htmlNode=e,this.width=0,this.height=0,this.flex=0,this.margins={top:0,left:0,bottom:0,right:0},this.minWidth=0,this.minHeight=0,this.maxWidth=1/0,this.maxHeight=1/0},{getWidth:function(){return this.htmlNode.offsetWidth},getHeight:function(){return this.htmlNode.offsetHeight},getSize:function(){return a.getSize(this.htmlNode)},setWidthHeight:function(e,t){return a.setWidthHeight(this.htmlNode,e,t)}}),u=function(e,t){e.scrollOffset=0,e.align="middle",e.align="stretch",e.padding={top:0,right:0,bottom:0,left:0},e.dir=t?{direction:"horizontal",parallelSizeIndex:0,perpendicularSizeIndex:1,parallelPrefix:"width",parallelPrefixCap:"Width",parallelLT:"l",parallelRB:"r",parallelBefore:"left",parallelBeforeCap:"Left",parallelAfter:"right",parallelPosition:"x",perpendicularPrefix:"height",perpendicularPrefixCap:"Height",perpendicularLT:"t",perpendicularRB:"b",perpendicularLeftTop:"top",perpendicularRightBottom:"bottom",perpendicularPosition:"y"}:{direction:"vertical",parallelPrefix:"height",parallelPrefixCap:"Height",parallelBefore:"top",parallelAfter:"bottom",perpendicularPrefix:"width",perpendicularPrefixCap:"Width",perpendicularLT:"l",perpendicularRB:"r",perpendicularLeftTop:"left",perpendicularRightBottom:"right"}},g=r.extend(function(e){this.component=e,this.setDirection(!1)},{pack:"start",availableSpaceOffset:0,reserveOffset:!0,shrinkToFit:!0,clearInnerCtOnLayout:!1,flexSortFn:function(e,t){var a="max"+this.parallelPrefixCap,n=1/0;return e=e.component[a]||n,t=t.component[a]||n,!!(isFinite(e)||isFinite(t))&&e-t},minSizeSortFn:function(e,t){return t.available-e.available},setDirection:function(e){u(this,e)},doLayout:function(e,t){if(this.component.htmlNode){this.component.setHTMLWidthHeight(e,t);var a=this.component.getAreaOrderedChildren(),n=a[0];if(n&&n[0]&&n[0].htmlNode){var r=this.computeChildCoords(n,{width:e,height:t});this.updateChildBoxes(r.boxes)}}},updateChildBoxes:function(e){for(var t=0;t<e.length;t++){var n=e[t].component,r=e[t].top;isNaN(r)&&(r=n.top),a.setTop(n.htmlNode,r);var o=e[t].left;isNaN(o)&&(o=n.left),a.setLeft(n.htmlNode,e[t].left);var i=e[t].width;isNaN(i)&&(i=n.width);var d=e[t].height;isNaN(d)&&(d=n.height),n.setWidthHeight(i,d)}},computeChildCoords:function(e,t){var a=this.dir;a||this.setDirection(!1),a=this.dir;var r=Math,o=r.max,i=1/0,d=t[a.parallelPrefix]-this.scrollOffset,l=t[a.perpendicularPrefix],s=this.padding,p=s[a.parallelBefore],c=p+s[a.parallelAfter],m=s[a.perpendicularLeftTop],u=m+s[a.perpendicularRightBottom],g=o(0,l-u),h="start"==this.pack,f="center"==this.pack,y="end"==this.pack,b=0,v=0,x=0,_=0,N=0,T=[],E=[],C=e.length,S,A,D,w,I,M,L,O,R,P,H,k,B,F,U,j,z,X,V,W,q,G,K,J,Y,Q,Z,ee;for(D=0;D<C;D++){w=e[D],M=w[a.perpendicularPrefix];var te=w.margins[a.parallelBefore]+w.margins[a.parallelAfter];R={component:w,margins:w.margins},w.flex?(v+=w.flex,I=0):(!(w[a.parallelPrefix]&&M)&&(O=w.getSize()),I=w[a.parallelPrefix]||O[a.parallelPrefix],M=M||O[a.perpendicularPrefix]),b+=te+(I||0),x+=te+(w.flex?w[a.parallelMinString]||0:I),_+=te+(w[a.parallelMinString]||I||0),"number"!=typeof M&&(M=w["get"+a.perpendicularPrefixCap]()),N=o(N,o(M,w[a.perpendicularMinString]||0)+w.margins[a.perpendicularLeftTop]+w.margins[a.perpendicularRightBottom]),R[a.parallelPrefix]=I||S,R.dirtySize=!0,R[a.perpendicularPrefix]=M||S,T.push(R)}if(this.autoSize||(P=x-d,H=_>d),k=o(0,d-b-c-(this.reserveOffset?this.availableSpaceOffset:0)),H)for(D=0;D<C;D++)z=T[D],B=e[D][a.parallelMinString]||e[D][a.parallelPrefix]||z[a.parallelPrefix],z.dirtySize=z.dirtySize||z[a.parallelPrefix]!=B,z[a.parallelPrefix]=B;else if(0<P){for(D=0;D<C;D++)F=e[D],B=F[a.parallelMinString]||0,F.flex?(z=T[D],z.dirtySize=z.dirtySize||z[a.parallelPrefix]!=B,z[a.parallelPrefix]=B):this.shrinkToFit&&E.push({minSize:B,available:T[D][a.parallelPrefix]-B,index:D});for(E.sort(this.minSizeSortFn),D=0,U=E.length;D<U;D++)(j=E[D].index,j!=S)&&(F=e[j],B=E[D].minSize,z=T[j],X=z[parallelPrefix],V=o(B,X-r.ceil(P/(U-D))),W=X-V,z.dirtySize=z.dirtySize||z[a.parallelPrefix]!=V,z[a.parallelPrefix]=V,P-=W);H=0<P}else{for(K=k,J=v,G=[],D=0;D<C;D++)w=e[D],h&&w.flex&&G.push(T[e.indexOf(w)]);for(G.sort(this.flexSortFn),D=0;D<G.length;D++)Q=G[D],w=Q.component,L=Q.margins,Y=r.ceil(w.flex/J*K),Y=it(w["min"+a.parallelPrefixCap]||0,r.min(w["max"+a.parallelPrefixCap]||i,Y)),K-=Y,J-=w.flex,Q.dirtySize=Q.dirtySize||Q[a.parallelPrefix]!=Y,Q[a.parallelPrefix]=Y}f?a.parallelOffset+=k/2:y&&(a.parallelOffset+=k);for(var D=0;D<C;D++)w=e[D],Q=T[D],L=Q.margins,Z=L[a.perpendicularLeftTop]+L[a.perpendicularRightBottom],p+=L[a.parallelBefore],Q[a.parallelBefore]=p,Q[a.perpendicularLeftTop]=m+L[a.perpendicularLeftTop],"stretch"==this.align?(ee=n(g-Z,w[a.perpendicularMinString]||0,w[a.perpendicularMaxString]||i),Q.dirtySize=Q.dirtySize||Q[a.perpendicularPrefix]!=ee,Q[a.perpendicularPrefix]=ee):"stretchmax"==this.align?(ee=n(N-Z,w[a.perpendicularMinString]||0,w[a.perpendicularMaxString]||i),Q.dirtySize=Q.dirtySize||Q[a.perpendicularPrefix]!=ee,Q[a.perpendicularPrefix]=ee):this.align==this.alignCenteringString?(q=o(g,N)-0-Q[a.perpendicularPrefix],0<q&&(Q[a.perpendicularLeftTop]=m+tt(q/2))):(console.log("no align"),ee=n(g-Z,w[a.perpendicularMinString]||0,w[a.perpendicularMaxString]||i),Q.dirtySize=Q.dirtySize||Q[a.perpendicularPrefix]!=ee,Q[a.perpendicularPrefix]=ee),p+=(Q[a.parallelPrefix]||0)+L[a.parallelAfter];return{boxes:T,meta:{calculatedWidth:A,maxSize:N,nonFlexSize:b,desiredSize:x,minimumSize:_,shortfall:P,tooNarrow:H}}},setHTMLBodyWidthHeight:function(e,t){var n=this,r=it,o=this.align,i=this.padding,d=e.width,l=e.height,s=t.meta,p=this.component.getHTMLBody(),c,m;"horizontal"==this.direction?(c=d,m=s.maxSize+i.top+i.bottom+a.getBorder(p,"tb"),"stretch"==o?m=l:"middle"==o&&(m=r(l,m))):(m=l,c=s.maxSize+i.left+i.right+a.getBorder(p,"lr"),"stretch"==o?c=d:"center"==o&&(c=r(d,c))),a.setWidthHeight(p,c||void 0,m||void 0)}});this.Layout=r,this.NoLayout=o,this.AutoLayout=i,this.FitLayout=d,this.BoxLayout=g,this.TableLayout=l,this.TileLayout=c,this.BorderLayout=p,this.CardLayout=s}),b$.module("b$.view.bdom",function(){function e(t,a,n){var r;if((r=Rt&&8>kt?t.className:t.getAttribute("class"))&&r.match(a))if(n)n.push(t);else return t;for(var o=0,i=t.childNodes,r;t=i[o];o++)if(1==t.nodeType&&!t.viewController&&!t.getAttribute("data-pid")&&(t=e(t,a,n)))return t;return null}function t(e,t){return e=parseInt(e.getOrderPreference())||0,t=parseInt(t.getOrderPreference())||0,e-t}var a=b$.bdom.Namespace,n=b$.bdom.Element,r=b$.document,o=b$._private.html,i=b$._private.htmlAPI,d=new a("http://backbase.com/2012/view"),l=n.extend(function(){n.apply(this,arguments),this.cnBase=this.cnBasePrefix+this.localName},{namespaceURI:"http://backbase.com/2012/view",localName:"baseDisplayElement",_checkin:function(){this.createDisplay()},_checkup:function(){this.parentNode&&this.parentNode.insertDisplayChild&&this.parentNode.insertDisplayChild(this)},_checkout:function(){this.htmlNode&&this.htmlNode.parentNode&&this.htmlNode.parentNode.removeChild(this.htmlNode),this.htmlNode=null,this.htmlAreas=null},insertBefore:function(e,t){return n.prototype.insertBefore.call(this,e,t),this.ownerDocument.all[this._jxid]&&this.ownerDocument.bMoveDisplayChildren&&this.insertDisplayChild(e,t),e},removeChild:function(e){return n.prototype.removeChild.call(this,e),e},replaceChild:function(e,t){return n.prototype.replaceChild.call(this,e,t),e},appendChild:function(e){return n.prototype.appendChild.call(this,e),this.ownerDocument.all[this._jxid]&&this.ownerDocument.bMoveDisplayChildren&&this.insertDisplayChild(e),e},injectDisplaySelf:function(){return!0},insertDisplayChild:function(e,t){if(!(e.model&&e.model._ssr)&&e.injectDisplaySelf(e,t)&&e.htmlNode)if(this.attachHTMLChildren)this.attachHTMLChildren();else{var a=this.getDisplay("area")||this.getDisplay();t&&t.htmlNode?t.htmlNode.parentNode.insertBefore(e.htmlNode,t.htmlNode):a.appendChild(e.htmlNode)}},createDisplay:function(){this.htmlNode=this.renderDisplay(this.getDisplayModel()),this.htmlNode&&(this.htmlNode.viewController=this)},getDisplayModel:function(){return this},renderDisplay:function(e){var t;return t=this.constructor.template?this.constructor.template.call(this,e):"<div>"+this.localName+"</div>",i.createElementFromString(t)}},{template:function(e){return"<div>"+e.localName+"</div>"}}),s=l.extend(function(){l.apply(this,arguments)},{localName:"selectDisplayElement",selectDisplay:function(t,a){var n;return t?(n="."==t[0]?new RegExp(t.replace(".","(\\s|^)")+"(\\s|$)"):new RegExp("--"+t+"(\\s|$)"),a&&(a=[]),t=e(this.htmlNode,n,a),a?a:t):this.htmlNode},isDisplay:function(e,t){if(t){var a;if(a="."==e[0]?new RegExp(e.replace(".","(\\s|^)")+"(\\s|$)"):new RegExp("--"+e+"(\\s|$)"),(sClass=t.className)&&sClass.match(a))return!0}return!1}}),p=s.extend(function(){s.apply(this,arguments)},{localName:"displayElement",getDisplay:function(e,t){return this.selectDisplay(e,t)},getDisplayEventTarget:function(e){for(var t;e;){if((t=e.className)&&((t||t.baseVal)+"").match(/--[\w-]+/))return e;if(e.viewController)return null;e=e.parentNode}return null},domActivate:function(){var e=new this.ownerDocument.createEvent("UIEvent");e.initUIEvent("DOMActivate",!0,!0,window,null),this.dispatchEvent(e)}}),c=p.extend(function(){if(p.apply(this,arguments),this.constructor.attributes){var e=this.constructor.attributes;for(var t in e)null==this.getAttribute(t)&&this.node.setAttribute(t,e[t])}this.cls_custom=this.getAttribute("class")||"";var a=this.getAttribute("layout");if(this.layout=b$.view.bdom.layout[a]?new b$.view.bdom.layout[a](this):new b$.view.bdom.layout.AutoLayout(this),this.layout.setDirection){var n=this.getAttribute("orient");"vertical"==n?this.layout.setDirection(!1):this.layout.setDirection(!0)}var r=this.getAttribute("margin");r=b$._private.format.trblFromString(r),r.height=r.top+r.bottom,r.width=r.left+r.right,this.margins=r;var o=this.getAttribute("padding");o=b$._private.format.trblFromString(o),o.height=o.top+o.bottom,o.width=o.left+o.right,this.layout.padding=o;var i=this.getAttribute("flex");i&&(this.flex=parseInt(i));var d=this.getAttribute("width");d&&(this.width=parseInt(d));var l=this.getAttribute("height");l&&(this.height=parseInt(l),this.flex=0);var s=this.getAttribute("minWidth");s&&(this.minWidth=parseInt(s));var c=this.getAttribute("minHeight");c&&(this.minHeight=parseInt(c));var m=this.getAttribute("maxWidth");m&&(this.maxWidth=parseInt(m));var u=this.getAttribute("maxHeight");u&&(this.maxHeight=parseInt(u));var g=this.getAttribute("anchorWindow");if(g){g=b$._private.format.trblFromString(g);var h=this,f=function(){h.resize("500",b$._private.html.getViewportHeight())};b$._private.html.addEventListener(window,"resize",f),this.addEventListener("destroy",function(){b$._private.html.removeEventListener(window,"resize",f)}),this.addEventListener("DOMReady",function(e){if(e.target==h){h.resize("500",b$._private.html.getViewportHeight())}})}},{localName:"layoutElement"}),m=function(e,t,a){return t&&e<t?t:a&&e>a?a:e},u=b$.Class.extend(function(){this.layout=new y["default"](this),this.margins={top:0,right:0,bottom:0,left:0}},{getWidth:function(){return this.htmlNode.offsetWidth},getHeight:function(){return this.htmlNode.offsetHeight},getSize:function(){return i.getSize(this.htmlNode)},DOMReady:function(){f.prototype.readyHTML.call(this)},reflow:function(){var e,t;this.width?e=this.width:this.htmlNode&&(e=this.htmlNode.offsetWidth),this.height?t=this.height:this.htmlNode&&(t=this.htmlNode.offsetHeight),this.layout.layout(e,t,!1)},resize:function(e,t){this.layout.layout(e,t,!1)},setFlex:function(e){this.flex=parseInt(e);var t=this.parentNode;t&&t.reflow&&t.reflow()},setStretch:function(e){if(this.layout.dir){if("true"==e)this.layout.align="stretch";else{this.layout.align="Xstretch";var t="width";"horizontal"==this.layout.dir.direction&&(t="height");for(var a=this.htmlNode,n=0,r;n<a.childNodes.length;n++)r=a.childNodes[n],1==r.nodeType&&(r.style[t]="")}this.reflow()}},isVisible:function(){return!0},setWidthHeight:function(e,t){return e=m(e,this.minWidth,this.maxWidth),t=m(t,this.minHeight,this.maxHeight),this.isVisible()?void this.doSetWidthHeight(e,t,!1):this},doSetWidthHeight:function(e,t,a,n){this.htmlNode&&(this.layout?(a&&(this.width=e,this.height=t),this.layout.layout(e,t,a,n)):this.setHTMLWidthHeight(e,t))},setHTMLWidthHeight:function(e,t){var a=this.htmlNode;return void i.setWidthHeightPB(a,e,t)}});b$.mixin(c.prototype,u.prototype);var g=d.registerElement("AreasElement",c.extend(function(e){c.apply(this,arguments),this.htmlDoc=e.htmlNode,this.htmlAreas=null},{localName:null,namespaceURI:"http://backbase.com/2012/view",getHTMLAreas:function(){return this.getHTMLNode(),this.htmlAreas},getAreaPreference:function(){return parseInt(this.getAttribute("area"),10)||0},getOrderPreference:function(){return parseInt(this.getAttribute("order"),10)||0},setAreaPreference:function(e){this.setAttribute("area",e)},setOrderPreference:function(e){this.setAttribute("order",e)},getAreaOrderedChildren:function(){for(var e=this.childNodes,a=[],n=0,r,o;n<e.length;n++)1==e[n].node.nodeType&&e[n].getAreaPreference&&(r=e[n].getAreaPreference(),o=e[n].getOrderPreference(),!a[r]&&(a[r]=[]),a[r].push(e[n]));for(var n=0;n<a.length;n++)a[n]&&a[n].sort(t);return a}})),h=d.registerElement("DesignElement",g.extend(null,{localName:null,namespaceURI:"http://backbase.com/2012/view",enableDesignMode:function(){this.designMode||(this.designMode=!0),this.showDesignTools();for(var e=this.childNodes,t=0;t<e.length;t++)e[t].enableDesignMode&&e[t].enableDesignMode()},disableDesignMode:function(){this.designMode&&(delete this.designMode,this.hideDesignTools());for(var e=this.childNodes,t=0;t<e.length;t++)e[t].disableDesignMode()},showDesignTools:function(){if(this.htmlNode&&this.model){if("TCont"==this.localName&&this.model.getPreference("isTargetingPage"))return;for(var e=document,t=this.model.getJSON(),a=this.htmlNode,n=this;"page"!==n.model.tag.toLowerCase()&&"portal"!==n.model.tag.toLowerCase()&&"application"!==n.model.tag.toLowerCase();)n=n.parentNode;var r="Widget"===this.model.localName,o="Container"===this.model.localName,i="master"===n.pageType,d="TCont"==this.localName,l=!0,s=function(e){return!!(e.model&&(void 0!==e.model.manageable||e.model.getPreference&&e.model.getPreference("isManageableArea")))}(this),p=function(e){var t=e.ownerDocument.getElementById("VIEW-"+e.model.parentItemName)!==void 0;return t}(this),c=function(e){return e.model&&e.model.getPreference&&!0===e.model.getPreference("isFromMasterPage")}(this),m=this.model.getPreference&&this.model.getPreference("isManageableArea"),u=function(e){for(;e=e.parentNode;)if(e.model&&e.model.preferences&&e.model.preferences.getByName("isManageableArea"))return!0;return!1}(this),g="UNPUBLISHED"!==n.model.publishState&&"NOT_PUBLISHED"!==n.model.publishState&&this.model.lastPublicationTimestamp!==void 0,h=function(e){return e.model.preferences.array.filter(function(e){return e.viewHint&&""!==e.viewHint&&(null===e.manageable||!0===e.manageable)})},f;t.features={Drag:!0,Divider:!0,Edit:!0,Permission:!0,TCont:!1,Trash:!0,TrashDisabled:!1,Manageable:!1,Revert:!1},t.features.TCont=t.pref&&t.pref.TemplateName&&"TCont"==t.pref.TemplateName.value||!1,t.isMasterpage=i,i&&this.model.manageable!==void 0&&(t.features.Manageable=!0,t.features.ManageableValue=!("true"!==this.model.manageable),t.features.ManageableType=r?"widget":"container"),!i&&s?"false"===this.model.manageable?l=!1:(f=h(this),f.length&&0!==f.length?u?(t.features.Permission=!c,t.features.TCont=!1):(t.features.Drag=!1,t.features.Divider=!1,t.features.Permission=!1,t.features.Trash=!1,t.features.TCont=!1):(t.features.Divider=!1,"true"===this.model.manageable&&!c&&(t.features.TCont=!0),u?(t.features.Drag=!0,t.features.Permission=!c,t.features.Trash=!0,t.features.Edit=!1):(t.features.Drag=!1,t.features.Permission=!1,t.features.Trash=!1,t.features.Edit=!c)),t.features.Revert=!c):this.model&&this.model.preferences&&!h(this).length&&(t.features.Edit=!!i),(m||!l)&&(t.features={},l=!1),i&&(m&&(t.features.Drag=l=!0),t.features.Trash=!g,t.features.TrashDisabled=g),this.designTools={features:t.features,isFromMasterPage:c,wasCreatedOnMasterPage:s,drag:t.features.Drag,hasFeatures:l}}if(this.htmlAreas&&this.model&&"widget"!=this.model.tag)for(var y=0;y<this.htmlAreas.length;y++)jQuery(this.htmlAreas[y]).addClass("pm-design-showArea")},hideDesignTools:function(){if(this.htmlNode&&this.htmlEditControl&&this.htmlEditControl.parentNode&&(this.htmlEditControl.parentNode.removeChild(this.htmlEditControl),this.htmlEditControl=null),this.htmlAreas)for(var e=0;e<this.htmlAreas.length;e++)jQuery(this.htmlAreas[e]).removeClass("pm-design-showArea")},showDragTargets:function(){if(this.isPossibleDragTarget&&(this.htmlNode&&i.addClass(this.htmlNode,"pm-design-dragContainer"),this.htmlAreas&&"widget"!=this.model.tag))for(var e=0;e<this.htmlAreas.length;e++)i.addClass(this.htmlAreas[e],"pm-design-dragArea")},hideDragTargets:function(){if(this.htmlNode&&i.removeClass(this.htmlNode,"pm-design-dragContainer"),this.htmlAreas)for(var e=0;e<this.htmlAreas.length;e++)i.removeClass(this.htmlAreas[e],"pm-design-dragArea")}})),f=d.registerElement("ViewElement",h.extend(function(){h.apply(this,arguments),this.modelInititalized=!1,this.flex=1,this.isPossibleDragTarget=!1},{localName:null,namespaceURI:"http://backbase.com/2012/view",createDisplay:function(){this.buildDisplay()},buildDisplay:function(){return this.htmlNode?(this.buildHTML(this.htmlNode),this.htmlAreas||(this.htmlAreas=i.findCaptureClass("bp-area",this.htmlNode),!this.htmlAreas.length&&this.htmlAreas.push(this.htmlNode)),this.htmlNode):(this.htmlNode=this.buildHTML(),this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode)},getHTMLNode:function(){return this.htmlNode},DOMReady:function(){this.readyHTML()},readyHTML:function(){},buildHTML:function(){var e=i.createElementFromString(this.doTemplate(this.buildJSON()));return e},doTemplate:function(){return"<div></div>"},buildJSON:function(){return{}},getHTML:function(e,t){return this.selectDisplay(e,t)}})),y=b$.view.bdom.layout,b=p.extend(null,{namespaceURI:"http://backbase.com/2012/UADisplay",localName:"application",cnBasePrefix:"d-"},{template:function(e){return"<div class=\""+e.cls+"\"></div>"}}),v=d.registerElement("Component",f.extend(function(){f.apply(this,arguments)},{}));f.prototype.localName=null,v.prototype.localName=null,f.prototype.namespaceURI=null,v.prototype.namespaceURI=null,this.Resizable=u,this.Component=v}),b$.module("b$.view.bdom.dd",function(){var e=function(){return this}(),t=b$.Class,a=b$._private.htmlAPI,n=b$._private.html,r,o,i,d,l;r=b$.Class.extend(function(){this.types={}},{setData:function(e,t){return this.types[e]=t,!0},getData:function(e){return this.types[e]},clearData:function(e){return delete this.types[e],!0}},null,"DataTransfer"),this.DataTransfer=r,o=t.extend(function(){this.cqs_dragRoot="bp-ui-dragRoot",this.cqs_dragGrip="bp-ui-dragGrip",this.cqs_resizeGrip="bp-ui-resizeGrip",this.isDragging=!1,this.initialDragTimeout=null,this.oDocument=null,this.initialDragMargin=6,this.dragSymbol=null,this.dragElement=null,this.cancelDropTargets=[]},{initialize:function(e,t){var o=this;this.oDocument=document,o.dragSymbol||(o.dragSymbol=document.createElement("div"),o.dragSymbol.className="bp-drag-dragSymbol",o.dragSymbol.style.position="absolute",o.dragSymbol.style.display="none",document.body.appendChild(this.dragSymbol)),o.dragCover||(o.dragCover=a.createElementFromString("<div class=\"iframeCover\" style=\"zindex:99999;position:fixed;width:100%;top:0px;left:0px;height:100%;\"></div>")),t.dragManager=o,t.dragManager.bdomDoc=t,o.handle_initialMouseDown=function(e){if(!a.hasClass(e.target,"bd-editbarIcon")||a.hasClass(e.target,"bd-icon-dragbar")){var t=0;window.ActiveXObject&&!window.Performance&&(t=e.button-1),0==t&&(o.isDragging&&o.stopDrag(e),o.dragOptions=o.initializeDrag({pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),o.dragOptions._htmlTarget=e.target,o.startDrag(e),o.isDragging&&e.preventDefault&&"img"===e.target.tagName.toLowerCase()&&e.preventDefault())}},o.startDrag=function(e){var t=o.getViewControllerFromHtml(o.dragOptions._htmlTarget);if(t){window.event||(window.event=e);var a=t.ownerDocument.createEvent("DragEvent");a.htmlTarget=o.dragOptions._htmlTarget;var n=new r;o.dataTransfer=n,a.initDragEvent("dragStart",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,n),t.dispatchEvent(a)}},o.startDrag2=function(){o.removeInitialHandlers(),(!o.dragOptions.target||a.hasClass(o.dragOptions.target,o.cqs_resizeGrip))&&o.dragOptions.target||(o.dragSymbol.style.display="block"),n.addEventListener(o.oDocument,"mousemove",o.handle_dragMouseMove,!1),n.addEventListener(o.oDocument,"mouseup",o.handle_dragMouseUp,!1),n.addEventListener(o.oDocument,"keydown",o.handle_dragKeyDown,!1),a.addClass(document.body,"RuntimeDesign"),b$.bdom.util.callMethodRecursively(b$.portal.portalView,"showDragTargets",[])},o.initializeDrag=function(e){var t={pageX:0,pageY:0,screenX:0,screenY:0,target:null,htmlGrip:null,htmlNode:null,viewController:null,addClasses:"test",cursor:"crosshair",containment:null,cursorAt:{left:5},distance:10,grid:[50,20],helper:"clone",opacity:.35,scroll:!0};return b$.mixin(t,e),t},o.handle_initialMouseUp=function(){o.removeInitialHandlers()},o.removeInitialHandlers=function(){clearTimeout(o.initialDragTimeout),n.removeEventListener(o.oDocument,"mouseup",o.handle_initialMouseUp,!1),n.removeEventListener(o.oDocument,"mousemove",o.handle_initialMouseMove,!1)},o.handle_initialMouseMove=function(e){if(null!=o.dragOptions){var t=o.dragOptions.distance,a=o.dragOptions.pageX,n=o.dragOptions.pageY,r=e.pageX,i=e.pageY;(a-r>t||a-r<-t||n-i>t||n-i<-t)&&o.startDrag2(e)}},o.handle_dragMouseMove=function(e){var t,n,r,i,l,s,p;if(o.isDragging){o.pageX=e.pageX,o.pageY=e.pageY;var c=o.dragOptions.dropTarget;if(o.dragOptions.dragTargets)var m=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,g=o.dragOptions.dropTarget=o.calculateNearestDragTarget(o.dragOptions.dragTargets,e.clientX+m,e.clientY+u);if(c){if(!g||c._jxid!=g._jxid){var h=c.ownerDocument.createEvent("DragEvent");h.htmlTarget=e.target,h.initDragEvent("dragLeave",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),c.dispatchEvent(h)}if(g&&c._jxid!=g._jxid){var h=g.ownerDocument.createEvent("DragEvent");h.htmlTarget=e.target,h.initDragEvent("dragEnter",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),g.dispatchEvent(h)}}else if(g){var h=g.ownerDocument.createEvent("DragEvent");h.htmlTarget=e.target,h.initDragEvent("dragEnter",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),g.dispatchEvent(h)}if(g){var h=g.ownerDocument.createEvent("DragEvent");h.htmlTarget=e.target,h.initDragEvent("drag",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),g.dispatchEvent(h)}if(o.dragOptions.dropTarget){for(var f=o.dragOptions.dropTarget.ownerDocument.dragIndicator.getDisplay(),y=[],b=!0,v=0,x;f&&1==f.nodeType;)x=a.getStyle(f,"overflow-y")||a.getStyle(f,"overflow"),x&&"hidden"!=x&&"visible"!=x&&y.push(f),f=f.parentNode;if(!y.length){for(b=!1,f=o.dragOptions.dropTarget.ownerDocument.dragIndicator.getDisplay();f&&1==f.nodeType;)("BODY"===f.tagName||"HTML"===f.tagName)&&y.push(f),f=f.parentNode;y.length&&(v=y[0].scrollHeight)}}if(o.dragElement&&(t=b?e.clientY+o.dragOptions.offsetTop:e.pageY,!b&&document.documentMode&&8==document.documentMode&&(t=e.pageY+y[1].scrollTop),n=e.clientX-o.dragOptions.offsetLeft+document.body.scrollLeft,r=t+document.body.scrollTop,i=document.body.offsetWidth,l=document.body.offsetHeight,s=o.dragElement.offsetWidth,p=o.dragElement.offsetHeight,o.dragElement.style.left=(n+s>i?i-s:n)+"px",o.dragElement.style.top=(r+p>l?l-p:r)+"px"),o.dragOptions.dropTarget&&o.dragOptions.dropTarget.ownerDocument.dragIndicator){clearTimeout(o.scrollTimeout);var _=e.clientY,N=e.pageY,T=function(){for(var e=0;e<y.length;e++){if(b)C=N,E=a.getBoxObject(y[e],"border");else if(C=_,E={y:0,h:y[e].clientHeight},o.dragElement&&y[e].scrollTop>v+o.dragElement.clientHeight)return void clearTimeout(o.scrollTimeout);var t=E.h/4;if(C<E.y+t){var n=y[e].scrollTop;10<n&&(n=10),y[e].scrollTop-=n}if(!(C<E.y+t+t+t))if(C<E.y+t+t+t+t){var n=y[e].scrollHeight-y[e].scrollTop;10<n&&(n=10),b$.bUAWebKit&&"html"==y[e].localName?document.body.scrollTop+=n:y[e].scrollTop+=n}else{var n=y[e].scrollHeight-y[e].scrollTop;15<n&&(n=15),y[e].scrollTop+=n}}o.scrollTimeout=setTimeout(T,20)},E,C;o.scrollTimeout=setTimeout(T,20)}return void d()}},o.stopDrag=function(e,t){var r=o.dragOptions.dropTarget,i,d,l;o.dragCover.parentNode===document.body&&document.body.removeChild(o.dragCover),n.removeEventListener(this.oDocument,"mousemove",o.handle_dragMouseMove,!1),n.removeEventListener(this.oDocument,"mouseup",o.handle_dragMouseUp,!1),n.removeEventListener(this.oDocument,"keydown",o.handle_dragKeyDown,!1),clearTimeout(o.scrollTimeout),r=o.dragOptions&&o.dragOptions.dropTarget,r?(i=r.ownerDocument.createEvent("DragEvent"),i.htmlTarget=e.target,i.initDragEvent("dragLeave",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),r.dispatchEvent(i),t?(i=r.ownerDocument.createEvent("DragEvent"),i.htmlTarget=e.target,i.initDragEvent("dragDrop",!0,!0,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget,this.dataTransfer),r.dispatchEvent(i),o.dragSymbol.style.display="none",o.dragSymbol.style.left="-9999px",o.dragOptions.htmlNode&&(o.dragOptions.htmlNode=null)):(d=a.getBoxObject(this.dragOptions.htmlNode),l=this.dragElement,a.animate(l,{top:d.top,left:d.left,opacity:.5},300,function(){a.setStyle(l,"display","none")}))):o.dragSymbol.style.display="none",this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null),a.removeClass(document.body,"RuntimeDesign"),b$.bdom.util.callMethodRecursively(b$.portal.portalView,"hideDragTargets",[]),o.isDragging=!1},o.handle_dragKeyDown=function(e){var t;27==e.keyCode&&(o.stopDrag(e,!1),e.stopPropagation(),t=new CustomEvent("cancelDrag",{detail:{message:"Cancel Drag",time:new Date},bubbles:!0,cancelable:!0}),top.document.dispatchEvent(t))},o.handle_dragMouseUp=function(e){if(o.cancelDropTargets.length){for(var t=!1,n=0,r=o.cancelDropTargets.length;n<r;n++){var l=o.cancelDropTargets[n],s=a.getBoxObject(l,"border");if(i(e.pageX,e.pageY,s.x,s.y,s.w,s.h)){t=!0,o.stopDrag(e,!1);break}}t||o.stopDrag(e,!0)}else o.stopDrag(e,!0);d()},n.addEventListener(e,"mousedown",o.handle_initialMouseDown,!1)},getViewControllerFromHtml:function(e){for(;e;){if(e.viewController)return e.viewController;e=e.parentNode}},getDragTargetsFilter:function(e,t,a){var n=[];return this._getDragTargetsFilter(e,t,n,a),n},_getDragTargetsFilter:function(e,t,a,n){for(var r=0,o=e.length;r<o;r++)if(e[r]==t)return;n(t)&&a.push(t);for(var i=t.childNodes,r=0;r<i.length;r++)this._getDragTargetsFilter(e,i[r],a,n)},getDragTargets:function(e,t,a){if(e!=t){t.dragIsTarget?t.dragIsTarget()&&a.push(t):console.log("Method dragIsTarget not found on ",t);for(var n=t.childNodes,r=0;r<n.length;r++)this.getDragTargets(e,n[r],a)}},doDrag:function(){var e=this,t=e.oDocument,a;e.isDragging||(e.isDragging=!0,!e.dragOptions.dragTargets&&(a=e.bdomDoc.documentElement,e.dragOptions.dragTargets=this.getDragTargetsFilter([],a,function(e){if(e.dragIsTarget)return e.dragIsTarget()})),n.addEventListener(t,"mouseup",e.handle_initialMouseUp,!1),n.addEventListener(t,"mousemove",e.handle_initialMouseMove,!1),e.initialDragTimeout=setTimeout(function(){e.startDrag2()},500))},setDragSymbol:function(e,t,n,r){var o,i,d,l,s,p,c,m;-1!=e.className.indexOf("bp-dragmode-")&&(p="bp-dragmode-",c=e.className.indexOf(p),m=e.className.indexOf(" ",c),t=e.className.substring(c+p.length,m)),o=a.getBoxObject(e,"border"),i=document.body.scrollTop,d=document.body.scrollLeft;"icon"===t?(l=b$.getVC(e).getPreference("thumbnailUrl"),s=b$.getVC(e).getPreference("title")||"title not defined",this.dragElement={},l&&(l=l.replace("$(contextRoot)",b$.portal.portalModel.serverURL)),this.dragOptions.offsetTop=0,this.dragOptions.offsetLeft=0,this.dragSymbol.innerHTML="<div class=\"pm-icon2-img\"><img src=\""+l+"\"></div><div class=\"pm-icon2-label\"><p>"+s+"</p></div>",this.dragSymbol.className="pm-icon2 bp-ui-dragRoot pm-panelCatalogIcon",this.dragSymbol.cssText="",this.dragSymbol.style.background="#FFF",this.dragSymbol.style.zIndex="99998",this.dragSymbol.style.position="absolute",this.dragSymbol.style.top=r+i+"px",this.dragSymbol.style.left=n+d+"px",this.dragElement=this.dragSymbol):"real"===t||"copy"===t?(this.dragOptions.offsetTop=o.y-r,this.dragOptions.offsetLeft=o.x-n,this.dragSymbol.innerHTML=e.innerHTML,this.dragSymbol.className=e.className,this.dragSymbol.cssText=e.cssText,this.dragSymbol.style.zIndex="99998",this.dragSymbol.style.position="absolute",this.dragSymbol.style.top=o.y+i+"px",this.dragSymbol.style.left=o.x+d+"px",this.dragSymbol.style.width=o.w+"px",this.dragSymbol.style.height=o.h+"px",this.dragElement=this.dragSymbol):"line"===t?(this.dragOptions.offsetTop=o.y-r,this.dragOptions.offsetLeft=o.x-n,this.dragSymbol.innerHTML="",this.dragSymbol.className="",this.dragSymbol.cssText="",this.dragSymbol.style.border="1px solid #333",this.dragSymbol.style.background="#CCC",this.dragSymbol.style.zIndex="99998",this.dragSymbol.style.position="absolute",this.dragSymbol.style.top=o.y+i+"px",this.dragSymbol.style.left=o.x+d+"px",this.dragSymbol.style.width=o.w+"px",this.dragSymbol.style.height=o.h+"px",this.dragSymbol.style.opacity="0.5",this.dragElement=this.dragSymbol):void 0},calculateNearestDragTarget:function(e,t,n){var r=null,o,d;for(o=e.length-1;0<=o;o--)if(d=a.getBoxObject(e[o].htmlNode,"border"),i(t,n,d.x,d.y,d.w,d.h))return e[o];return null==r&&(r=0),e[r]}}),this.DnDnR=o,i=function(e,t,a,n,r,o){return e>=a&&e<=a+r&&t>=n&&t<=n+o},d=function(){var e,t;window.getSelection?(e=window.getSelection(),e.removeAllRanges()):document.selection.createRange&&(t=document.selection.createRange(),document.selection.empty())},l={getDocumentHeight:function(){var e="CSS1Compat"==document.compatMode?document.documentElement.scrollHeight:document.body.scrollHeight;return it(e,this.getViewportWH().h)},getDocumentWidth:function(){var e="CSS1Compat"==document.compatMode?document.documentElement.scrollWidth:document.body.scrollWidth;return it(e,this.getViewportWH().w)},getViewportWH:function(){var e,t;return self.innerHeight?(e=self.innerWidth,t=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(e=document.body.clientWidth,t=document.body.clientHeight),{w:e,h:t}},getViewportScrollWH:function(){var e,t;return self.pageYOffset?(e=self.pageXOffset,t=self.pageYOffset):document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollLeft,t=document.documentElement.scrollTop):document.body&&(e=document.body.scrollLeft,t=document.body.scrollTop),{x:e,y:t}},getAll:function(){var e=this.getViewportWH(),t=this.getViewportScrollWH();return e.x=t.x,e.y=t.y,e.docW=this.getDocumentWidth(),e.docH=this.getDocumentHeight(),e}},b$._private.dimCalc=l}),b$.module("b$.view.perspective",function(){var e=function(){return this}(),t=b$.Class,a=b$._private.ArrayCollection,n=b$._private.types.STRING,r=t.extend(function(e,t){this.name=e,this.value=t},{getName:function(){return this.name},getValue:function(){return this.value},equals:function(e){return e===this||e instanceof r&&this.getName()==e.getName()&&this.getValue()==e.getValue()}}),o=a.extend(function(){a.call(this)},{add:function(e){if(this.getByName(e.getName()))throw new Error("Attempt to add non unique parameter.",arguments,0,r);a.prototype.add.call(this,e)},getByName:function(e){for(var t=0;t<this.array.length;t++)if(oParameter.getName()==e)return oParameter;return null}}),i=t.extend(function(e){if(!i.NAME_REGEXP.test(e))throw new Error("Perspective type name does not satisfy the grammar rules.",arguments,0,n);t.call(this),this.name=e},{getName:function(){return this.name},getPrimarySurface:function(){return this.name.split(".")[0]},getSecondarySurface:function(){return this.name.split(".")[1]||""}},{NAME_REGEXP:/^([\w\d]+)(?:\.([\w\d]+))?$/}),d=t.extend(function(e,t,a){this.uriTemplate=e,this.type=t,this.parameters=a},{getURITemplate:function(){return this.uriTemplate},getType:function(){return this.type},getParameters:function(){return this.parameters},bind:function(){var e=this.parameters;return this.uriTemplate.bind({getContextVariableValue:function(t){var a=e.getByName(t);return a&&a.getValue()}})}});this.PerspectiveParameter=r,this.PerspectiveParameters=o,this.PerspectiveType=i,this.Perspective=d}),b$.module("b$.view.url2state",function(){var e=b$._private.simpleResponseCache_getData,t=function(){var e=document.getElementsByTagName("script"),t=e[e.length-1],a=t.attributes.src.value;return a}(),a=t.substr(0,t.indexOf("/static")),n=e(a+"/configuration/url2state/identifier");"error"===n.toLowerCase()&&(n="//");var r=function(e){return new RegExp("\\[(\\$[\\d\\*\\@]+)(?:[^\\]]+)?]",e?"g":"")},o={},i=function(e){var t,a;if(e){e=e.replace(/^http[s]?:\/\//,"");var r=e.split(n);t=1<r.length?r[r.length-1]:null}else{e=window.location.pathname;var o=e.split(n);t=1<o.length?o[o.length-1]:null}if(t){a={stateUrl:t,vars:{}};for(var i=t.replace(/\?.*$/,"").split(/\//),d=1,l=i.length;d<=l;d++)a.vars["$"+d]=i[d-1]}return a},d=function(e){var t,a,n;if(!e||!e.vars){for(t in o)if(o.hasOwnProperty(t)){for(a=0,n=o[t].items.length;a<n;a++)b$("[data-pid=\""+o[t].items[a]+"\"]")[0].viewController.refreshHTML();o[t].currentValue=""}return}for(t in e.vars)if(e.vars.hasOwnProperty(t)&&o[t]&&o[t].currentValue!==e.vars[t]){for(a=0,n=o[t].items.length;a<n;a++)b$("[data-pid=\""+o[t].items[a]+"\"]")[0].viewController.refreshHTML();o[t].currentValue=e.vars[t]}},l=i();if(l)for(var s in l.vars)l.vars.hasOwnProperty(s)&&(o[s]={currentValue:l.vars[s],items:[]});b$._private.html.addEventListener(document,"click",function(e){if((!b$.view||b$.view.url2state.active)&&0===e.button&&b$.ua){var t=e.target||e.srcElement,a=b$.ua.queryAncestor(t,"a"),n=a?a.getAttribute("href"):null,r;if(a&&n&&-1===n.toLowerCase().indexOf("javascript:")&&(r=i(n),r)){var o=window.history.state?window.history.state:{};o.stateUrl=r.stateUrl,o.vars=r.vars,e.preventDefault&&e.preventDefault(),window.history.pushState?(window.history.pushState(o,n,n),d(r)):window.location.href=n}}}),b$._private.html.addEventListener(window,"popstate",function(e){if(!b$.view||b$.view.url2state.active)if(e.state)d(e.state);else{var t=i();t&&d(t)}}),this.separator=n,this.statefulItems=o,this.getStateData=i,this.applyStateChange=d,this.parseStatePreferences=function(e){e&&e.preferences&&e.preferences.each(function(t){var a=(t.value+"").match(r(!0));if(a)for(var n=0,i=a.length,d;n<i;n++)d=a[n],d=d.replace(r(),"$1"),o[d]=o[d]||{items:[]},-1===o[d].items.indexOf(e.name)&&o[d].items.push(e.name)})},this.active=!0}),b$.module("b$.utils",function(){function e(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}this.setCookies=function(e){for(var t in e=e||{},e)e.hasOwnProperty(t)&&(document.cookie=t+"="+e[t])},this.getCookie=function(t){var a={},n,r,o;if(document.cookie){n=document.cookie.split(";");for(var i=0;i<n.length;i++)r=e(n[i]),o=r.split("="),a[o[0]]=o[1];return a[t]}},this.trim=e}),b$.module("b$.utils.xsrf",function(){function e(){return a("BBXSRF")}function t(){return"BBXSRF"}var a=b$.require("b$.utils.getCookie");this.getXSRFCookie=e,this.getXSRFCookieName=t,this.getXSRFRequestHeaderName=function(){return"X-BBXSRF"},this.appendXSRFInputElementTo=function(a){var n=t(),r=e(),o=document.createElement("input");r&&(o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",r),a.appendChild(o))},this.isMethodUnsafe=function(e){var t="string"==typeof e?e.toUpperCase():null;return"POST"===t||"PUT"===t||"PATCH"===t||"DELETE"===t}}),e(b$,{ajax:function(e,t){return e instanceof lt?(!t&&(t={}),t.url=e):t=e,Ke(t)},param:function(e){return Je(e)},get:function(e,t,a,n){return Ke({url:e,type:"GET",data:t,dataType:n,success:a})},post:function(e,t,a,n){return Ke({url:e,type:"POST",data:t,success:a,dataType:n})}}),b$.prototype.load=function(e,t,a){t instanceof ft&&(a=t,t=null);var n;return a&&(n=function(e,t){a(e.responseText,t,e)}),r(this,function(){Ye(this,e,t,n)}),this},b$.prototype.abort=function(){return r(this,function(){Qe(this)}),this};var an=/[\t\r\n]/g,F=/\r/g,at=/^(?:button|input)$/i,nn=/^(?:button|input|object|select|textarea)$/i,rn=/^a(?:rea|)$/i,on=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,dn,ln;e(b$,{valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t=e.selectedIndex,a=[],n=e.options,r="select-one"===e.type,o,i,d,l;if(0>t)return null;for(i=r?t:0,d=r?t+1:n.length;i<d;i++)if(l=n[i],l.selected&&(b$.support.optDisabled?!l.disabled:null===l.getAttribute("disabled"))&&(!l.parentNode.disabled||!b$.nodeName(l.parentNode,"optgroup"))){if(o=b$(l).val(),r)return o;a.push(o)}return r&&!a.length&&n.length?b$(n[t]).val():a},set:function(e,t){var a=b$.makeArray(t);return b$(e).find("option").each(function(){this.selected=0<=b$.inArray(b$(this).val(),a)}),a.length||(e.selectedIndex=-1),a}}},attrFn:{},attr:function(e,t,a,n){var r=e.nodeType,o,i,d;if(e&&3!==r&&8!==r&&2!==r)return n&&b$.isFunction(b$.fn[t])?b$(e)[t](a):"undefined"==typeof e.getAttribute?b$.prop(e,t,a):(d=1!==r||!b$.isXMLDoc(e),d&&(t=t.toLowerCase(),i=b$.attrHooks[t]||(on.test(t)?ln:dn)),void 0===a?i&&"get"in i&&d&&null!==(o=i.get(e,t))?o:(o=e.getAttribute(t),null===o?void 0:o):null===a?void b$.removeAttr(e,t):i&&"set"in i&&d&&void 0!==(o=i.set(e,a,t))?o:(e.setAttribute(t,a+""),a))},removeAttr:function(e,t){var a=0,n,r,o,i;if(t&&1===e.nodeType)for(r=t.split(J);a<r.length;a++)o=r[a],o&&(n=b$.propFix[o]||o,i=on.test(o),!i&&b$.attr(e,o,""),e.removeAttribute(getSetAttribute?o:n),i&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(at.test(e.nodeName)&&e.parentNode)b$.error("type property can't be changed");else if(!b$.support.radioValue&&"radio"===t&&b$.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}},value:{get:function(e,t){return dn&&b$.nodeName(e,"button")?dn.get(e,t):t in e?e.value:null},set:function(e,t,a){return dn&&b$.nodeName(e,"button")?dn.set(e,t,a):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,a){var n=e.nodeType,r,o,i;if(e&&3!==n&&8!==n&&2!==n)return i=1!==n||!b$.isXMLDoc(e),i&&(t=b$.propFix[t]||t,o=b$.propHooks[t]),void 0===a?o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]:o&&"set"in o&&void 0!==(r=o.set(e,a,t))?r:e[t]=a},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):nn.test(e.nodeName)||rn.test(e.nodeName)&&e.href?0:void 0}}}}),e(b$.fn,{attr:function(e,t){return b$.access(this,b$.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){b$.removeAttr(this,e)})},prop:function(e,t){return b$.access(this,b$.prop,e,t,1<arguments.length)},removeProp:function(e){return e=b$$ry.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})},addClass:function(e){var t,a,n,r,o,i,d;if(b$.isFunction(e))return this.each(function(t){b$(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(J),a=0,n=this.length;a<n;a++)if(r=this[a],1===r.nodeType)if(!r.className&&1===t.length)r.className=e;else{for(o=" "+r.className+" ",i=0,d=t.length;i<d;i++)0>o.indexOf(" "+t[i]+" ")&&(o+=t[i]+" ");r.className=et?b$.trim(o):o.replace(/^\s+|\s+$/g,"")}return this},removeClass:function(e){var t,a,n,r,o,i,d;if(b$.isFunction(e))return this.each(function(t){b$(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||void 0===e)for(t=(e||"").split(J),i=0,d=this.length;i<d;i++)if(n=this[i],1===n.nodeType&&n.className){for(a=(" "+n.className+" ").replace(an," "),r=0,o=t.length;r<o;r++)for(;0<=a.indexOf(" "+t[r]+" ");)a=a.replace(" "+t[r]+" "," ");n.className=e?et?b$.trim(a):a.replace(/^\s+|\s+$/g,""):""}return this},toggleClass:function(e,t){var a=typeof e;return b$.isFunction(e)?this.each(function(a){b$(this).toggleClass(e.call(this,a,this.className,t),t)}):this.each(function(){if("string"==a)for(var n=0,r=b$(this),o=t,i=e.split(J),d;d=i[n++];)o="boolean"==typeof t?o:!r.hasClass(d),r[o?"addClass":"removeClass"](d);else("undefined"==a||"boolean"==a)&&(this.className&&b$._data(this,"__className__",this.className),this.className=this.className||!1===e?"":b$._data(this,"__className__")||"")})},hasClass:function(e){for(var t=0,a=this.length;t<a;t++)if(1===this[t].nodeType&&0<=(" "+this[t].className+" ").replace(an," ").indexOf(" "+e+" "))return!0;return!1},val:function(e){var t=this[0],a,n,r;return arguments.length?(r=b$.isFunction(e),this.each(function(t){var n=b$(this),o;1!==this.nodeType||(o=r?e.call(this,t,n.val()):e,null==o?o="":"number"==typeof o?o+="":b$.isArray(o)&&(o=b$.map(o,function(e){return null==e?"":e+""})),a=b$.valHooks[this.type]||b$.valHooks[this.nodeName.toLowerCase()],(!a||!("set"in a)||void 0===a.set(this,o,"value"))&&(this.value=o))})):t?(a=b$.valHooks[t.type]||b$.valHooks[t.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(n=a.get(t,"value")))?n:(n=t.value,"string"==typeof n?n.replace(F,""):null==n?"":n):void 0}}),b$.prototype.xslt=function(e,t,a,n){var r=this;return o(e,t,function(e){var t=r[0].ownerDocument.importNode(e.documentElement,!0);r.each(function(){for(;this.lastChild;)this.removeChild(this.lastChild);this.appendChild(t.cloneNode(!0)),a&&a.call(this,e)})},n),this},b$.module("b$.portal.preferences",function(){function e(e){var t=e.ownerElement.ownerDocument.createEvent("MutationEvent");t.initMutationEvent("PrefModified",!0,!1,e,e.value,e.value,e.name,b$.bdom.events.MutationEvent.MODIFICATION),e.ownerElement.dispatchEvent(t,!0)}var t=b$.Class,a=b$._private.ArgumentException,n=b$.portal.OrderedCollection,r=b$._private.types.BOOLEAN,o=b$._private.types.NUMBER,i=b$._private.types.FUNCTION,d=b$._private.types.STRING,l=b$._private.types.TypeConstraintOptional,s=b$._private.types.TypeConstraintNull,p=new l(r),c=new l(o),m=new l(i),u=new s(d);b$.portal.preferences.roleScale=["admin","manager","user","none"],b$.portal.preferences.inputType=function(){var e={};return e.base=t.extend(null,{name:"base"}),e.text=e.base.extend(null,{name:"text"}),e.textarea=e.base.extend(null,{name:"textarea"}),e.boolean=e.base.extend(null,{name:"boolean"}),e.password=e.base.extend(null,{name:"password"}),e["select-one"]=e.base.extend(function(e){e||(e=[]),this.options=e},{name:"select-one"}),e.checkbox=e["select-one"].extend(function(e){e||(e=[]),this.options=e},{name:"checkbox"}),e.radio=e["select-one"].extend(function(e){e||(e=[]),this.options=e},{name:"radio"}),e["select-multiple"]=e.base.extend(function(e){e||(e=[]),this.options=e},{name:"select-multiple"}),e["checkbox-multiple"]=e["select-multiple"].extend(null,{name:"checkbox-multiple"}),e.range=e.base.extend(function(e,t,n){if(e>t)throw new a("Incorrect range boundaries.",arguments,0,o);n="number"==typeof n?n:1,this.min=e,this.max=t,this.step=n},{name:"range"}),e}(),b$.portal.preferences.validType=function(){var e={base:t.extend(null,{name:"base",validate:function(){return!0}}),none:t.extend(null,{name:"none",validate:function(){return!0}})};return e}();var g=b$.bdom.events.EventTarget,h=g.extend(function(){g.call(this),this.name=null,this.specified=!1,this.value=null,this.ownerElement=null,this.label=null,this.viewHint=null,this.markedForDeletion=null,this.manageable=null,this.dataType=null,this.inputType=null,this.validType=null},{setValue:function(e){if(e=this.dataType.parseFromString(e),!this.dataType.test(e))throw new a("Incorrect value type.",arguments,0,this.dataType);if(e!=this.value){var t=this.value;if(this.value=e,this.ownerElement){var n=this.ownerElement.ownerDocument.createEvent("MutationEvent");n.initMutationEvent("PrefModified",!0,!1,this,t,e,this.name,b$.bdom.events.MutationEvent.MODIFICATION),this.ownerElement.dispatchEvent(n,!0)}}},getName:function(){return this.name},getValue:function(){return this.value},setLabel:function(t){this.label=t,e(this)},setViewHint:function(t){this.viewHint=t,e(this)},setManageable:function(t){this.manageable=t,e(this)},setDataType:function(t){this.dataType=t,e(this)},setInputType:function(t){this.inputType=t,e(this)},setValidType:function(t){this.validType=t,e(this)},markForDeletion:function(){this.markedForDeletion=!0}}),f=b$._private.ArrayCollection,y=f.extend(function(e,t){f.call(this,t),this.ownerElement=e},{add:function(e){if(this.getByName(e.name))throw new a("Attempt to add non unique preference.",arguments,0,Preference);e.ownerElement=this.ownerElement,f.prototype.add.call(this,e)},remove:function(e){f.prototype.remove.call(this,e)},getByName:function(e){for(var t=0,a=this.array.length;t<a;t++)if(this.array[t].name==e)return this.array[t];return null}});this.Preferences=y,this.PreferenceNode=h}),b$.module("b$.portal.preferences.datatype",function(){var e=b$.Exception,t=b$._private.types.TypeConstraint,a=t.extend(null,{name:"base",serializeToString:function(){throw new e("Method not implemented.")},parseFromString:function(){throw new e("Method not implemented.")}}),n=a.extend(null,{name:"string",test:function(e){return"string"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return e}}),r=a.extend(null,{name:"boolean",test:function(e){return"boolean"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return"true"===e.toLowerCase()}}),o=a.extend(null,{name:"double",test:function(e){return"number"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return+e}}),i=a.extend(null,{name:"long",test:function(e){return"number"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return+e}}),d=a.extend(null,{name:"contentRef",test:function(e){return"string"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return e}}),l=a.extend(null,{name:"linkRef",test:function(e){return"string"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return e}}),s=a.extend(null,{name:"uuidRef",test:function(e){return"string"==typeof e},serializeToString:function(e){return e+""},parseFromString:function(e){return e}});this.DataType=a,this.StringDataType=n,this.BooleanDataType=r,this.DoubleDataType=o,this.LongDataType=i,this.ContentReferenceDataType=d,this.LinkReferenceDataType=l,this.UuidReferenceDataType=s,this.base=a,this.string=n,this.boolean=r,this.double=o,this.long=i,this.contentref=d,this.linkref=l,this.uuidref=s}),new function(){var e=function(){return this}(),t=b$.Class,a=b$.bdom.Namespace,n=b$.bdom.Element,r=b$.portal.preferences.PreferenceNode,o=b$.portal.preferences.Preference,i=b$.portal.preferences.Preferences,d=b$.portal.preferences.datatype.StringDataType,l=b$.portal.preferences.datatype.BooleanDataType,s=b$.portal.preferences.datatype.DoubleDataType,p=b$.portal.preferences.datatype.ContentReferenceDataType,c=b$.portal.preferences.datatype.UuidReferenceDataType,m=b$.view.url2state,u=b$.document,g=new a("http://backbase.com/2012/portalModel"),h=b$.bdom.events.MutationEvent;b$.portal.createApplicationModelDocument=function(){var e=b$.bdom.domImplementation.createDocument("http://backbase.com/2012/portalModel","Application");return e.createPreference=function(e,t,a){var n=new b$.portal.preferences.PreferenceNode,r;return n.name=e,t=t.toLowerCase(),r=b$.portal.preferences.datatype[t],r||(console.log("dataType for "+e+" not found "+t),r=b$.portal.preferences.datatype.string),n.dataType=new r,n.value=typeof a==String?n.dataType.parseFromString(a):a,n.inputType=new b$.portal.preferences.inputType.text,n.validType=new b$.portal.preferences.validType.none,n},e.filterPreferences=function(e){function t(e){var t=b$.portal.preferences.roleScale.indexOf(e);return!!(t<a)&&(a=t,n=e,!0)}var a=b$.portal.preferences.roleScale.length-1,n="none",r,o;b$.portal&&b$.portal.loggedInUserGroup&&0===b$.portal.loggedInUserGroup.length?n="none":b$.portal&&b$.portal.loggedInUserGroup&&1===b$.portal.loggedInUserGroup.length?n=b$.portal.loggedInUserGroup[0]:(r=b$.portal&&b$.portal.loggedInUserGroup&&b$.portal.loggedInUserGroup.filter(function(e){var t=b$.portal.preferences.roleScale.indexOf(e);return-1!==t})||[],o=r.filter(t));var i=[],d=window.bd&&"true"===bd.designMode,l=function(e){var t=e?e.split(/,/):[],a=!1,r=!0,o;for(o=t.length-1;0<=o;o--)a=a||"designModeOnly"===t[o],-1!==b$.portal.preferences.roleScale.indexOf(t[o])&&(r=b$.portal.preferences.roleScale.indexOf(t[o])<b$.portal.preferences.roleScale.indexOf(n));return a&&!d||r},s,p,c;for(s=0,p=e.length;s<p;s++)l(e[s].viewHint)||(c=e[s],i.push(c));return i},e.createAndSaveItemNS=function(e,t,a,n){t.contextItemName=b$.portal.portalName;var r=this;return t.name||(t.name=t.preferences.TemplateName.value+"-"+window.Math.floor(1e7*window.Math.random())),t.extendedItemName?void b$.portal.portalServer.saveItemByObject(t,!0,function(t){if("container"==t.tag.toLowerCase())var n=r.createElementNS(e,"Container");else if("widget"==t.tag.toLowerCase())var n=r.createElementNS(e,"Widget");n.setItem(t,!0);var o=r.all[n.parentItemName];b$.portal.refreshHTML(n,null,function(e,t){var r,i;o.appendChild(e),r=b$.portal.portalView.all[b$.portal.portalReflector.getID(o)],i=b$.portal.portalView.all[b$.portal.portalReflector.getID(e)],r.insertDisplayChild(i),a&&a(n,t)})},function(e){n&&n(newItem,e)}):void console.log("extendedItemName is required")},e},b$.portal.addPortalModel=function(e,t){var a=e.documentElement,n=e.createElementNS(g.namespaceURI,"Portal");return a.appendChild(n),n.setConfig(t),n},b$.portal.addPortalModelListeners=function(){};var f=g.registerElement("deprecatedElement",n.extend(function(){n.apply(this,arguments)},{namespaceURI:"http://backbase.com/2012/portalModel"}));b$.mixin(f.prototype,b$.bdom.BOldNode);var y=g.registerElement("Application",f.extend(function(){f.apply(this,arguments),this.tag="application"},{getJSON:function(){var e={tag:this.localName};return e}})),b=g.registerElement("Item",f.extend(function(e){f.apply(this,arguments),this.tag="item",this.name=this._jxid,this.contextItemName="",this.extendedItemName="",this.parentItemName="",this.securityProfile="ADMIN",this.preferences=new i(this),this.originalItem={},this.originalItem.preferences={};for(var t=this.node.attributes,a=0,n;a<t.length;a++)if(n=t[a].name,"_jxid"!=n&&0!=n.indexOf("xmlns")){var r={};r.name=t[a].name,r.value=t[a].nodeValue,this.originalItem.preferences[r.name]=r;var o=e.createPreference(r.name,"string");o.value=o.dataType.parseFromString(r.value),o.label=t[a].name,this.preferences.add(o)}},{namespaceURI:"http://backbase.com/2012/portalModel",getJSON:function(){var e={tag:this.localName,name:this.name,contextItemName:this.contextItemName,extendedItemName:this.extendedItemName,parentItemName:this.parentItemName,securityProfile:this.securityProfile,preferences:[],pref:[],tags:this.tags};if(this.preferences.array)for(var t=0;t<this.preferences.array.length;t++){var a=this.preferences.array[t],n={};n.name=a.name,n.value=a.value,n.label=a.label,n.dataType=a.dataType,n.inputType=a.inputType,n.validType=a.validType,n.manageable=a.manageable,n.viewHint=a.viewHint,n.itemName=a.itemName,e.preferences.push(n),e.pref[a.name]=n}return e},setItem:function(e,t){for(var a in this.originalItem=JSON.parse(JSON.stringify(e)),e=JSON.parse(JSON.stringify(e)),this.isNewItem=t,this.name!=e.name&&(this.name=e.name,this.ownerDocument._resetElementId(this,e.name)),this.contextItemName=e.contextItemName,this.extendedItemName=e.extendedItemName,this.parentItemName=e.parentItemName,this.securityProfile=e.securityProfile,this.uuid=e.uuid,this.manageable=e.manageable,this.tags=e.tags,this.preferences=new i(this),e.preferences){for(var n=e.preferences[a],r=this.ownerDocument.createPreference(n.name,n.type,void 0,n.viewHint),o=n.viewHint?n.viewHint.split(","):[],d={"text-input":"text",checkbox:"checkbox","select-one":"select-one"},a=o.length;a--;)d[o[a]]&&(r.inputType=new b$.portal.preferences.inputType[d[o[a]]]);r.value=r.dataType.parseFromString(n.value),r.label=n.label,r.viewHint=n.viewHint,r.itemName=n.itemName,r.manageable=n.manageable,this.preferences.add(r);try{this.node.setAttribute(n.name,n.value)}catch(e){console.log(e)}}e.lastPublicationTimestamp&&(this.lastPublicationTimestamp=e.lastPublicationTimestamp),e.publishState&&(this.publishState=e.publishState),m&&m.parseStatePreferences(this)},getPreference:function(e){var t=this.preferences.getByName(e);return t?t.value:void 0},getPreferenceNode:function(e){return this.preferences.getByName(e)},setPreference:function(e,t){var a=this.preferences.getByName(e);if(!(a&&a.value==t)){var n,o;a?(n=b$.bdom.events.MutationEvent.MODIFICATION,o=a.value):(a=new r,a.name=e,a.dataType=new d,a.inputType=new b$.portal.preferences.inputType.text,a.validType=new b$.portal.preferences.validType.none,this.preferences.add(a),n=b$.bdom.events.MutationEvent.ADDITION),a.value=t,this.node.setAttribute(e,t);var i=this.ownerDocument.createEvent("MutationEvent");i.initMutationEvent("PrefModified",!0,!1,a,o,a.value,a.name,h.MODIFICATION),this.dispatchEvent(i,!1)}},setPreferenceNode:function(e){var t=this.preferences.getByName(e.name),a,n;t?(this.removePreferenceNode(t),this.preferences.remove(t),a=b$.bdom.events.MutationEvent.MODIFICATION,n=t.value):a=b$.bdom.events.MutationEvent.ADDITION,this.preferences.add(e);var r=this.ownerDocument.createEvent("MutationEvent");r.initMutationEvent("PrefModified",!0,!1,e,n,e.value,e.name,a),this.dispatchEvent(r,!0)},removePreference:function(e){var t=this.preferences.getByName(e);if(!t.markedForDeletion){t.markForDeletion();var a=this.ownerDocument.createEvent("MutationEvent");a.initMutationEvent("PrefModified",!0,!1,t,null,t.value,t.name,h.REMOVAL),this.dispatchEvent(a,!0)}},removePreferenceNode:function(e){return this.removePreference(e.name)},createExtendedElement:function(){var e=this.ownerDocument,t=e.createElementNS("http://backbase.com/2012/portalModel",this.localName),a=this.name+"-"+window.Math.floor(1e7*window.Math.random());return t.setItem({tag:this.tag,contextItemName:this.contextItemName,name:a},!0),t.extendedItemName=this.name,t},createExtendedElementFromJSON:function(e,t){var a=this.ownerDocument,n=e.tag;"portal"===n?n="Portal":"page"===n?n="Page":"container"===n?n="Container":"widget"===n?n="Widget":"catalog"===n?n="Catalog":void 0;var r=a.createElementNS("http://backbase.com/2012/portalModel",n),o=t?e.name:e.name+"-"+window.Math.floor(1e7*window.Math.random());return e.contextItemName?(r.setItem({tag:e.tag,contextItemName:e.contextItemName,name:o,preferences:e.preferences,parentItemName:e.parentItemName},!0),r.extendedItemName=e.name):(r.setItem(e),r.name=o,r.extendedItemName=e.name),r},refresh:function(e,t){var a=this;b$.portal.portalServer.loadItem(this.originalItem,function(t){a.setItem(t),e&&e()},t)},destroyAndSave:function(e,t){var a=this;b$.portal.portalServer.deleteItem(this.originalItem,function(){a.destroy(),e&&e()},t)},revert:function(e,t){this;b$.portal.portalServer.revertItem(this.originalItem,function(){e&&e()},t)},save:function(e,t,a){this.contextItemName?this._savePreferences(e,t,a):e&&e()},_savePreferences:function(e,t,a){var n=this.originalItem,r={},o=!1;this.manageable!=n.manageable&&(r.manageable=this.manageable,n.manageable=this.manageable,o=!0),this.extendedItemName!=n.extendedItemName&&(r.extendedItemName=this.extendedItemName,o=!0),this.parentItemName!=n.parentItemName&&(r.parentItemName=this.parentItemName,n.parentItemName=this.parentItemName,o=!0),this.securityProfile!=n.securityProfile&&(r.securityProfile=this.securityProfile,o=!0),r.preferences={};for(var i=0,d=this.preferences.array.length;i<d;i++){var l=this.preferences.array[i],s=l.name,p=!1,c={};if(c.name=s,c.label=l.label,c.type=l.dataType.name,c.value=l.value,c.manageable=l.manageable,c.viewHint=l.viewHint,l.markedForDeletion)p=!0,c.deleted=!0;else if(n.preferences&&n.preferences[s]){var m=n.preferences[s];m.label!=c.label&&(m.label=c.label,p=1),("boolean"===m.type&&m.value+""!=c.value+""||"boolean"!==m.type&&m.value!=c.value)&&(m.value=c.value,p=3),m.manageable!=c.manageable&&(m.manageable=c.manageable,p=4)}else p=!0;(p||a)&&(o=!0,r.preferences[s]=c)}for(var u;u in r.preferences;){o=!0;break}if(o||this.isNewItem){r.tag=n.tag,r.name=n.name,r.contextItemName=this.contextItemName;var g=this.isNewItem;this.isNewItem=!1;var h=this;b$.portal.portalServer.saveItemByObject(r,g,function(t){var a=[];h.originalItem.name=r.name;for(var n=0,o=h.preferences.array.length,i;n<o;n++)i=h.preferences.array[n],i.markedForDeletion||a.push(i);for(var d in h.preferences.array=a,h.originalItem.preferences=h.originalItem.preferences||{},t.preferences)t.preferences[d].deleted?delete h.originalItem.preferences[d]:h.originalItem.preferences[d]=t.preferences[d];(e instanceof Function||e instanceof top.Function)&&e.apply(this,arguments)},t)}else e&&e()}},{handlers:{xDOMNodeInserted:function(e){this==e.target&&console.log("MODEL : DOMNodeInserted",e.target)},xDOMNodeInsertedIntoDocument:function(e){this==e.target&&console.log("MODEL : DOMNodeInsertedIntoDocument",e.target)}}})),v=g.registerElement("Catalog",b.extend(function(){b.apply(this,arguments),this.tag="catalog"},{})),x=g.registerElement("Portal",b.extend(function(){b.apply(this,arguments),this.tag="portal"},{setConfig:function(e){this.ownerDocument.serverURL=e.serverURL,this.serverURL=e.serverURL,this.resourceURL=e.resourceURL,this.portalURN=this.name=e.portalURN}})),_=g.registerElement("Page",b.extend(function(){b.apply(this,arguments),this.tag="page"},{})),N=g.registerElement("Container",b.extend(function(){b.apply(this,arguments),this.tag="container"},{})),T=g.registerElement("Link",b.extend(function(){b.apply(this,arguments),this.tag="link"},{})),E=g.registerElement("Widget",b.extend(function(){b.apply(this,arguments),this.tag="widget"},{}))},b$.module("b$.portal._private",function(){function e(e,t,a,n,r,o){var i=new XMLHttpRequest,d=b$.require("b$.utils.xsrf");"/"!==e.charAt(0)&&(e="/"+e);var l=window.location.origin;if(-1===e.indexOf(l)&&(e=l+e),i.onreadystatechange=function(){if(4==this.readyState){var e=(this.status+"").charAt(0);if("0"==e||"2"==e||"3"==e)n(this);else{var t=this,a={readyState:t.readyState,responseText:t.responseText,status:t.status,statusText:t.statusText};r(a)}}},i.open(a,encodeURI(e),!1!==o),i.setRequestHeader("Content-Type","application/xml"),i.setRequestHeader("BB-Link",b$._private.format.base64.encode(window.location.href)),d.isMethodUnsafe(a)){var s=d.getXSRFCookie();s&&i.setRequestHeader(d.getXSRFRequestHeaderName(),s)}i.send(t)}var t=b$.Class,a=t.extend(function(e){this.serverURL=e?e+"/":""},{serverURL:null,itemObject:function(e,t,a,n,r,o,i,d){return d||(d={}),d.contextItemName=e,d.tag=t,d.name=a,d.extendedItemName=n,d.parentItemName=r,d.securityProfile=o,d.preferences=i,d},propertyObject:function(e,t,a,n,r,o){return{name:e,value:t,label:a,type:n,viewHint:r,manageable:o}},simpleRenamer:function(e){var t=e;-1!=e.indexOf("::")&&(t=e.substr(0,e.indexOf("::"))),t+="::";for(var a=0;8>a;a++)t+="0123456789abcdef"[tt(15*Math.random())];return t},copyItem:function(e,t,a){var n=this;this.loadItem(e,function(r){for(var o in r.name=n.simpleRenamer(r.name),e.parentItemName&&(r.parentItemName=e.parentItemName),delete r.children,r.preferences){var i=r.preferences[o];e.name==i.itemName&&(i.itemName=r.name)}n.saveItemByObject(r,!0,t,a)})},newItem:function(e,t,a){this.saveItemByObject(e,!0,t,a)},updateItem:function(e,t,a){this.saveItemByObject(e,!1,t,a)},loadItem:function(e,t,a,n,r,o){return this._loadItem(e,t,a,".xml",n,r,o)},loadItemHTML:function(e,t,a,n,r,o){return this._loadItem(e,t,a,".html",n,r,o)},syncLoadItemHTML:function(e,t,a,n,r,o){return this._loadItem(e,t,a,".html",n,r,o,!1)},_loadItem:function(t,a,n,r,o,i,d,l){if(t){var s=this.serverURL;"portal"==t.tag||"template"==t.tag||"[BBHOST]"==t.contextItemName||(s=(s?s:"/")+"portals/"+t.contextItemName+"/"),s+="[BBHOST]"==t.contextItemName?"portal"==t.tag||"template"==t.tag||"link"==t.tag?t.tag+"s":"catalog":"catalog"==t.tag?"catalog":t.tag+"s",t.name&&(s+="/"+t.name),s+=r,s+=-1==s.indexOf("?")?"?":"&";var p=window.location.search;""!==p&&(s=s+p.slice(1,p.length)+"&"),o||(s+="pc=false&"),"link"!==t.tag||o||(s+="depth=1&"),"undefined"!=typeof i&&(s+="ps="+i+"&"),d&&(s+="of="+d+"&"),t.extraParameter&&(s+=t.extraParameter);var c=this;e(s,"","GET",function(e){if(".xml"==r)var t=c.itemXMLDOC2JSON(e.responseXML);else var t=e.responseText;a&&a(t,{status:e.status,statusText:e.statusText,responseHeaders:e.getAllResponseHeaders()})},function(e){n&&n(t,e)},!1!==l)}},saveItemByObject:function(t,a,n,r){var o=this.serverURL,i=this.itemJSON2XML(t);"portal"==t.tag||"template"==t.tag||"[BBHOST]"==t.contextItemName||(o=(o?o:"/")+"portals/"+t.contextItemName+"/"),"[BBHOST]"==t.contextItemName?"portal"==t.tag?(o+=t.tag+"s",!a&&(t.orgName?o+="/"+t.orgName:o+="/"+t.name)):"template"==t.tag?(o+=t.tag+"s",!a&&(t.orgName?o+="/"+t.orgName:o+="/"+t.name)):"link"===t.tag?o+=t.tag+"s":(o+="catalog",i="<catalog>"+i+"</catalog>"):"catalog"==t.tag?(o+="catalog",i="<catalog>"+i+"</catalog>"):(a&&!t.parentItemName?(o+="catalog",i="<catalog>"+i+"</catalog>"):o+=t.tag+"s",!a&&(t.orgName?o+="/"+t.orgName:o+="/"+t.name)),t.name,o+=".xml",i="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+i;var d=a?"POST":"PUT",l=this;e(o,i,d,function(e){if(e.responseXML&&e.responseText){var a=l.itemXMLDOC2JSON(e.responseXML);t.name=a.name}n&&n(t,e)},function(e){r&&r(t,e)})},deleteItem:function(t,a,n){var r;r="portal"==t.tag||"template"==t.tag?this.serverURL:this.serverURL+"portals/"+t.contextItemName+"/",r+=t.tag+"s/"+t.name+".xml",e(r,null,"DELETE",function(){a&&a(t)},function(e){n&&n(t,e)})},revertItem:function(t,a,n){var r=this.serverURL+"portals/"+t.contextItemName+"/"+t.tag+"s/"+t.name+"/reset.xml";e(r,null,"PUT",function(){a&&a(t)},function(e){n&&n(t,e)})},clearCache:function(t,a){var n=this.serverURL;n+="/caches/globalModelCache",e(n,null,"DELETE",function(){t&&t(itemObj)},function(e){a&&a(itemObj,e)})},doRecursiveSave:function(e,t){this._doRecursiveSave([e],t)},_doRecursiveSave:function(e,t){var a=e.pop();if(a){a.children&&a.children.forEach(function(t){e.push(t)},this);var n=this;a.OLDparentItemName=!0,portalServer.saveItemByObject(a,t,function(){n._doRecursiveSave(e,t)},function(){})}},itemJSON2XML:function(e){var t="";if(t+="<"+e.tag+">",t+="<name>"+e.name+"</name>",e.contextItemName&&(t+="<contextItemName>"+e.contextItemName+"</contextItemName>"),e.extendedItemName&&(t+="<extendedItemName>"+e.extendedItemName+"</extendedItemName>"),e.parentItemName&&(t+="<parentItemName>"+e.parentItemName+"</parentItemName>"),e.securityProfile&&(t+="<securityProfile>"+e.securityProfile+"</securityProfile>"),e.type&&(t+="<type>"+e.type+"</type>"),e.manageable&&(t+="<manageable>"+e.manageable+"</manageable>"),e.preferences){for(var a in t+="<properties>",e.preferences)if(e.preferences.hasOwnProperty(a)){var n=e.preferences[a];(!n.itemName||n.itemName==e.name)&&n.name&&n.type&&(n.value="boolean"===n.type?null!==n.value&&void 0!==n.value&&n.value:"double"===n.type?""===n.value?"":parseFloat(n.value):n.value||(("string"===n.type||"contentRef"===n.type||"linkRef"===n.type)&&0!==n.value?"":0),t+="<property name=\""+n.name+"\"",n.viewHint&&(t+=" viewHint=\""+n.viewHint+"\""),n.manageable&&(t+=" manageable=\""+n.manageable+"\""),n.label&&(t+=" label=\""+n.label+"\""),n.deleted&&(t+=" markedForDeletion=\"true\""),t+=">",t+="<value",t+=" type=\""+n.type+"\"",t+=">"+this.encodeXML(n.value)+"</value>",t+="</property>")}t+="</properties>"}return t+="</"+e.tag+">",t},itemXMLDOC2JSON:function(e){var t=e.documentElement,a=this.itemXML2JSON(t);return a},itemChildrenXML2JSON:function(e,t){e.children=[];for(var a=t.firstChild;a;)1==a.nodeType&&e.children.push(this.itemXML2JSON(a)),a=a.nextSibling},itemXML2JSON:function(e){var t={tag:e.tagName};if("links"==t.tag)return t=this.itemXML2JSON(e.firstChild),this.itemChildrenXML2JSON(t,e),t;if("portals"==t.tag||"catalog"==t.tag)return"portals"==t.tag&&(t.tag="host"),this.itemChildrenXML2JSON(t,e),t;t.contextItemName="",t.extendedItemName="",t.parentItemName="";for(var a=e.firstChild;a;){var n=a.tagName||a.baseName;switch(n){case"name":t.name=a.textContent||a.text;break;case"contextItemName":t.contextItemName=a.textContent||a.text;break;case"extendedItemName":t.extendedItemName=a.textContent||a.text;break;case"parentItemName":t.parentItemName=a.textContent||a.text;break;case"securityProfile":t.securityProfile=a.textContent||a.text;break;case"uuid":t.uuid=a.textContent||a.text;break;case"finalUrl":t.finalUrl=a.textContent||a.text;break;case"properties":t.preferences={};for(var r=a.firstChild;r;){var o=r.tagName||r.baseName;switch(o){case"property":var i={};i.name=r.getAttribute("name"),i.itemName=r.getAttribute("itemName"),i.label=r.getAttribute("label"),i.label||(i.label=""),i.manageable=r.getAttribute("manageable")&&"true"===r.getAttribute("manageable"),i.viewHint="",r.getAttribute("viewHint")&&(i.viewHint=r.getAttribute("viewHint"));for(var d=r.firstChild;d;){var l=d.tagName||d.baseName;"value"===l?(i.value=d.textContent||d.text||"",i.value=this.decodeXML(i.value),i.type=d.getAttribute("type")):void 0;d=d.nextSibling}t.preferences[i.name]=i;}r=r.nextSibling}break;case"children":t.children=[];for(var r=a.firstChild;r;)1==r.nodeType&&t.children.push(this.itemXML2JSON(r)),r=r.nextSibling;break;case"manageable":t.manageable=a.textContent||a.text;break;case"tags":t.tags=[];for(var r=a.firstChild,o;r;)o=r.tagName||r.baseName,"tag"===o?(""!==r.textContent||""!==r.text)&&t.tags.push({type:r.getAttribute("type")||"",manageable:r.getAttribute("manageable")||"",value:r.textContent||r.text}):void 0,r=r.nextSibling;break;case"lastPublicationTimestamp":t.lastPublicationTimestamp=a.textContent||a.text;break;case"publishState":t.publishState=a.textContent||a.text;}a=a.nextSibling}return t},encodeXML:function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},decodeXML:function(e){return"string"==typeof e?e.replace(/&amp;/g,"&").replace(/&quot;/g,"\"").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e}});this.PortalServer=a}),b$.module("b$.portal",function(){function e(a,n){a._ssr=n;for(var r=a.firstChild,o=null;r;)1==r.nodeType&&(!o&&(o={},t(n,o)),o[r._jxid]&&e(r,o[r._jxid])),r=r.nextSibling}function t(e,a){for(var n=null,r=e.firstChild;r;)1==r.nodeType&&((n=r.getAttribute("data-pid"))?a[n]=r:t(r,a)),r=r.nextSibling}function a(e,t,r){if(e.all[t.name]){var o=e.all[t.name];console.log("Update "+o.name);for(var i=o.childNodes,d=0,l;d<i.length;d++){l=!1;for(var s=0;s<t.children.length;s++)if(i[d].name==t.children[s].name){l=!0;break}l||i[d].destroy()}for(var d=0,p;d<t.preferences.length;d++)p=t.preferences[d],o.setPreference(p.name,p.value)}else{var c=n(t.tag);e._newIDhack=t.name;var o=e.createElementNS("http://backbase.com/2012/portalModel",c);o.setItem(t),r&&r.appendChild(o)}if(t.children)for(var d=0;d<t.children.length;d++)if(t.preferences.loadChildren&&"false"===t.preferences.loadChildren.value){var m=o._children||[],u=a(e,t.children[d]);m.push(u),o._children=m}else a(e,t.children[d],o);return o}function n(e){return"portal"===e?"Portal":"link"===e?"Link":"page"===e?"Page":"container"===e?"Container":"widget"===e?"Widget":"catalog"===e?"Catalog":void 0}var r=b$._private.htmlAPI,o=b$.Class;this.controllers={},this.setController=function(e,t){this.controllers[e]=t},this.loadCatalog=function(){var e=b$.portal.portalModel,t=this.createVirtualWidget(e,"static/backbase.com.2012.sabre/widgets/CatalogBrowser/index.html"),a=e.documentElement.firstChild;a.appendChild(t);var n=b$.portal.portalView,a=n.documentElement.firstChild,r=b$.portal.portalReflector.reflect(t,n,null,a)},this.createVirtualWidget=function(e,t){var a=e.createElementNS("http://backbase.com/2012/portalModel","Widget"),n="generated-"+window.Math.floor(1e7*window.Math.random());return t=e.serverURL+"/"+t,a.setItem({tag:"widget",contextItemName:"null",name:n,preferences:{TemplateName:{name:"TemplateName",itemName:n,label:"",viewHint:"",manageable:"true",value:"Standard_Widget",type:"string"},title:{name:"title",itemName:n,label:"",viewHint:"text-input",manageable:"true",value:"title",type:"string"},src:{name:"src",itemName:n,label:"URI",viewHint:"",manageable:"true",value:t,type:"string"}},securityProfile:"ADMIN"}),a};var i=this;this.startup=function(e,t){var a=!1;b$.portal.isReadyForStartup=!0;try{window.top.bd}catch(e){a=!0}a||!window.top.bd||self==top||window.top.bd.previewWindow||window.top.bd.Versions.previewMode?i.startup2(e,t):(b$.portal.fnDelayStartup=function(){i.startup2(e,t)},b$.portal.startLoadingCallback&&b$.portal.startLoadingCallback())},this.startup2=function(e,t){var a={};a&&(a={serverURL:b$.portal.config.serverRoot,resourceURL:b$.portal.config.resourceRoot,portalURN:b$.portal.portalName}),this.pageStartup(e,a,function(e,t){for(var a=document.getElementsByTagName("script"),n=a.length-1,r;0<=n;n--)if(a[n].type&&"text/backbase-xml"===a[n].type){r=a[n].firstChild||a[n];break}if(r){var o=b$.bdom.util.processTools.parseFromString(r.wholeText||r.textContent||r.innerHTML||r.text||"");b$.portal.importPortalModel(o,e,t)}else console.log("Model not found...")},t)},this.pageStartup=function(e,t,a,n){b$.boot(),t||(t={}),t.serverURL||(t.serverURL=b$.portal.config.serverRoot),this.portalServer=new b$.portal._private.PortalServer(t.serverURL),window.gadgets&&(gadgets.config.proxyUrl=t.serverURL+"/proxy");var r=b$.portal.createApplicationModelDocument();b$.portal.portalModel=r;var o=this.createPortalView();b$.portal.portalView=o;var i=new b$.view.bdom.dd.DnDnR;i.initialize(document,o);var l=b$.portal.addPortalModel(r,t);o.appendChild=function(e){return b$.bdom.Document.prototype.appendChild.call(this,e),e};var s=r.documentElement,p=document.getElementById(e);d=p,b$._private.ssrRootElement=p,this.controllers.portal.reflectDeep(s,o,document.body,o),window.DBG&&console.log("________________________________pageStartup fnImport________________________________"),a&&a(r,l);var c=r.createEvent("CustomEvent");return c.initCustomEvent("DOMReady",!1,!1),r.dispatchEvent(c,!1),b$.portal.isPageDOMReady=!0,n&&n(o),void(window.DBG&&console.log("________________________________pageStartup END________________________________"))},this.getCurrentPage=function(){return{name:b$.portal.pageName}},this.getCurrentPortal=function(){return{name:b$.portal.portalName}},this.defaultDragHandlers={dragStart:function(e){if(!(top.bd&&top.bd.Versions&&top.bd.Versions.previewMode)){var t=this.ownerDocument.dragManager,a=r.hasClassUpwards(e.htmlTarget,t.cqs_resizeGrip);if(a){window.event.preventDefault();var n=r.hasClassUpwards(e.htmlTarget,t.cqs_dragRoot);t.dragOptions.target=a,t.dragOptions.viewController=this.ownerDocument.getViewControllerFromHtml(a),t.doDrag(this),e.stopPropagation()}else if(a=r.hasClassUpwards(e.htmlTarget,t.cqs_dragGrip),a){var n=r.hasClassUpwards(e.htmlTarget,t.cqs_dragRoot);t.dragOptions.htmlNode=n,e.dataTransfer.setData("x-bb-nodelist",[e.target]);var o=r.getBoxObject(n,"border");t.dragOptions.offsetLeft=o.x-e.clientX,t.dragOptions.offsetTop=o.y-e.clientY,t.setDragSymbol(n,"icon",e.clientX,e.clientY);var n=this.ownerDocument.documentElement;t.dragOptions.dragTargets=t.getDragTargetsFilter([e.target],n,function(e){if(e.dragIsTarget)return e.dragIsTarget()}),t.doDrag(this,e.dataTransfer),e.stopPropagation()}}},dragEnter:function(e){var t=this.ownerDocument.dragManager;return r.hasClassUpwards(t.dragOptions.target,t.cqs_resizeGrip)?void r.addClass(e.target.htmlNode,"bp-resize"):void(e.target.m_dragEnter&&e.target.m_dragEnter(e,t),e.stopPropagation())},drag:function(e){var t=this.ownerDocument.dragManager;r.hasClassUpwards(t.dragOptions.target,t.cqs_resizeGrip)?e.target.m_resize?e.target.m_resize(e,t):t.dragOptions.target.parentNode.viewController&&t.dragOptions.target.parentNode.viewController.m_resize&&t.dragOptions.target.parentNode.viewController.m_resize(e,t):e.target.m_dragMove&&e.target.m_dragMove(e,t),e.stopPropagation()},dragLeave:function(e){var t=this.ownerDocument.dragManager;return r.hasClassUpwards(t.dragOptions.target,t.cqs_resizeGrip)?void r.removeClass(e.target.htmlNode,"bp-resize"):void(e.target.m_dragOut&&e.target.m_dragOut(e,t),e.stopPropagation())},dragDrop:function(e){var t=this.ownerDocument.dragManager;if(!(r.hasClassUpwards(t.dragOptions.target,t.cqs_resizeGrip)||top.bd&&top.bd.Versions&&top.bd.Versions.previewMode)){if(e.target.m_dragDrop){var a=e.dataTransfer.getData("x-bb-nodelist");a[0]&&e.target.m_dragDrop(e,t,a[0])}e.stopPropagation()}},dragend:function(e){this.ownerDocument.dragManager;e.stopPropagation()}},this.createPortalView=function(){var e=new b$.bdom.DOMConfiguration;e.registerNamespace(b$.bdom.namespaces["http://backbase.com/2012/view"]),e.registerNamespace(b$.bdom.namespaces["http://backbase.com/2012/portalView"]),window.DBG&&console.log("________________________________createPortalView________________________________");var t=b$.bdom.domImplementation.createDocument();t.insertDisplayChild=function(){},t.bMoveDisplayChildren=!0;var a=document.createElement("div");return document.body.appendChild(a),a.appendChild(document.createElement("div")),t.htmlAbsolutePool=a,t.htmlAbsolutePool.className="absolutePool",t.getViewControllerFromHtml=b$.getVC,t.defaultDragHandlers=this.defaultDragHandlers,t.dragIndicator=t.createElementNS("http://backbase.com/2012/portalView","dragIndicator"),window.DBG&&console.log("________________________________createPortalView________________________________"),t},this.importPortalModel=function(e,t,n,r){var o=this.portalServer.itemXMLDOC2JSON(e),i=a(t,o);return r&&(b$._private.ssrRootElement=r),b$._private.attachSSR(i,b$._private.ssrRootElement),"Page"==i.localName&&this.controllers.portal.connectToModel(i,b$.portal.portalView),n&&n.appendChild(i),i},this.importFromXML=function(e,t,a){var n=bdomDocument.importNode(e,!0);b$._private.attachSSR(n,a),bdomTarget.appendChild(n)};var d=null;b$._private.attachSSR=function(t,a){a&&a.getAttribute("data-pid")==t._jxid&&e(t,a)};return this._buildModelFromJSON=a,this})},function(e,t){if("object"==typeof exports&&exports)t(exports);else{var a={};t(a),"function"==typeof define&&define.amd?define(a):e.Mustache=a}}(this,function(m){function a(e,a){return t.call(e,a)}function s(e){return!a(l,e)}function g(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(e){this.string=e,this.tail=e,this.pos=0}function u(e,t){this.view=e||{},this.parent=t,this._cache={}}function r(){this.clearCache()}function p(e,t,a,n){for(var r="",o=0,i=e.length,d,l,s;o<i;++o)switch(d=e[o],l=d[1],d[0]){case"#":if(s=a.lookup(l),"object"==typeof s){if(v(s))for(var c=0,u=s.length;c<u;++c)r+=p(d[4],t,a.push(s[c]),n);else s&&(r+=p(d[4],t,a.push(s),n));}else if("function"==typeof s){var g=null==n?null:n.slice(d[3],d[5]);s=s.call(a.view,g,function(e){return t.render(e,a)}),null!=s&&(r+=s)}else s&&(r+=p(d[4],t,a,n));break;case"^":s=a.lookup(l),(!s||v(s)&&0===s.length)&&(r+=p(d[4],t,a,n));break;case">":s=t.getPartial(l),"function"==typeof s&&(r+=s(a));break;case"&":s=a.lookup(l),null!=s&&(r+=s);break;case"name":s=a.lookup(l),null!=s&&(r+=m.escape(s));break;case"text":r+=l;}return r}function o(e){for(var t=[],a=t,n=[],r=0,o=e.length,i;r<o;++r)switch(i=e[r],i[0]){case"#":case"^":n.push(i),a.push(i),a=i[4]=[];break;case"/":var d=n.pop();d[5]=i[2],a=0<n.length?n[n.length-1][4]:t;break;default:a.push(i);}return t}function x(e){for(var t=[],a=0,n=e.length,r,o;a<n;++a)r=e[a],r&&("text"===r[0]&&o&&"text"===o[0]?(o[1]+=r[1],o[3]=r[3]):(o=r,t.push(r)));return t}function b(e){return[new RegExp(g(e[0])+"\\s*"),new RegExp("\\s*"+g(e[1]))]}var _=/\s*/,e=/\s+/,l=/\S/,N=/\s*=/,h=/\s*\}/,n=/#|\^|\/|>|\{|&|=|!/,t=RegExp.prototype.test,f=Object.prototype.toString,v=Array.isArray||function(e){return"[object Array]"===f.call(e)},y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},d.prototype.scanUntil=function(e){var t=this.tail.search(e),a;return-1===t?(a=this.tail,this.pos+=this.tail.length,this.tail=""):0===t?a="":(a=this.tail.substring(0,t),this.tail=this.tail.substring(t),this.pos+=t),a},u.make=function(e){return e instanceof u?e:new u(e)},u.prototype.push=function(e){return new u(e,this)},u.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."==e)t=this.view;else for(var a=this;a;){if(0<e.indexOf(".")){t=a.view;for(var n=e.split("."),r=0;t&&r<n.length;)t=t[n[r++]]}else t=a.view[e];if(null!=t)break;a=a.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},r.prototype.clearCache=function(){this._cache={},this._partialCache={}},r.prototype.compile=function(e,t){var a=this._cache[e];if(!a){var n=m.parse(e,t);a=this._cache[e]=this.compileTokens(n,e)}return a},r.prototype.compilePartial=function(e,t,a){var n=this.compile(t,a);return this._partialCache[e]=n,n},r.prototype.getPartial=function(e){return!(e in this._partialCache)&&this._loadPartial&&this.compilePartial(e,this._loadPartial(e)),this._partialCache[e]},r.prototype.compileTokens=function(e,t){var a=this;return function(n,r){if(r)if("function"==typeof r)a._loadPartial=r;else for(var o in r)a.compilePartial(o,r[o]);return p(e,a,u.make(n),t)}},r.prototype.render=function(e,t,a){return this.compile(e)(t,a)},m.name="mustache.js",m.version="0.7.2",m.tags=["{{","}}"],m.Scanner=d,m.Context=u,m.Writer=r,m.parse=function(t,a){function r(){if(f&&!v)for(;u.length;)delete c[u.pop()];else u=[];f=!1,v=!1}if(t=t||"",a=a||m.tags,"string"==typeof a&&(a=a.split(e)),2!==a.length)throw new Error("Invalid tags: "+a.join(", "));for(var i=b(a),l=new d(t),p=[],c=[],u=[],f=!1,v=!1,T,S,A,w,M;!l.eos();){if(T=l.pos,A=l.scanUntil(i[0]),A)for(var R=0,k=A.length;R<k;++R)w=A.charAt(R),s(w)?u.push(c.length):v=!0,c.push(["text",w,T,T+1]),T+=1,"\n"==w&&r();if(!l.scan(i[0]))break;if(f=!0,S=l.scan(n)||"name",l.scan(_),"="===S?(A=l.scanUntil(N),l.scan(N),l.scanUntil(i[1])):"{"===S?(A=l.scanUntil(new RegExp("\\s*"+g("}"+a[1]))),l.scan(h),l.scanUntil(i[1]),S="&"):A=l.scanUntil(i[1]),!l.scan(i[1]))throw new Error("Unclosed tag at "+l.pos);if(M=[S,A,T,l.pos],c.push(M),"#"===S||"^"===S)p.push(M);else if("/"===S){if(0===p.length)throw new Error("Unopened section \""+A+"\" at "+T);var L=p.pop();if(L[1]!==A)throw new Error("Unclosed section \""+L[1]+"\" at "+T)}else if("name"===S||"{"===S||"&"===S)v=!0;else if("="===S){if(a=A.split(e),2!==a.length)throw new Error("Invalid tags at "+T+": "+a.join(", "));i=b(a)}}var L=p.pop();if(L)throw new Error("Unclosed section \""+L[1]+"\" at "+l.pos);return c=x(c),o(c)},m.escape=function(e){return(e+"").replace(/[&<>"'\/]/g,function(e){return y[e]})};var c=new r;m.clearCache=function(){return c.clearCache()},m.compile=function(e,t){return c.compile(e,t)},m.compilePartial=function(e,t,a){return c.compilePartial(e,t,a)},m.compileTokens=function(e,t){return c.compileTokens(e,t)},m.render=function(e,t,a){return c.render(e,t,a)},m.to_html=function(e,t,a,n){var r=m.render(e,t,a);return"function"==typeof n?void n(r):r}}),b$.module("b$.view.preferences",function(){var e=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("displayElement");e.prototype.namespaceURI="http://backbase.com/2012/view";var t=e.extend(null,{localName:"PreferenceForm",getTemplate:function(){return"<div class=\"bp-pref-pane\"><form class=\"bp-pref-form bp--form\"><table class=\"bp-pref-table xbp-area\"></table><div class=\"bp-userPreferencesForm-buttonsPannel\"><button class=\"bp-userPreferencesForm-button bp-userPreferencesForm-okButton\" onclick=\"try{var pf=b$.getVC(this);pf.save();pf.dispatchCustomEvent('close');}catch(err){console.log(err)};return false;\">ok</button><button class=\"bp-userPreferencesForm-button bp-userPreferencesForm-cancelButton\" onclick=\"try{var pf=b$.getVC(this);pf.reset();pf.dispatchCustomEvent('close');}catch(err){console.log(err)};return false;\">cancel</button></div><div class=\"bp-userPreferencesForm-end\"></div></form></div>"},getRowTemplate:function(){return"<tr class=\"xbp-userPreferenceField\"><td class=\"bp-pref-td-label\"><label class=\"bp-pref-label\" for=\"{{name}}\">{{label}}</label></td><td class=\"bp-pref-td-input\"></td></tr>"},insertDisplayChild:function(t){var e={};if(t.model){e={name:t.model.name,label:t.model.label?t.model.label:t.model.name};var a=jQuery(Mustache.to_html(this.getRowTemplate(),e))[0];jQuery(".bp-pref-td-input",a).append(t.htmlNode)}else var a=t.htmlNode;var n=b$._private.htmlAPI.findCaptureClass("portalManagerPreferenceFieldView",this.htmlNode)[0];n.appendChild(a)},createDisplay:function(t){return t||(t=$(Mustache.to_html(this.getTemplate(),this.model.getJSON()))[0]),this.htmlNode=t,this.htmlNode.viewController=this,this.htmlBody=b$._private.htmlAPI.findCaptureClass("bp-pref-table",t)[0],t},handlePrefModified:function(t){switch(t.attrChange){case 1:break;case 2:break;case 3:}},connectToModel:function(){this.model.addEventListener("*",function(t){console.log("model "+t.type)}),this.model.addEventListener("PrefModified",this.handlePrefModified)},disconnectFromModel:function(){this.model.removeEventListener("PrefModified",this.handlePrefModified)},reset:function(){console.log("reset")},buildFieldsFromPreferences:function(t,a){var n=b$.portal.controllers.preferences;this.map={},this.itemModel=a;for(var r=0,o=t.length,e;r<o;r++)e="string"==typeof t[r]?this.ownerDocument.createFromString(t[r]):n.reflect(t[r],this.ownerDocument),e?(this.appendChild(e),this.map[t[r].name]=e):console.log("Reflection error ",t[r])},save:function(){for(var t=this.childNodes,e={},a=0;a<t.length;a++)t[a].model&&(e[t[a].model.name]=t[a].ctrl.getValue(t[a]));this.dispatchCustomEvent("savePreferenceForm",!0,!0,e)},cancel:function(){},hasChanges:function(){this.bChanged=!1,b$.bdom.util.callFunctionRecursively(this,function(t){this.isInputField&&this.value!=this.model.value&&(console.log(this),t.bChanged=!0,console.log(this.value,this.model.value))},[this]),console.log("bChanged "+this.bChanged)}},{actions:{cancel:function(){},save:function(){}},handlers:{click:function(t){if(t.target==this){var a=this.getDisplayEventTarget(t.htmlTarget);if(a){var e=a.getAttribute("data-action");e&&this.dispatchCustomEvent(e)}}},save:function(){this.save(),this.dispatchCustomEvent("closePreferenceForm",!0,!0)},cancel:function(){this.cancel(),this.dispatchCustomEvent("closePreferenceForm",!0,!0)},xDOMNodeInsertedIntoDocument:function(){},xDOMNodeInserted:function(){},xvalidate:function(){}}}),n=e.extend(null,{localName:"BaseControl",cnBasePrefix:"bc-",cnBase:"",buildJSON:function(){},doTemplate:function(){return"<div></div>"},buildHTML:function(){var t=jQuery(this.doTemplate(this.buildJSON()))[0];return t},getBoolAttribute:function(t){var a=this.getAttribute(t);return!!(a&&"false"!=a)},setBoolAttribute:function(t,a){a?this.setAttribute(t,t):this.removeAttribute(t)},domActivate:function(){var t=new this.ownerDocument.createEvent("UIEvent");t.initUIEvent("DOMActivate",!0,!0,window,null),this.dispatchEvent(t)}}),r=n.extend(null,{localName:"FormControl",getForm:function(){for(var t=this.htmlNode;t;){if("form"==t.localName||"form"==t.nodeName.toLowerCase())return t;t=t.parentNode}}});this.UserPreferenceField=b$.Class,this.UserPreferencesForm=b$.Class}),b$.module("b$.portal._private.include",function(){var t=b$.Class,p=b$._private.ArrayMap,m=b$._private.ArrayCollection,b=b$.bdom.events.EventTarget,u=b$._private.types.TypeConstraintFn,f=b$._private.types.TypeConstraintNull,c=b$._private.types.TypeConstraintOptional,d=b$._private.ArrayIterator,i=b$._private.uri.URI,h=b$._private.template.StringTemplate,v=b$._private.htmlAPI,a=/^__(WIDGET|GADGET)__/,n=new u(function(e){return /^proxy|target$/.test(e)}),s=new c(n),e=new u(function(e){return /^GET|POST$/.test(e)}),r=t.extend(function(e,a,n,r){this.name=new h(e),this.value=new h(a),this.destination=n,this.method=r},{toQueryString:function(e){var n=encodeURIComponent(this.getName(e));return this.getValues(e).map(function(t){if(a.test(t)){for(var r=t.split("."),o=e,i=1,d=r.length;i<d;i++)o=o[r[i]];t=o}return n+"="+encodeURIComponent(t)}).join("&")},getName:function(e){return("proxy"==this.destination&&"POST"==this.method?r.PROXY_PARAM_PREFIX:"")+this.name.generate(e)},getValues:function(e){return[this.value.generate(e)]}},{PROXY_PARAM_PREFIX:"internal-"}),g=r.extend(function(e,a,n){r.call(this,e,"",a,n)},{getValues:function(e){var a=e.getPreference(this.getName(e));return a instanceof Array?a:[a]}}),l=m.extend(null,{toQueryString:function(e,a,t){return this.array.filter(function(e){return e.method==a&&(!t||e.destination==t)}).map(function(t){return t.toQueryString(e)}).join("&")},toJSONObject:function(e,a,t){var n={};return this.array.filter(function(e){return e.method==a&&(!t||e.destination==t)}).forEach(function(t){var a=t.getName(e);n[a]=t.getValues(e).concat(n[a]||[])}),n}}),o=b.extend(function(e,a,n,o,d){b.call(this);var t=new i(e);t.getQuery()&&t.getQuery().split("&").forEach(function(e){var t=e.split("=");o.add(new r(t[0],t[1],"target","GET"))}),this.uri=new h((t.getScheme()&&t.getScheme()+":"||"")+(t.getAuthority()&&b$.view.url2state.separator+t.getAuthority()||"")+t.getPath()),this.method=a,this.proxy=n,this.params=o,this.content=null,this.widget=d},{setContent:function(e){this.content=e,this.dispatchCustomEvent("content")},hasContent:function(){return!!this.content},getContentIterator:function(){return new d(this.content||[])},getContentURI:function(){var e=this.params.toQueryString(this.widget,"GET","target"),t=this.uri.generate(this.widget)+(e&&"?"+e);return this.proxy?gadgets.io.getProxyUrl(t,this.params.toJSONObject(this.widget,"GET","proxy")):i.resolve(t,this.widget.getOriginURI())},refresh:function(){var e=this,t=this.getContentURI(),a=gadgets.io.makeRequest(t,function(n){for(var r=v.createElementFromString("<div>"+n.text+"</div>",e.widget.htmlNode.ownerDocument),o=[],i=0;i<r.childNodes.length;i++)o.push(r.childNodes[i]);e.setContent(o),e.widget.dispatchCustomEvent("includeRefreshed",!0,!0,{url:t,request:a,include:e})},{method:this.method,data:"POST"==this.method?this.params.toQueryString(e.widget,"POST"):""})},setUrl:function(e){if(e&&"string"==typeof e){var t=new i(e);t.getQuery()&&t.getQuery().split("&").forEach(function(e){var t=e.split("=");oParams.add(new r(t[0],t[1],"target","GET"))}),this.uri=new h((t.getScheme()&&t.getScheme()+":"||"")+(t.getAuthority()&&b$.view.url2state.separator+t.getAuthority()||"")+t.getPath())}}});this.HttpParam=r,this.HttpPreferenceParam=g,this.HttpParams=l,this.Include=o}),b$.module("b$.portal._private.definition",function(){function d(e){var t=[],a=e.attributes;if(window.ActiveXObject&&!window.Performance)for(var n=0,r=a.length;n<r;n++)t.push({name:a[n].name,value:a[n].value});else for(var n in a)a.hasOwnProperty(n)&&t.push({name:a[n].name,value:a[n].value});return t}function s(e,t,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState){var e=(this.status+"").charAt(0);if("0"==e||"2"==e||"3"==e)t(this);else{var n=this,r={readyState:n.readyState,responseText:n.responseText,status:n.status,statusText:n.statusText};a(r)}}},n.open("GET",encodeURI(e),!1),n.send()}var c=b$.Class,v=b$._private.uri.URI,y=b$.portal.preferences.Preference,o=b$.portal.preferences.Preferences,f=b$.portal.preferences.types,l=b$.portal._private.include.HttpPreferenceParam,_=b$._private.htmlAPI,b=b$.Class.extend(function(){this.factories={},this.builders={}},{buildWidget:function(e,a,n,r){var e=new v(e).resolve(new v(b$.portal.config.resourceRoot)).toString();this.builders[e]||(this.builders[e]=new t(e));var o=this.builders[e];return a?o.getDefinition(r):(o.XListeners=o.getEventListenersByWidget(n),r(o))}});b$._private.AsyncComponentBuilder=b;var m="http://www.backbase.com/2008/gadget",r=b$.portal._private.include.Include,p=b$.portal._private.include.HttpParam,i=b$.portal._private.include.HttpParams,u=/(application|text)\/(x-)?backbase\+xml/,n=/(application|text)\/(x-)?backbase\+(xml|ssr)/,a=/(application|text)\/(x-)?backbase\+gadget\+xml/,h=function(e,t,a){return function(n){return(!a&&n.namespaceURI==e||a)&&(n.localName||n.baseName)==t}},t=b$.Class.extend(function(e){this.definition=null,this.loading=!1,this.callbackQueue=[],this.sUrl=e,this.resources=null},{getDefinition:function(e){if(this.definition)e(this);else if(this.callbackQueue.push(e),!this.loading){this.loading=!0;var t=new XMLHttpRequest,a=this;t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status||0==this.status&&""!==this.responseText){var e=this.responseText,t=navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/),n;window.ActiveXObject&&window.Performance||t?(e=e.replace(/<!DOCTYPE[^>]+>/gi,""),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e)):n=new DOMParser().parseFromString(e,"application/xml"),a.definition=n,a.loaded=!0,a.initializeDefinition(),a.getResourcesFromDefinition(function(){for(var e=0;e<a.callbackQueue.length;e++)a.callbackQueue[e](a)})}else;},t.open("GET",this.sUrl),t.send()}else;},initializeDefinition:function(){this.XTitle=this.getTitleFromDefinition(),this.XIcon=this.getIconFromDefinition(),this.XListeners=this.getEventListenersFromDefinition(),this.XClasses=this.getClassesFromDefinition()},getTitleFromDefinition:function(){var e=_.getChildren(this.definition.documentElement),t=e.filter(h("http://www.w3.org/1999/xhtml","head")),a=_.getDescendants(t),n=a.filter(h("http://www.w3.org/1999/xhtml","title")),r=_.getContents(n);return r.map(function(e){return e.xml||new XMLSerializer().serializeToString(e)}).join("")},getIconFromDefinition:function(){var e=_.getChildren(this.definition.documentElement),t=e.filter(h("http://www.w3.org/1999/xhtml","head")),a=_.getDescendants(t),n=a.filter(function(e){return e.namespaceURI=="http://www.w3.org/1999/xhtml"&&"link"==(e.localName||e.baseName)&&"icon"==e.getAttribute("rel")});return n.length?v.resolve(n[0].getAttribute("href")||"",this.src):null},createEventHandlerFromString:function(e){return new Function("event",e.replace(/(__GADGET__|__WIDGET__)/gm,"this"))},getEventListenersFromDefinition:function(){var e=_.getChildren(this.definition.documentElement),t=e.filter(h("http://www.w3.org/1999/xhtml","body")),a=t[0],n={};if(a){for(var r=0,o,i;o=a.attributes[r];r++)if(i=o.localName||o.baseName,"http://www.backbase.com/2008/gadget"==o.namespaceURI&&"on"==i.substr(0,2))try{n[i.substr(2)]=this.createEventHandlerFromString(o.nodeValue)}catch(e){console.log(e)}}else;return n},getEventListenersByWidget:function(e){var t=e.body.firstChild,a={},n="g:",r="on";if(!t)return a;for(var o=0,i,d;i=t.attributes[o];o++)if(d=i.localName||i.baseName,d.indexOf(r)===n.length)try{a[d.substr(r.length+n.length)]=this.createEventHandlerFromString(i.nodeValue)}catch(e){console.log(e)}return a},getClassesFromDefinition:function(){var e=_.getChildren(this.definition.documentElement),t=e.filter(h("http://www.w3.org/1999/xhtml","body")),a=t[0],n=[];if(a)for(var r=0,o,i;o=a.attributes[r];r++)i=o.localName||o.baseName,"class"===i&&(n=o.nodeValue.split(/\s+/));else;return n},getPreferencesFromDefinition:function(e){if(e.model){var t=_.getChildren(this.definition.documentElement),a=t.filter(h("http://www.w3.org/1999/xhtml","head")),n=_.getDescendants(a),r=n.filter(h(m,"preferences"))[0],o=_.getChildren(r),i=this,d=h(m,"preference"),l=0,s=e.model.preferences;o.map(function(t){!d.apply(t,arguments);var a=t.getAttribute("type"),n=t.getAttribute("default"),r=t.getAttribute("name"),o=t.getAttribute("viewHint"),p=t.getAttribute("manageable"),c=t.getAttribute("label")||r,u=t.getAttribute("onchange")||"",g;if("range"==a)g=new b$.portal.preferences.inputType.range,g.min=+t.getAttribute("min"),g.max=+t.getAttribute("max"),g.step=+t.getAttribute("step");else if("select-one"==a||"select-multiple"==a||"checkbox"==a||"checkbox-multiple"==a||"radio"==a){g=new b$.portal.preferences.inputType[a];_.getChildren(t).filter(h(m,"enumeration")).map(function(e){var t=e.getAttribute("value")||e.textContent||e.text,a=e.getAttribute("label")||t;g.options.push({value:t,label:a})})}else g=b$.portal.preferences.inputType[a]?new b$.portal.preferences.inputType[a]:new b$.portal.preferences.inputType.text;var f=s.getByName(r);f?(f.inputType=g,s.remove(f),s.insert(f,l++)):(f=e.model.ownerDocument.createPreference(r,"string"),f.value=f.dataType.parseFromString(n),f.label=c,f.viewHint=o,f.manageable=p&&"true"===p,f.inputType=g,s.insert(f,l++)),u&&f.addEventListener("change",i.createEventHandlerFromString(u),!1,e)})}},getResourcesFromDefinition:function(e,t){b$.portal._private.definition.getResourcesFromDefinition(this.definition,this.sUrl,e,t)},getIncludesFromDefinition:function(e){function t(t){var a=e.model.preferences,n=t.match(/\$\{(.*?)\}/g)||[];return n.forEach(function(e){var n=e.replace("${","").replace("}",""),r=a.getByName(n),o="";r&&(o=r.getValue()),t=t.replace(e,o)}),t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL),t}function a(t){for(var a=e.model.preferences.array,n=[],r=0;r<a.length;r++)a[r].dataType.name==t&&n.push(a[r]);return n}var n=_.getChildren(this.definition.documentElement).filter(h("http://www.w3.org/1999/xhtml","body")),o=_.getDescendants(n).filter(h(m,"include")),d=this;return o.map(function(n){return new r(n.getAttribute("src")?t(n.getAttribute("src")):"",(n.getAttribute("method")||"GET").toUpperCase(),"true"==(n.getAttribute("proxy")||"").toLowerCase(),function(){for(var e=[],t=_.getChildren(n).filter(function(e){return e.namespaceURI==m&&/^(http-(proxy-|preference-)?)param(-map)?$/.test(e.localName||e.baseName)}),r=0,o;r<t.length;r++)if(o=t[r].localName||t[r].baseName,"http-preference-param"==o)e.push(new l(t[r].getAttribute("name"),"target",(t[r].getAttribute("method")||"GET").toUpperCase()));else if("http-preference-param-map"==o)for(var d=a(t[r].getAttribute("dataType")),s=0;s<d.length;s++)e.push(new p(d[s].dataType.name+"."+d[s].name,d[s].value,"target",(t[r].getAttribute("method")||"GET").toUpperCase()));else e.push(new p(t[r].getAttribute("name"),t[r].getAttribute("value"),"http-proxy-param"==o?"proxy":"target",(t[r].getAttribute("method")||"GET").toUpperCase()));return new i(e)}(),e)})},getHTMLBodyFromDefinition:function(){var e=this.definition.documentElement.cloneNode(!0),t=_.getChildren(e).filter(h("http://www.w3.org/1999/xhtml","body"))[0],a=new XMLSerializer,r=this.src;_.getDescendants(t).forEach(function(e){var t=e.localName||e.baseName,a=e.namespaceURI,o="",i="";if("http://www.w3.org/1999/xhtml"==a&&/^(a|area|img|input|iframe|form)$/.test(t))o=/^(a|area)$/.test(t)?"href":/^(img|input|iframe)$/.test(t)?"src":"action",i=e.getAttribute(o),i&&e.setAttribute(o,v.resolve(i,r));else if("http://www.w3.org/1999/xhtml"==a&&"script"==t){var d=e.getAttribute("type");n.test(d)&&console.log("BB4 Island disbled... "+d)}else if(a==m&&"include"==t){var l=e.ownerDocument.createElement("div");l.setAttribute("class","bp-g-include"),e.parentNode.replaceChild(l,e)}});var o=document.createElement("div"),i=e.getAttribute("style")||"",d=t.getAttribute("style")||"",l=e.getAttribute("class")||"",s=t.getAttribute("class")||"";return o.innerHTML="x<div"+(i||d?" style=\""+(i&&i+"; ")+d+"\"":"")+(l||s?" class=\""+(l&&l+" ")+s+"\"":"")+">"+_.getContents(t).map(function(e){return(e.xml||a.serializeToString(e)).replace(/<([\w:]+)([^>]*)\/>/gi,"<$1$2></$1>")}).join("")+"</div>",o.lastChild}},{CSS_IMPORT_REGEXP:/@import\s+(?:'((?:[^\\']|\\.)*)'|"((?:[^\\"]|\\.)*)")/gm,CSS_URL_REGEXP:/url\(\s*(?:'((?:[^\\']|\\.)*)'|"((?:[^\\"]|\\.)*)"|((?:[^\\\)]|\\.)*))\s*\)/gm,CSS_ESCAPE_REGEXP:/\\([^\n\r\f0-9a-fA-F])|\\([0-9a-fA-F]{1,6})(?:\r\n|[ \n\r\t\f])?/g,unescapeCSSLiteral:function(e){return e.replace(t.CSS_ESCAPE_REGEXP,function(e,t,a){return t||String.fromCharCode(parseInt(a,16))})},resolveUrlsInCSS:function(e,a){return e.replace(t.CSS_URL_REGEXP,function(e,n,r,o){return"url('"+v.resolve(t.unescapeCSSLiteral(n||r||o),a).replace(/'/g,"\\'")+"')"}).replace(t.CSS_IMPORT_REGEXP,function(e,n,r){return"@import '"+v.resolve(t.unescapeCSSLiteral(n||r),a).replace(/'/g,"\\'")+"'"})}}),g=b$._private.ResourceSequence;this.getResourcesFromDefinition=function(e,t,a,n,r){var o=new g,i=_.getChildren(e.documentElement),l=i.filter(h("http://www.w3.org/1999/xhtml","head",r))[0],s=i.filter(h("http://www.w3.org/1999/xhtml","body",r))[0],p=_.getDescendants(l),c=_.getDescendants(s),m=t;return p.filter(h("http://www.w3.org/1999/xhtml","link",r)).forEach(function(e){var t=e.getAttribute("href"),a=e.getAttribute("rel"),n=e.getAttribute("type")||"text/css",r=d(e);t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL),"stylesheet"!=a||"text/css"!=n||/standalone\.css$/.test(t)||o.addURI(n,v.resolve(t,m),null,r)}),p.filter(h("http://www.w3.org/1999/xhtml","script",r)).forEach(function(e){var t=e.getAttribute("src"),a=e.textContent||e.text,n=e.getAttribute("type")||"text/javascript",r=d(e);t&&!/standalone\.js$/.test(t)?(t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL),o.addURI(n,v.resolve(t,m),null,r)):!t&&a&&o.addInline(n,a,null,r)}),p.filter(h("http://www.w3.org/1999/xhtml","style",r)).forEach(function(e){var t=e.textContent||e.text,a=e.getAttribute("type")||"text/css",n=d(e);t&&o.addInline(a,t,null,n)}),c.filter(h("http://www.backbase.com/2006/tdl","tdl",r)).forEach(function(e){var t=_.getParents(e).filter(h("http://www.w3.org/1999/xhtml","script",r))[0],a=t.getAttribute("type")||"text/javascript",n=new XMLSerializer;u.test(a)}),void o.startLoading(a,n)},this.getResourcesFromDefinitionSynchronous=function(e,t,a){var n=_.getChildren(e.documentElement),r=n.filter(h("http://www.backbase.com/ns/widgets","resources"))[0],o=_.getDescendants(r),i=t;o.filter(h("http://www.w3.org/1999/xhtml","link")).forEach(function(e){var t=e.getAttribute("href"),a=e.getAttribute("rel"),n=e.getAttribute("type")||"text/css";t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL);var r=d(e);if("stylesheet"==a&&"text/css"==n&&!/standalone\.css$/.test(t)){for(var o=document.createElement("link"),l=r.length-1;0<=l;l--)o.setAttribute(r[l].name,r[l].value);o.type=n,o.href=v.resolve(t,i);var s=document.createAttribute("rel");s.nodeValue="stylesheet",o.setAttributeNode(s);var p=document.getElementsByTagName("head")[0];p.appendChild(o)}}),o.filter(h("http://www.w3.org/1999/xhtml","script")).forEach(function(e){var t=e.getAttribute("src"),a=e.textContent||e.text,n=e.getAttribute("type")||"text/javascript",r=d(e);if(t&&!/standalone\.js$/.test(t)){t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL);var o=document.createElement("script");o.type=n;for(var l=b$._private.resourceManager.resources.length-1;0<=l;l--){if(b$._private.resourceManager.resources[l].uri==v.resolve(t,i))return;var p=new g;p.addURI(n,v.resolve(t,i),null,r)}s(v.resolve(t,i),function(e){o.text=e.responseText;var t=document.getElementsByTagName("head")[0];t.appendChild(o)})}else if(!t&&a){var c=document.createElement("script");c.type=n,c.text=a;var m=document.getElementsByTagName("head")[0];m.appendChild(c)}}),o.filter(h("http://www.w3.org/1999/xhtml","style")).forEach(function(e){var t=e.textContent||e.text,a=e.getAttribute("type")||"text/css",n=d(e);if(t){var r=document.createElement("style");r.type=a,r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t));var o=document.getElementsByTagName("head")[0];o.appendChild(r)}}),a&&a()},this.getResourcesFromConfig=function(e,t){var a=e.replace("$(contextRoot)",b$.portal.portalModel.serverURL),n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState){var e=(this.status+"").charAt(0);if("0"==e||"2"==e||"3"==e){var n=this.responseText,r;window.ActiveXObject&&window.Performance?(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n)):r=new DOMParser().parseFromString(n,"application/xml"),b$.portal._private.definition.getResourcesFromDefinitionSynchronous(r,a,t)}else{var o={readyState:this.readyState,responseText:this.responseText,status:this.status,statusText:this.statusText};console.log(o)}}},n.open("GET",encodeURI(a),!1),n.setRequestHeader("Content-Type","application/xml"),n.send(null)}}),b$.module("b$.portal.view.bdom.default",function(){var l=Math.abs;function y(e,t,a,n,r,o){return!!(e>=a&&e<=a+r&&t>=n&&t<=n+o)}var x=function(){return this}(),e=b$.bdom.Namespace,f=b$.view.bdom.Component,o=b$.view.perspective.Perspective,s=b$.view.perspective.PerspectiveType,p=b$.view.perspective.PerspectiveParameters,_=b$._private.template.SimpleURITemplate,m=b$._private.htmlAPI,c=b$._private.xml,u=e.extend(function(t){e.call(this,t)},{}),i=new u("http://backbase.com/2012/portalView");this.NS=i;var r=function(e,t,a,n){this;b$.portal.portalServer.loadItemHTML(e.originalItem,function(n,r){var o=n.substring(0,n.indexOf("<body>"))+"</html>",i=n.substring(n.indexOf("<body>")+6,n.indexOf("<script type=\"text/backbase-xml")),d="";-1!==n.indexOf("<script type=\"text/backbase-xml\">")&&(d=n.substring(n.indexOf("<script type=\"text/backbase-xml\">")+33,n.indexOf("</script>",n.indexOf("<script type=\"text/backbase-xml\">")+33)));var l=c.parse(o);b$.portal._private.definition.getResourcesFromDefinition(l,"",function(){var t=m.createElementFromString(i),n=e.ownerDocument;e.destroy();var o=c.parse(d),l=b$.portal.importPortalModel(o,n,null,t);a&&a(l,r);var s=t.viewController;s.ownerDocument.documentElement.designMode&&s.enableDesignMode()},function(){var n=m.createElementFromString("<span>This part of the page can't be rendered </span>");n.viewController=t.viewController,t.appendChild(n);var r=c.parse(d),o=b$.portal.portalServer.itemXMLDOC2JSON(r);e.setItem(o),a&&a()})},n,!0)};b$.portal.refreshHTML=r;var k={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},h=i.registerElement("deprecatedElement",f.extend(function(){f.apply(this,arguments)},{namespaceURI:"http://backbase.com/2012/portalView",buildHTML:function(e){return e||(e=m.createElementFromString(this.doTemplate(this.buildJSON()))),e},buildDisplay:function(){if(this.htmlNode=this.buildHTML(this.htmlNode),!this.htmlAreas){var e=this.getDisplay("area",!0);e.length||(e=m.findCaptureClass("bp-area",this.htmlNode)),this.htmlAreas=e}return this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode},attachHTMLChildren:function(){for(var e=this.getAreaOrderedChildren(),t=!1,a=0;a<e.length;a++)if(e[a]){var n=0,r=e[a][n].getHTMLNode(),o=this.htmlAreas[a];o||(o=this.htmlAreas[this.htmlAreas.length-1]);var i=o.firstChild;if(!i)o.appendChild(r),t=!0;else for(;i;){if(1==i.nodeType&&i.viewController){var r=e[a][n].getHTMLNode();if(i.viewController==e[a][n]||i.parentNode.insertBefore(r,i),n++,n==e[a].length)break}i=i.nextSibling}for(;n<e[a].length;){var r=e[a][n].getHTMLNode();n++,o.appendChild(r)}}}}));b$.mixin(h.prototype,b$.bdom.BOldNode);var b=i.registerElement("portalViewElement",h.extend(function(){h.apply(this,arguments),this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers)},{namespaceURI:"http://backbase.com/2012/portalView",dragIsTarget:function(){return this.isPossibleDragTarget},refreshHTML:function(e,t){var a=this.model.parentNode,n=this.ownerDocument;return void r(this.model,null,function(t,r){var o,i;a.appendChild(t),o=n.all[b$.portal.portalReflector.getID(a)],i=n.all[b$.portal.portalReflector.getID(t)],o.insertDisplayChild(i),e&&e(i,r)});var o=this},loadChildren:function(e,t){var a=[];if(this.model._children){e?a.push(e):a=this.model._children;for(var n=this,r=a.length-1,o;0<=r&&!b$.portal.portalModel.getElementById(a[r].name);r--)o=function(e){var a=e.substring(0,e.indexOf("<body>"))+"</html>",r=e.substring(e.indexOf("<body>")+6,e.indexOf("<script type=\"text/backbase-xml")),o="";-1!==e.indexOf("<script type=\"text/backbase-xml\">")&&(o=e.substring(e.indexOf("<script type=\"text/backbase-xml\">")+33,e.indexOf("</script>",e.indexOf("<script type=\"text/backbase-xml\">")+33)));var i=function(){var e=b$._private.htmlAPI.createElementFromString(r),a=b$._private.xml.parse(o),i=0,d=0,l=navigator.userAgent.toLowerCase();-1==l.indexOf("msie")&&9<parseInt(l.split("msie")[1])&&(i=b$._private.xml.textContent(b$.ua.querySelector(a,"property[name=area] value"))||0,d=b$._private.xml.textContent(b$.ua.querySelector(a,"property[name=order] value"))||0);for(var s=n.htmlAreas[i],p=!0,c=null,m=0;m<s.childNodes.length;m++)if(s.childNodes[m].getAttribute("data-pid")==e.getAttribute("data-pid")){p=!1;break}else d<s.childNodes[m].viewController.getPreference("order")&&(c=s.childNodes[m]);p&&(c?s.insertBefore(e,c):s.appendChild(e));b$.portal.importPortalModel(a,b$.portal.portalModel,n.model,e);t&&t(e.viewController)},d=b$._private.xml.parse(a);b$.portal._private.definition.getResourcesFromDefinition(d,"",i)},b$.portal.portalServer.loadItemHTML(a[r],o,null,!0,-1,null)}},getPreference:function(e){return this.model?this.model.getPreference(e):this.getAttribute(e)},setPreference:function(e,t){return this.model.setPreference(e,t)},isPreference:function(e){var t=this.getPreference(e);return null!=t&&""!=t},getAreaPreference:function(){if(this.area===void 0){if(this.model){var e=parseInt(this.model.getPreference("area"),10);isNaN(e)&&(e=0)}else{var e=parseInt(this.getAttribute("area"),10);isNaN(e)&&(e=0)}return e}return this.area},getOrderPreference:function(){if(this.order===void 0){if(this.model){var e=parseInt(this.model.getPreference("order"),10);isNaN(e)&&(e=0)}else{var e=parseInt(this.getAttribute("order"),10);isNaN(e)&&(e=0)}return e}return this.order},m_dragEnter:function(e){var t=k[this.model.securityProfile];if(t<k.CONTRIBUTOR)return!1;var a=e.clientX,n=e.clientY;this.appendChild(this.ownerDocument.dragIndicator)},m_dragOut:function(e){var t=k[this.model.securityProfile];if(t<k.CONTRIBUTOR)return!1;var a=e.clientX,n=e.clientY,r=this.ownerDocument.dragIndicator.getDisplay();r&&(r.parentNode.removeChild(r),this.removeChild(this.ownerDocument.dragIndicator)),delete this.tmp_lastTargetAreaId;for(var o=this.childNodes,i=0;i<o.length;i++)o[i].tmp_order=o[i].order,delete o[i].area,delete o[i].order;this.reflow()},m_dragMove:function(e,t){var a=k[this.model.securityProfile];if(a<k.CONTRIBUTOR)return!1;var n=document.body.scrollTop?document.body.scrollTop:document.body.parentNode.scrollTop?document.body.parentNode.scrollTop:0,r=document.body.scrollLeft?document.body.scrollLeft:document.body.parentNode.scrollLeft?document.body.parentNode.scrollLeft:0,o=e.clientX+r,i=e.clientY+n,d=this.getDisplay("area",!0);d.length||(d=m.findCaptureClass("bp-area",this.htmlNode));for(var s=null,p=null,c=1/0,u=0,g;u<d.length;u++){if(g=m.getBoxObject(d[u],"border"),y(o,i,g.x,g.y,g.w,g.h)){s=u;break}var h=l(g.x+g.w/2-o)+l(g.y+g.h/2-i);h<c&&(c=h,p=u)}null==s&&(this.tmp_lastTargetAreaId?s=this.tmp_lastTargetAreaId:null==p?s=0:s=p),this.tmp_lastTargetAreaId=s;var f=null,b=t.dataTransfer.getData("x-bb-nodelist");b&&b[0]&&(f=b[0]);d[s];t.__tmpArea=s,t.__tmpOrder=0,this.ownerDocument.dragIndicator.area=s;var v=this.getAreaOrderedChildren(),x=v[s],_=!1;if(x)for(var u=0;u<x.length;u++)if(x[u]!=this.ownerDocument.dragIndicator){if(!_){var g=m.getBoxObject(x[u].htmlNode,"border");if("horizontal"==this.layout.dir.direction&&o<g.x+g.w/2||"vertical"==this.layout.dir.direction&&i<g.y+g.h/2){_=!0,this.ownerDocument.dragIndicator.order=t.__tmpOrder;var N=this.ownerDocument.dragIndicator.getDisplay(),T=x[u].getDisplay();T.parentNode.insertBefore(N,T),t.__tmpOrder++,N.display=f==x[u].model?"none":"block"}}x[u].order=t.__tmpOrder,t.__tmpOrder++}_||(this.ownerDocument.dragIndicator.order=t.__tmpOrder,!d[s]&&console.log("____________________________________________",this),d[s].appendChild(this.ownerDocument.dragIndicator.getDisplay()));var E=this.ownerDocument.dragIndicator,C=t.dataTransfer.getData("x-bb-nodelist"),f;return C&&(f=C[0]),E.getDisplay().style.display="block",t.dragOptions.htmlNode.catalogItemJson||f.parentNode!=E.parentNode||f.getAreaPreference()!=E.area||f.order+1!=E.order&&f.order-1!=E.order||(E.getDisplay().style.display="none"),void this.reflow()},m_dragDrop:function(e,t,a){var n=k[this.model.securityProfile];if(n<k.CONTRIBUTOR)return!1;var o=a;if(o.isCatalog);else{var i=o.parentNode,d=i.childNodes;if(this!=i)for(var l=0;l<d.length;l++)o!=d[l]&&(d[l].model.setPreference("order",d[l].tmp_order),d[l].model.save())}for(var d=this.childNodes,l=0;l<d.length;l++)o!=d[l]&&d[l].tmp_order&&(d[l].model.setPreference("order",d[l].tmp_order),d[l].model.save());if(o.isCatalog&&t.dragOptions.htmlNode&&t.dragOptions.htmlNode.catalogItemJson){var s=this.model.createExtendedElementFromJSON(t.dragOptions.htmlNode.catalogItemJson);if(t.dragOptions.htmlNode.catalogItemJson.children)for(var l=0,p=t.dragOptions.htmlNode.catalogItemJson.children.length,c;l<p;l++)c=this.model.createExtendedElementFromJSON(t.dragOptions.htmlNode.catalogItemJson.children[l]),s.appendChild(c,!0);var m=this.model;s.parentItemName=m.name;var u=s.getPreferenceNode("area");u?s.setPreference("area",this.ownerDocument.dragIndicator.area+""):(u=this.model.ownerDocument.createPreference("area","string"),u.value=this.ownerDocument.dragIndicator.area+"",s.setPreferenceNode(u));var u=s.getPreferenceNode("order");u?s.setPreference("order",this.ownerDocument.dragIndicator.order+""):(u=this.model.ownerDocument.createPreference("order","double"),u.value=this.ownerDocument.dragIndicator.order+"",s.setPreferenceNode(u));var g=this;s.save(function(){s.contextItemName?r(s,g.htmlNode,function(e){var t,a;e.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0,m.appendChild(e),t=g.ownerDocument.all[b$.portal.portalReflector.getID(m)],a=g.ownerDocument.all[b$.portal.portalReflector.getID(e)],t.insertDisplayChild(a)}):(s.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0,m.appendChild(s))})}else{o.model.setPreference("area",this.ownerDocument.dragIndicator.area.toString());var u=o.model.getPreferenceNode("order");u?o.model.setPreference("order",this.ownerDocument.dragIndicator.order+""):(u=this.model.ownerDocument.createPreference("order","double"),u.value=this.ownerDocument.dragIndicator.order+"",o.model.setPreferenceNode(u)),o.model.parentItemName=this.model.name,this.model.appendChild(o.model),o.model.save()}i&&i.reflow(),this.reflow()},createPerspective:function(e,t){return new o(new _("/","page"),e,t)},getCurrentPerspective:function(){return this.perspective},setCurrentPerspective:function(e){this.perspective=e},addHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addEventListener(t,e[t])},removeHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.removeEventListener(t,e[t])},processConfig:function(){try{var e=this.getPreference("config");if(e){var t=JSON.parse(e);b$.mixin(this,t)}}catch(e){console.log("Error parsing config: "+e)}},persistConfig:function(){try{var e=this.getPreference("config"),t=JSON.parse(e);for(var a in t)t[a]!==this[a]&&(t[a]=this[a]);e=JSON.stringify(t),this.setPreference("config",e),this.model.save()}catch(e){console.log("Error persisting config: "+e)}},addToConfig:function(e,t){try{var a=this.getPreference("config"),n=JSON.parse(a);n[e]=t,a=JSON.stringify(n),this.setPreference("config",a),this.model.save()}catch(e){console.log("Error adding preference to config: "+e)}},removeFromConfig:function(e){try{var t=this.getPreference("config"),a=JSON.parse(t);delete a[e],t=JSON.stringify(a),this.setPreference("config",t),this.model.save()}catch(e){console.log("Error removing preference from config: "+e)}}}));this.portalViewElement=b;var d=b$.view.bdom.layout,t=i.registerElement("application",b.extend(function(){b.apply(this,arguments),this.layout=new d.NoLayout(this)},{doTemplate:function(){},buildHTML:function(e){return e},readyHTML:function(){},insertDisplayChild:function(){},showDesignTools:function(){},hideDesignTools:function(){}})),v=i.registerElement("portal",b.extend(function(){b.apply(this,arguments),this.perspective=this.createPerspective(new s("Dashboard"),new p),this.addEventListener("PerspectiveModified",function(e){this.setCurrentPerspective(this.createPerspective(new s(e.newValue),new p))},!1,this)},{doTemplate:function(){return"<div class=\""+this.cls+" "+this.cls+"--area\"></div>"},injectDisplaySelf:function(){},insertDisplayChild:function(e){e.model&&e.model._ssr||b$._private.ssrRootElement.appendChild(e.htmlNode)},attachHTMLChildren:function(){for(var e=this.childNodes,t=0,a;t<e.length;t++)a=e[t].getHTMLNode(),a.parentNode&&1==a.parentNode.nodeType||document.body.appendChild(a)},showDesignTools:function(){},hideDesignTools:function(){}})),a=i.registerElement("page",b.extend(function(){b.apply(this,arguments),this.layout=new d.NoLayout(this),this.isPossibleDragTarget=!0},{pageType:void 0,doTemplate:function(){return"<div class=\""+this.cls+"\"><div class=\""+this.cls+"--area\"></div></div>"},buildDisplay:function(e){if(!this.htmlNode){this.htmlNode=this.buildHTML(e);var t=this.getDisplay("area",!0);return t.length||(t=m.findCaptureClass("bp-area",this.htmlNode)),void(this.htmlAreas=t)}if(!this.htmlAreas){this.htmlAreas=[];var a=m.findCaptureClass("bp-area",this.htmlNode);a[0]&&(m.addClass(a[0],"--area"),this.htmlAreas.push(a[0]))}this.pageType=this.model.manageable?"master":""==this.model.extendedItemName?"normal":"inherited"},readyHTML:function(){b.prototype.readyHTML.call(this)},showDesignTools:function(){},hideDesignTools:function(){}})),n=i.registerElement("dragIndicator",b.extend(function(){b.apply(this,arguments),this.layout=new d.AutoLayout(this),this.isPossibleDragTarget=!1,this.flex=1,this.area=0,this.order=0},{setHTMLWidthHeight:function(e,t){var a=this.htmlNode;m.setWidthHeightPB(a,e,t),m.setWidthHeightPB(a.firstChild,e-m.getPadding(a)-m.getBorder(a),t-m.getPadding(a,"tb")-m.getBorder(a,"tb"))},buildHTML:function(e){return e||(e=document.createElement("div"),e.className="bp-drag-indicator",e.innerHTML="<div class=\"bp-drag-indicator-in\"><span class=\"bp-drag-text\"></span></div>"),e},getAreaPreference:function(){return this.area},getOrderPreference:function(){return this.order},setAreaPreference:function(e){this.area=e},setOrderPreference:function(e){this.order=e}}))}),b$.module("b$.portal.view.bdom.container",function(){var t=Math.round,n=b$.Class,r=b$._private.htmlAPI,e=b$.bdom.getNamespace("http://backbase.com/2012/portalView"),o=e.getClass("portalViewElement"),d=b$.view.preferences,i=b$.view.bdom.layout,l=e.registerElement("container",o.extend(function(){o.apply(this,arguments),this.layout=new i.NoLayout(this)},{buildHTML:function(e){var t=document;if(!e){var a=this.getContainerTemplate();e||(e=r.createElementFromString(a,t))}return e},getContainerTemplate:function(){return"<div class=\"bp-container\"><div class=\"bp-container-pref\"></div><div class=\"bp-area\"></div></div>"},appendPreferencesForm:function(e,t){var a=d.showPreferencesPane(document,t),n=r.cssSelector(".bp-container-pref",e)},constrainProportions:function(e,a){var r=0,o,i,d;for(d=e.concat(Array(a)).splice(0,a),i=0;i<a;i++)d[i]=t(100*(d[i]||0))/100,r+=d[i];if(0===r)for(i=0;i<a;i++)d[i]=t(100*(100/a))/100;else if(100!==r)for(o=r/100,i=0;i<a;i++)d[i]/=o;return d}}))}),b$.module("b$.portal.view.bdom.widget",function(){var t=function(){return this}(),n=b$.view.perspective.PerspectiveType,e=b$.view.perspective.PerspectiveParameters,a=b$.view.perspective.Perspective,r=b$._private.template.SimpleURITemplate,i=b$._private.htmlAPI,o=b$._private.simpleResponseCache_getData,l=b$.bdom.getNamespace("http://backbase.com/2012/portalView"),d=l.getClass("portalViewElement"),s=l.registerElement("widget",d.extend(function(){d.apply(this,arguments),this.id="none",this.flex=1},{buildHTML:function(e){var t=document;return e||(e=b$.portal.view.loadChrome(this,t)),this.bindChromeHandlers(),this.htmlAreas=[],this.htmlAreas[0]=i.cssSelector(".bp-widget-body",e)[0],e},setHTMLWidthHeight:function(e,t){var a=this.htmlNode;e!==void 0&&i.setWidth(a,e),t!==void 0&&(i.setHeight(a,t),i.setHeightPB(this.htmlAreas[0],t-this.htmlHead.offsetHeight-this.htmlFoot.offsetHeight))},readyHTML:function(){var e=this;this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers),this.id=this.model.name,e.model&&(e.model.addEventListener("PrefModified",function(t){if(t.target===e.model){var a=t.relatedNode;if(a){var n=this.ownerDocument.createEvent("UIEvent");n.initUIEvent("change",!0,!1,window,null),a.dispatchEvent(n,!1)}}},!1,e),e.model.addEventListener("PrefFallback",function(t){t.target===e.model&&e.refreshHTML()},!1,e),this.addEventListener("PerspectiveModified",function(e){if(e.target.model===this.model&&("Maximized"===e.newValue||"Widget"===e.newValue)){var t=this.ownerDocument.createEvent("MutationEvent");t.initMutationEvent("Maximized"===e.newValue?"maximize":"restore",!0,!1,this,null,null,null,null),this.model.dispatchEvent(t,!0)}},!1,this))},bindChromeHandlers:function(){var e=this;i.bindEvent(this.htmlNode,"click",function(t){for(var a=t.target,o=i.cssSelector(".bp-widget-pref",this)[0],d;;){if(d=a.getAttribute("data-action"),d)switch(d){case"widget-preferences":e.dispatchCustomEvent("preferences-form",!0,!0,{context:e});break;case"widget-maximize":e.setPerspective("Maximized");break;break;case"widget-restore":e.setPerspective("Widget"),a.setAttribute("data-action","widget-minimize");break;case"widget-minimize":e.setPerspective("Minimized"),a.setAttribute("data-action","widget-restore");break;case"widget-refresh":e.refreshHTML();break;case"widget-close":e.model.destroyAndSave();break;case"pref-ok":for(var s=i.cssSelector("form",o)[0],n=0,c;n<s.elements.length;n++)c=s.elements[n],"text"===c.type?c.value!==e.model.getPreference(c.name)&&(console.log(c.name,c.value),e.model.setPreference(c.name,c.value)):"checkbox"===c.type&&c.checked!==e.model.getPreference(c.name)&&(console.log(c.name,c.checked),e.model.setPreference(c.name,c.checked));e.model.save(),o.style.display="none";break;case"pref-cancel":o.style.display="none";}if(a==t.currentTarget)break;if(a=a.parentNode,!a)break}})},setTitle:function(e){this.model.setPreference("title",e),this.model.save()},getDefinition:function(){return{}},setPerspective:function(t){if(t!==this.perspective.getType().getName()){this.perspective=new a(new r(this.getDefinition().sUrl||this.sSrc,"page"),new n(t),new e());var o=this.ownerDocument.createEvent("MutationEvent");o.initMutationEvent("PerspectiveModified",!0,!1,this,this.perspective,t,null,null),this.dispatchEvent(o)}},getContextVariableValue:function(e){var t=this.perspective.getParameters().getByName(e);return t&&t.getValue()||""}}));this.Widget=s,defaultChrome="<div class=\"bp-widget Xbp-ui-dragRoot Xbp-ui-dragGrip\"><div class=\"bp-widget-head\"></div><div class=\"bp-widget-pref\"></div><div class=\"bp-widget-body\"></div><div class=\"bp-widget-foot\"></div></div>";var i=b$._private.htmlAPI;b$.portal.view.loadChrome=function(e,t){var a={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},r=e.model,d={};r&&(d=r.getJSON());var c=e.getAttribute("widgetChrome");if(c){c=c.replace("$(contextRoot)",b$.portal.portalModel.serverURL),d.widgetTitle=e.getAttribute("title");var m=o(c)}else var m=defaultChrome;if(r){var u=a[r.securityProfile];d.showEdit=u>=a.CONTRIBUTOR,d.showDelete=u>=a.CREATOR,d.enableDND=u>=a.CONTRIBUTOR,d.showMaximize=!0}var l=i.createElementFromString(Mustache.to_html(m,d),t);return l}}),b$.module("b$.portal.view.bdom.widget.backbase",function(){var t=b$.bdom.getNamespace("http://backbase.com/2012/portalView"),n=t.getClass("widget"),r=b$.view.perspective.PerspectiveType,e=b$.view.perspective.PerspectiveParameters,a=b$.view.perspective.Perspective,d=b$._private.template.SimpleURITemplate,i=b$._private.htmlAPI,o=new b$._private.AsyncComponentBuilder,l=t.registerElement("backbaseWidget",n.extend(function(){n.apply(this,arguments)},{buildHTML:function(e){var t=document;return e?this.htmlNode=e:e=b$.portal.view.loadChrome(this,t),this.bindChromeHandlers(),this.htmlHead=i.cssSelector(".bp-widget-head",e)[0],this.htmlFoot=i.cssSelector(".bp-widget-foot",e)[0],this.htmlAreas=[],this.htmlAreas[0]=i.cssSelector(".bp-widget-body",e)[0],this.body=this.htmlAreas[0],this.isClientSideRenderedOnly=!(this.body&&this.body.firstChild),this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly?this.buildWidgetByDefinition():this.buildWidget(),e},readyHTML:function(){n.prototype.readyHTML.call(this)},updateByDefinition:function(e){o.buildWidget(this.myDefinition.sUrl,!0,this,function(t){if(this.processed)return void(e&&e());this.myDefinition=t,this.includes=t.getIncludesFromDefinition(this),t.getPreferencesFromDefinition(this),this.isClientSideRenderedOnly&&this.body.appendChild(t.getHTMLBodyFromDefinition());var a=this.body,n=i.cssSelector(".bp-g-include",a);if(n.length)for(var r=0,o;r<this.includes.length;r++)o=this.includes[r],o.htmlNode=n[r],o.addEventListener("content",function(){this.htmlNode.innerHTML="";for(var e=0;e<this.content.length;e++)this.htmlNode.appendChild(this.content[e])});this.processed=!0,this.isClientSideRenderedOnly&&this.refreshIncludes(),e&&e()}.bind(this))},buildWidget:function(t){var i=this.getAttribute("src");i=i.replace("$(contextRoot)",b$.portal.portalModel.serverURL);var n=this,s=this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly;o.buildWidget(i,s,n,function(l){var s=l.XListeners;if(this.myDefinition=l,this.model)for(var n in s)s.hasOwnProperty(n)&&this.model.addEventListener(n,s[n],!1,this);this.perspective=new a(new d(i,"page"),new r("Dashboard"),new e()),s.load&&s.load.call(this),t&&t()}.bind(this))},buildWidgetByDefinition:function(){this.buildWidget(this.updateByDefinition.bind(this))},refreshIncludes:function(){for(var e=0,t=this.includes.length;e<t;e++)this.includes[e].refresh()},getOriginURI:function(){return this.getDefinition().sUrl},getDefinition:function(){return this.myDefinition},getBody:function(){return this},getIncludes:function(){return this.includes}},{handlers:{}}))}),b$.module("b$.portal.view.bdom.widget.w3c",function(){var t=b$.bdom.getNamespace("http://backbase.com/2012/portalView"),n=t.getClass("widget"),e=b$._private.htmlAPI,r=b$.view.perspective.PerspectiveType,o=b$.view.perspective.PerspectiveParameters,a=b$.view.perspective.Perspective,d=b$._private.template.SimpleURITemplate,i=t.registerElement("w3cWidget",n.extend(function(){n.apply(this,arguments)},{buildHTML:function(t){if(t){var n=e.cssSelector(".bp-widget-body > iframe",t)[0],s=this.getAttribute("src");s||(s=this.getAttribute("defaultStartFile")),s=s.replace("$(contextRoot)",b$.portal.portalModel.serverURL),n.setAttribute("src",s),this.bindChromeHandlers(),this.htmlAreas=[],this.htmlAreas[0]=e.cssSelector(".bp-widget-body",t)[0],this.body=this.htmlAreas[0],this.htmlHead=e.cssSelector(".bp-widget-head",t)[0],this.htmlFoot=e.cssSelector(".bp-widget-foot",t)[0]}else{var p=document,t=b$.portal.view.loadChrome(this,p);this.htmlAreas=[],this.htmlAreas[0]=e.cssSelector(".bp-widget-body",t)[0],this.body=this.htmlAreas[0];var s=this.getAttribute("src");s||(s=this.getAttribute("defaultStartFile")),s=s.replace("$(contextRoot)",b$.portal.portalModel.serverURL);var c=this.model.name,n=e.createElementFromString("<iframe style=\"width:100%; height:100%;\" frameborder=\"0\"></iframe>",p);n.setAttribute("src",s),n.setAttribute("data-widgetInstanceId",c),this.htmlAreas[0].appendChild(n)}return this.perspective=new a(new d(s,"page"),new r("Dashboard"),new o()),this.sSrc=s,t}}))}),b$.module("gadgets.config",function(){this.proxyUrl="/proxy",this.register=function(){}}),b$.module("gadgets.json",function(){var e=JSON.stringify;this.stringify=e,this.parse=function(e){sTtext=e.replace(/\\x(..)/g,"\\u00$1");try{e=JSON.parse(e)}catch(t){throw t.message+=". Source: "+e,t}return e}}),b$.module("gadgets.io",function(){function t(e){var t=[],a="";for(var n in e)if(e.hasOwnProperty(n))if(a=e[n],"object"==typeof a&&a.length)for(var r=0;r<a.length;r++)t.push(encodeURIComponent(n)+"="+encodeURIComponent(a[r]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.join("&")}var n=b$.Class,r=gadgets.config,i=gadgets.json,d={};d.METHOD="method",d.CONTENT_TYPE="type",d.POST_DATA="data",d.HEADERS="headers",d.AUTHORIZATION="authorization",d.NUM_ENTRIES="NUM_ENTRIES",d.GET_SUMMARIES="GET_SUMMARIES",d.TIMEOUT="timeout";var l={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD"},s={};s.TEXT="text",s.DOM="xml",s.JSON="json",s.FEED="feed";var e={};e.REFRESH_INTERVAL="refresh",e.BACKBASE_PTC_PIPE="pipe";var c=n.extend(function(e,t,a,o,d){this.text=t,this.data=null,this.errors=[],this.status=a,this.headers={};for(var l=0,p;l<d.length;l++)p=d[l].replace(/^\s*|\s*$/g,"").split(": "),1<p.length&&(this.headers[p.shift()]=p.join(": "));if(200<=a&&300>a||304==a||1223==a)switch(e){case s.DOM:this.data=new DOMParser().parseFromString(t,"application/xml");break;case s.JSON:try{this.data=i.parse(t)}catch(e){this.errors.push(e.message||e)}break;case s.FEED:this.errors.push("Not implemented");break;case s.TEXT:default:this.data=t;}else 0==a?this.errors.push("No connection to server"):(this.errors.push("HTTP error:"+a),o&&this.errors.push(o))},{getHeader:function(e){for(var t in e=(e+"").toLowerCase(),this.headers)if(this.headers.hasOwnProperty(t)&&t.toLowerCase()==e)return this.headers[t];return null}});this.encodeValues=t,this.getProxyUrl=function(e,a){return a=a||{},a.url=e||a.url,r.proxyUrl+(-1==r.proxyUrl.indexOf("?")?"?":"&")+t(a)},this.makeRequest=function(e,a,i){i=i||{};var s=i[d.HEADERS]||{},m=i[d.POST_DATA]||null,n=+i[d.TIMEOUT]||3e4,u=b$.require("b$.utils.xsrf");i[d.METHOD]===l.POST&&!s["Content-Type"]&&m&&(s["Content-Type"]="application/x-www-form-urlencoded");var t=new XMLHttpRequest;for(var p in t.open(i[d.METHOD]||l.GET,e,!0),s)s.hasOwnProperty(p)&&t.setRequestHeader(p,s[p]);return n&&(n=setTimeout(function(){t.abort()},n)),u.isMethodUnsafe(i[d.METHOD])&&t.setRequestHeader(u.getXSRFRequestHeaderName(),u.getXSRFCookie()),t.onreadystatechange=function(){if(2==t.readyState)t._headersReceived=!0;else if(4==t.readyState&&(n&&clearTimeout(n),a)){window.opera&&!t.status&&(t.status=204,t.statusText="No Content");var e=new c(i[d.CONTENT_TYPE],t.responseText,t.status,t.statusText,t._headersReceived?(t.getAllResponseHeaders()+"").split("\n"):[]);a(e)}},t.send(m),t},this.RequestParameters=d,this.MethodType=l,this.ContentType=s,this.AuthorizationType={NONE:"NONE",SIGNED:"SIGNED",OAUTH:"OAUTH"},this.ProxyUrlRequestParameters=e}),b$.module("gadgets.pubsub",function(){var t=b$._private.types.STRING,n=b$._private.types.FUNCTION,r=b$.Class,a=r.extend(function(){this.callbacks=[]},{subscribe:function(e){this.callbacks.push(e)},unsubscribe:function(e){this.callbacks=e?this.callbacks.filter(function(t){return t!=e}):[]},publish:function(e){this.callbacks.forEach(function(t){t(e)})}}),o=r.extend(function(){this.channels={}},{subscribe:function(e,t){this.channels[e]||(this.channels[e]=new a),this.channels[e].subscribe(t)},unsubscribe:function(e,t){this.channels[e]&&this.channels[e].unsubscribe(t)},publish:function(e,t){this.channels[e]&&this.channels[e].publish(t)}}),i=new o;this.publish=function(e,t){i.publish(e,t)},this.subscribe=function(e,t){i.subscribe(e,t)},this.unsubscribe=function(e,t){i.unsubscribe(e,t)}}),b$.module("gadgets.util",function(){function t(e){if(r&&void 0===e)return r;var t=new a(e||document.location.href),n={};return(t.getQuery()||"").split("&").concat((t.getFragment()||"").split("&")).forEach(function(e){var t=e.split("=");2==t.length&&(n[t[0]]=decodeURIComponent(t[1].replace(/\+/g," ")))}),n}var a=b$._private.uri.URI,n={0:!1,10:!0,13:!0,34:!0,39:!0,60:!0,62:!0,92:!0,8232:!0,8233:!0},r=t();this.getUrlParameters=t,this.escapeString=function(e){return e&&e.replace(/[\s\S]/mg,function(e){var t=e.charCodeAt(0),a=n[t];if(!0===a)return"&#"+t+";";return!1===a?void 0:e})},this.unescapeString=function(e){return e&&e.replace(/&#([0-9]+);/g,function(e,t){return String.fromCharCode(t)})}}),window.bp=window.bp||{},bp.api={},bp.api.getCurrentPortal=function(){return{name:b$.portal.portalName}},bp.api.getCurrentPage=function(){return{name:b$.portal.pageName}},new function(){function e(e,t){for(var a=0,n=e.preferences.array.length,r;a<n;a++)r=e.preferences.array[a],t.setAttribute(r.name,r.value)}function t(e){var t=window,a=e.split(".");if(1==a.length&&""==a[0])return t;for(var n=0;n<a.length;n++)if(a[n]in t)t=t[a[n]];else{var r=new Error("Cannot find object \""+e+"\".");if(r.stack){var o=r.stack&&r.stack.split("\n")[2],d=o&&o.match(/^[^@]*@(.*):(\d+)$/);d&&d[1]&&d[2]&&(r=new Error(r.message,d[1],+d[2]))}throw r}return t}var a=b$.bdom.util.DOMReflector,n=b$.bdom.util.RFL_DOM2Control,r=n.extend(null,{ns:"http://backbase.com/2012/portalView",localName:"baseElement",getNS:function(e){var t=this.getLocalName(e);if(b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[t])return"http://backbase.com/2013/portalView";return b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[t]?"http://backbase.com/2012/portalView":this.ns},initInstance:function(e,t){e.model=t}}),o=r.extend(null,{getNS:function(e){if("container"==this.localName.toLowerCase())var t=e.originalItem.preferences.TemplateName.value;if("page"==this.localName.toLowerCase())var t=this.getLocalName(e);if(e.getAttribute("viewNamespace"))return e.getAttribute("viewNamespace");return b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[t]?"http://backbase.com/2013/portalView":b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[t]?"http://backbase.com/2012/portalView":this.ns},getLocalName:function(e){var t=this.localName,a=e.originalItem.preferences.TemplateName;return e.getAttribute("viewNamespace")?t=a.value:a&&b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[a.value]?t=a.value:a&&b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[a.value]&&(t=a.value),t},initInstance:function(t,a){t.model=a,d(a,t),e(a,t)}}),i=r.extend(null,{localName:"widget",getLocalName:function(e){var t="widget",a=e.originalItem.preferences.TemplateName;return a&&("Standard_Widget"==a.value?t="backbaseWidget":"W3C_Widget"==a.value&&(t="w3cWidget")),t},initInstance:function(t,a){t.model=a,d(a,t),e(a,t)}}),d=function(e,a){for(var n=e.getPreference("behaviors")||"",r=n.split(" "),o=0,d=r.length;o<d;o++)try{var l=t(r[o]);if(l&&l.behaviors)for(var s in l.behaviors)l.behaviors.hasOwnProperty(s)&&a.addEventListener(s,l.behaviors[s])}catch(e){top.bd&&top.bd.devMode&&console.log("Unable to attach behavior "+r[o]+": "+e.message)}};var l=new a;l.getID=function(e){return"VIEW-"+e._jxid},l.addToSet("default",[new i({match:"Widget",localName:"widget"}),new o({match:"Container",localName:"container"}),new o({match:"Link",localName:"link"}),new o({match:"Page",localName:"page"}),new r({match:"Catalog",localName:"catalog"}),new r({match:"Portal",localName:"portal"}),new r({match:"Application",localName:"application"})]),b$.portal.portalReflector=l,b$.portal.setController("portal",l)},new function(){var e=b$.bdom.util.DOMReflector,t=b$.bdom.util.RFL_DOM2Control,a=t.extend(null,{xns:"http://www.w3.org/1999/xhtml",ns:"http://backbase.com/2012/view",localName:"input",doMatch:function(e){if(!this.match)return!0;var t=e.inputType.name;if(e.viewHint)for(var a=e.viewHint.split(/,/),n=0;n<a.length;n++)if(a[n]==this.match)return!0;return t==this.match},initInstance:function(e,t){e.model=t,e.ctrl=this,e.setAttribute("type",this.type),e.setAttribute("name",t.name),e.setAttribute("value",t.value),("checkbox"==this.type||"radio"==this.type)&&"true"==t.value&&e.setAttribute("checked",t.value),t.addEventListener("change",function(){}),e.addEventListener("change",function(e){t.setValue(e.target.getDisplay("input").value)}),t.addEventListener("DOMNodeRemovedFromDocument",function(){})},defaultRead:function(){return This.getDisplay("input").value},defaultUpdate:function(e){e.setAttribute("value",value)},defaultDelete:function(){}}),n=a.extend(null,{getInstance:function(e,t,a){t._newIDhack=a;for(var n=b$.bdom.namespaces[this.getNS()].getClass(this.getLocalName(e)),r=new n(t,this.getNS(),this.getLocalName(e)),o="radio"==this.localName,d=b$.bdom.namespaces[this.getNS()].getClass(o?"input":"option"),s=0,p=e.inputType.options.length;s<p;s++){var l=new d(t),c=e.inputType.options[s].value;if(l.setAttribute("value",c),o&&(l.setAttribute("type","radio"),l.setAttribute("label",e.inputType.options[s].label)),c==e.value&&(o?l.setAttribute("checked","checked"):l.setAttribute("selected","true")),!o){var m=t.createTextNode(e.inputType.options[s].label);l.appendChild(m)}r.appendChild(l)}return r}}),r=new e;r.addToSet("default",[new a({match:"text",type:"text",render:!0,getValue:function(e){return e.getDisplay("input").value}}),new a({match:"textarea",localName:"textarea",render:!0,getValue:function(e){return e.htmlNode.value}}),new a({match:"password",type:"password",render:!0,getValue:function(e){return e.getDisplay("input").value}}),new n({match:"radio",localName:"radio",render:!0,getValue:function(e){for(var t=e.getDisplay("radio-group").getElementsByTagName("input"),a=t.length;a--;)if(t[a].checked)return t[a].value}}),new a({match:"checkbox",localName:"switch",render:!0,getValue:function(e){return e.getDisplay("input").checked}}),new a({match:"checkbox-multiple",type:"checkbox",render:!0,getValue:function(e){return e.getDisplay("input").checked}}),new n({match:"select-one",localName:"select",render:!0,getValue:function(e){return e.getDisplay("select").value}}),new a({match:"select-multiple",type:"select",render:!0,getValue:function(e){return e.htmlNode.value}}),new a({match:"",type:"text",render:!0,getValue:function(){return""}})]),b$.portal.setController("preferences",r)},new function(){var e=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),t=e.extend(null,{localName:"test",getDisplayModel:function(){return{}}},{template:function(){return"<b>hello</b>"}})},new function(){var e=Math.round,t=Math.min,a=Math.max,n=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),r=n.extend(null,{localName:"input",isValid:function(){},setModel:function(){},getDisplayModel:function(){var e=this.getAttribute("type")||"text",t=this.cnBase,a=this.cnBase+"-"+e,n=e;switch(e){case"hidden":case"password":case"checkbox":case"radio":case"file":case"submit":case"image":case"reset":case"button":break;default:n="text";}return{name:this.getAttribute("name")||"",type:e,inputType:n,value:this.getAttribute("value")||"",label:this.getAttribute("label")||"",cnBase:t,cnType:a,parentNodeName:this.parentNode?this.parentNode.nodeName:"",style:this.getAttribute("style")||"",checked:this.getAttribute("checked")||"",required:this.getBoolAttribute("required")||"",disabled:this.getBoolAttribute("disabled")||"",readonly:this.getBoolAttribute("readonly")||"",valid:this.isValid(),rangeOffset:r.getRangeOffset(this,this.getAttribute("value")),spinner:!1,maxlength:!1}},setMyValue:function(e){var t=this.getDisplay("input"),a=t.value;t.value=e;var n=this.ownerDocument.createEvent("UIEvent");n.initUIEvent("change",!0,!1,window,null),this.dispatchEvent(n,!1)}},{template:function(e){var t=[];return t.push("<span class=\""+("radio"==e.parentNodeName?e.cnBase+"-"+e.parentNodeName:e.cnBase)+" "+e.cnType),e.checked&&t.push(" "+e.cnBase+"--checked"),e.required&&t.push(" "+e.cnBase+"_required"),e.disabled&&t.push(" "+e.cnBase+"_disabled"),e.readonly&&t.push(" "+e.cnBase+"_readonly"),e.valid&&t.push(" "+e.cnBase+"_valid"),t.push("\""),e.style&&t.push(" style=\""+e.style+"\""),t.push(">"),e.label&&t.push("<label class=\""+e.cnBase+"--label "+e.cnType+"--label\">"),t.push("<div class=\""+e.cnBase+"--field "+e.cnType+"--field\"><div class=\""+e.cnBase+"--button "+e.cnType+"--button\" style=\""+("range"==e.type?"left:"+e.rangeOffset:"right:0")+"\">"),t.push("</div><input class=\""+e.cnBase+"--input "+e.cnType+"--input"),("text"==e.inputType||"password"==e.inputType)&&t.push(" bc-roundcorner-3"),(t.push("\" type=\""+e.inputType+"\""),t.push(" onchange=\"var elm=b$.getVC(this).setMyValue(this.value);\""),("checkbox"==e.inputType||"radio"==e.inputType)&&t.push(" style=\"display:none\""),e.checked&&t.push(" checked=\"checked\""),e.disabled&&t.push(" disabled=\"true\""),e.readonly&&t.push(" readonly=\"true\""),e.maxlength&&t.push(" maxlength=\""+e.maxlength+"\""),t.push(" name=\""+e.name+"\" value=\""+e.value+"\" />"),t.push("<div class=\""+e.cnBase+"--popup\" style=\"position:absolute;display:none\"></div>"),t.push("</div>"),e.label&&t.push(e.label+"</label>"),t.push("</span>"),t.join(""))},handlers:{DOMAttrModified:function(e){var t=e.attrName,a=e.newValue;if(this.htmlNode){var n=this.getAttribute("type")||"text",r=this.cnBase;"type"==t||"checked"==t&&(null!=a&&""!=a?(this.getDisplay("input").setAttribute("checked","checked"),this.getDisplay("input").checked=!0,b$(this.htmlNode).addClass(r+"--checked")):(this.getDisplay("input").removeAttribute("checked"),this.getDisplay("input").checked=!1,b$(this.htmlNode).removeClass(r+"--checked")))}},DOMActivate:function(e){if(e.target==this)switch(this.getAttribute("type")){case"file":case"color":case"date":case"datetime":case"datetime-local":case"month":case"week":break;case"checkbox":this.getAttribute("checked")?this.removeAttribute("checked"):this.setAttribute("checked","checked");break;case"radio":for(var t=this.getAttribute("name"),a=this.parentNode,n=0,r;n<a.childNodes.length;n++)(r=a.childNodes[n])&&"radio"==r.getAttribute("type")&&r.getAttribute("name")==t&&r.getAttribute("checked")&&r!==this&&r.removeAttribute("checked");this.setAttribute("checked","checked");}},click:function(e){if(e.target==this){var t=this.getDisplayEventTarget(e.htmlTarget);if(t==this.getDisplay("button"))switch(this.getAttribute("type")){case"file":case"date":case"color":case"datetime":case"datetime-local":case"month":case"week":this.domActivate();}else switch(this.getAttribute("type")){case"radio":case"checkbox":this.domActivate();}}},mousedown:function(e){if(e.target==this)switch(this.getAttribute("type")){case"range":if(this.getDisplayEventTarget(e.htmlTarget)!=this.getDisplay("button"))break;e.preventDefault();case"reset":case"submit":case"button":this.$captured=!0,b$.ua.setMouseTrap(this);var t=this.cnBase;b$(this.htmlNode).addClass(t+"_active");}},mouseup:function(e){if(e.target==this)switch(this.getAttribute("type")){case"reset":case"submit":case"button":case"range":if(console.log("YESHJ"),this.$captured){this.$captured=!1,b$.ua.releaseMouseTrap(this);var t=this.cnBase;b$(this.htmlNode).removeClass(t+"_active"),"range"==this.getAttribute("type")&&this.setAttribute("value",this.valueAsNumber)}}},DOMNodeInsertedIntoDocument:function(e){e.target==this},mousemove:function(n){if(n.target==this)switch(this.getAttribute("type")){case"range":if(this.$captured){var o=b$.ua.getBoundingClientRect(this.getDisplay("field")),i=a(o.left,t(n.clientX,o.right)),d=(i-o.left)/(o.right-o.left),l=parseFloat(this.getAttribute("step"))||1,s=parseFloat(this.getAttribute("min")),p=parseFloat(this.getAttribute("max"));isNaN(s)&&(s=0),isNaN(p)&&(p=100),p<s&&(p=s),this.valueAsNumber=e(l*(s+(p-s)*d))/l,this.getDisplay("button").style.left=r.getRangeOffset(this,this.valueAsNumber)}}}},getRangeOffset:function(e,n){var r=parseFloat(e.getAttribute("max")),o=parseFloat(e.getAttribute("min"));return isNaN(o)&&(o=0),isNaN(r)&&(r=100),r<o&&(r=o),100*(a(o,t(r,n))-o)/(r-o)+"%"}}),o=n.extend(function(){n.apply(this,arguments)},{localName:"radio",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}}},{template:function(e){return"<span class=\""+e.cnBase+" "+e.cnBase+"--radio-group\"></span>"}})},new function(){var e=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),t=e.extend(function(){e.apply(this,arguments),this.selectedIndex=0,this.options=new b$.bdom.NodeList},{localName:"select",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},DOMReady:function(){this.setSelectedIndex(this.selectedIndex)},setSelectedIndex:function(e){if(!this.htmlNode)this.selectedIndex=e;else{if(null!=this.selectedIndex&&this.options[this.selectedIndex]&&b$(this.options[this.selectedIndex].htmlNode).removeClass("bc-option-selected"),this.options[e]){this.selectedIndex=e;var t=this.options[e].getTextContent();this.getDisplay("label").innerHTML=t;var n=this.options[e],r=n.getAttribute("value");n.hasAttribute("value")||(r=t),this.getDisplay("select").value=r,b$(n.htmlNode).addClass("bc-option-selected")}a.ensureRowIsVisible(this.options[e])}},addOption:function(e){return this.appendChild(e)},removeOption:function(e){return this.removeChild(this.options[e])},toggle:function(){t.toggle(this)}},{template:function(e){var t=["<div class=\""+e.cnBase+"\">","<input class=\""+e.cnBase+"--select\" name=\""+e.name+"\" />","<ul class=\""+e.cnBase+"--list "+e.cnBasePrefix+"gradient-grey "+e.cnBasePrefix+"roundcorner-5\">","<li class=\""+e.cnBase+"--label\">"+e.value+"</li>","<li class=\""+e.cnBasePrefix+"dd-arrow\"><span class=\""+e.cnBase+"--button "+e.cnBasePrefix+"icn "+e.cnBasePrefix+"triangle\"></span></li>","</ul>","<div class=\""+e.cnBase+"--dropdown bc-roundcorner-8 bc-shadow --area\" style=\"display:none\"></div>","</div>"];return t.join("")},handlers:{mousedown:function(e){return e.htmlTarget.className&&-1==e.htmlTarget.className.indexOf("--dropdown")&&t.toggle(this),e.target instanceof a&&this.options[this.selectedIndex]!=e.target&&this.setSelectedIndex(this.options.indexOf(e.target)),!1},keydown:function(e){switch(e.keyIdentifier){case"U+000D":t.toggle(this);break;case"U+0028":var a=this.selectedIndex<this.options.length-1?this.selectedIndex+1:0;this.setSelectedIndex(a),e.preventDefault();break;case"U+0026":var a=0<this.selectedIndex?this.selectedIndex-1:this.options.length-1;this.setSelectedIndex(a),e.preventDefault();}}},toggle:function(e,t){var n=e.getDisplay("dropdown"),r=e.getDisplay("list"),o=e.parentNode&&e.parentNode.htmlBody?e.parentNode.htmlBody.parentNode:null,i=b$._private.htmlAPI,d;if(r){var l=n.style,s=i.getBoxObject(r).top-i.getBoxObject(o).top,d=0<=s-o.offsetHeight/2+r.offsetHeight/2,p=o.offsetHeight-s-r.offsetHeight;l.maxHeight=(d?s:p)-r.offsetHeight+"px"}1<arguments.length&&!0==t||!(1<arguments.length||"none"!=l.display)?(e.bOpen=!0,b$(e.htmlNode).addClass(e.cnBase+"-open").addClass(d?e.cnBase+"-up":""),l.display="",b$.ua.setMouseTrap(e),a.ensureRowIsVisible(e.options[e.selectedIndex])):(e.bOpen=!1,b$(e.htmlNode).removeClass(e.cnBase+"-open").removeClass(e.cnBase+"-up"),l.display="none",b$.ua.releaseMouseTrap(e))}}),a=e.extend(null,{localName:"option",getDisplayModel:function(){return{cnBase:this.cnBase,value:this.getAttribute("value")||""}}},{template:function(e){var t="<div class=\""+e.cnBase+" "+e.cnBase+"-ellipsis\"><span class=\""+e.cnBase+"-label --area\"></span></div>";return t},ensureRowIsVisible:function(e){for(var a=e;a&&(a=a.parentNode);)if(a instanceof t){var n=a.getDisplay("dropdown"),r=e.getDisplay(),o=r.offsetTop-n.offsetTop,i=r.offsetHeight-n.offsetHeight;n.scrollTop=r.offsetTop-3;break}},handlers:{DOMNodeInserted:function(){for(var e=this,a=0;(e=e.parentNode)&&!(e instanceof t);)a++;if(e){e.options.add(this),this.parentNode!=e&&(this.getDisplay("gap").style.width=a+"em");var n=this.getAttribute("selected");("true"==n||"selected"==n)&&e.setSelectedIndex(e.options.indexOf(this))}},DOMNodeRemoved:function(){for(var e=this;(e=e.parentNode)&&!(e instanceof t););e&&e.options.remove(this)},DOMAttrModified:function(e){if(e.target==this){var t=e.attrName,a=e.newValue;if(this.htmlNode)if("selected"==t){var n=this.prefix+"option";null!=a&&"false"!=a?b$(this.htmlNode).addClass(n+"_selected"):b$(this.htmlNode).removeClass(n+"_selected")}else"label"==t&&(this.getDisplay("gateway").innerHTML=a||"")}},mouseenter:function(e){e.target==this&&b$(this.htmlNode).addClass("_hover")},mouseleave:function(e){e.target==this&&b$(this.htmlNode).removeClass("_hover")}}}),n=e.extend(function(){e.apply(this,arguments),this.cls=(this.prefix?this.prefix+"-":"")+this.localName},{localName:"optgroup",getDisplayModel:function(){return{sClassName:this.prefix+"select"}}},{template:function(){return"<div class=\""+this.cls+(this.disabled?" "+this.cls+"_disabled":"")+"\">\t\t\t\t\t\t<div class=\""+this.cls+"--gap\" style=\"height:1em;float:left\"></div>\t\t\t\t\t\t<div class=\""+this.cls+"--value\">"+(this.label||"")+"</div>\t\t\t\t\t\t<div class=\""+this.cls+"--area\">\t\t\t\t\t\t</div>\t\t\t\t\t</div>"},handlers:{mouseover:function(e){e.target==this&&this.$setPseudoClass("hover",!0,"value")},mouseout:function(e){e.target==this&&this.$setPseudoClass("hover",!1,"value")},DOMNodeInsertedIntoDocument:function(){for(var e=this,a=0;(e=e.parentNode)&&!(e instanceof t);)a++;e&&this.parentNode!=e&&(this.getDisplay("gap").style.width=a+"em")}}})},function(){var e=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),t=e.extend(function(){e.apply(this,arguments),this.selectedIndex=0},{localName:"switch",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},toggle:function(){var e=b$(this.htmlNode),t=b$(this.getDisplay("."+this.cnBasePrefix+"label"));input=this.getDisplay("input"),e.toggleClass(this.cnBase+"--checked"),t.toggleClass(this.cnBasePrefix+"toggle-checked"),input.setAttribute("value","true"==input.getAttribute("value")?"false":"true"),input.getAttribute("checked")?input.removeAttribute("checked"):input.setAttribute("checked","true"),this.setAttribute("value","true"==this.getAttribute("value")?"false":"true")}},{template:function(e){var t=[],a="true"==e.value;return t.push("<span class=\""+e.cnBase+" "+(a?e.cnBase+"--checked":"")+"\">"),t.push("<div class=\""+e.cnBase+" "+e.cnBasePrefix+"toggle-switch\">"),t.push("<input type=\"checkbox\" class=\""+e.cnBase+"--input "+e.cnBasePrefix+"toggle-switch\""),t.push(" name=\""+(e.name||"")+"\" value=\""+e.value+"\""+(a?" checked=\"checked\"":"")+">"),t.push("<div class=\""+e.cnBasePrefix+"label"+(a?" "+e.cnBasePrefix+"toggle-checked":"")+"\" data-on=\"YES\" data-off=\"NO\">"),t.push("</div></div></span>"),t.join("")},handlers:{click:function(e){e.target==this&&this.toggle()},keydown:function(e){e.target==this&&("U+000D"==e.keyIdentifier||"U+0027"==e.keyIdentifier||"U+0025"==e.keyIdentifier||"U+0020"==e.keyIdentifier)&&(this.toggle(),e.preventDefault())}}})}(),b$.module("b$.view.bdom",function(){var e=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("DesignElement"),t=e.extend(null,{namespaceURI:"http://backbase.com/2013/view",localName:"ViewElement",getHTMLNode:function(){return this.getDisplay()}})}),b$.module("b$.portal.view.bdom.default",function(){var t=Math.abs;function e(e,t,a,n,r,o){return!!(e>=a&&e<=a+r&&t>=n&&t<=n+o)}var a=function(){return this}(),n=b$.bdom.Namespace,r=b$.view.bdom.Component,o=b$.bdom.getNamespace("http://backbase.com/2013/view").getClass("ViewElement"),i=b$.view.perspective.Perspective,d=b$.view.perspective.PerspectiveType,l=b$.view.perspective.PerspectiveParameters,s=b$._private.template.SimpleURITemplate,p=b$._private.htmlAPI,c=b$._private.xml,m=n.extend(function(e){n.call(this,e)},{}),u=new m("http://backbase.com/2013/portalView");this.NS=u;var g=function(e,t,a,n){this;b$.portal.portalServer.loadItemHTML(e.originalItem,function(n,r){var o=n.substring(0,n.indexOf("<body>"))+"</html>",i=n.substring(n.indexOf("<body>")+6,n.indexOf("<script type=\"text/backbase-xml")),d="";-1!==n.indexOf("<script type=\"text/backbase-xml\">")&&(d=n.substring(n.indexOf("<script type=\"text/backbase-xml\">")+33,n.indexOf("</script>",n.indexOf("<script type=\"text/backbase-xml\">")+33)));var l=c.parse(o);b$.portal._private.definition.getResourcesFromDefinition(l,"",function(){var t=p.createElementFromString(i),n=e.ownerDocument;e.destroy();var o=c.parse(d),l=b$.portal.importPortalModel(o,n,null,t);a&&a(l,r);var s=t.viewController;s.ownerDocument.documentElement.designMode&&s.enableDesignMode()},function(){var n=p.createElementFromString("<span>This part of the page can't be rendered </span>");n.viewController=t.viewController,t.appendChild(n);var r=c.parse(d),o=b$.portal.portalServer.itemXMLDOC2JSON(r);e.setItem(o),a&&a()})},n,!0)},h={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},f=o.extend(function(){o.apply(this,arguments),this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers)},{localName:"portalViewElement",namespaceURI:"http://backbase.com/2013/portalView",insertDisplayChild:function(e,t){if(!(e.model&&e.model._ssr)&&e.injectDisplaySelf(e,t)&&e.htmlNode){if(!e.getPreference){var a=this.getDisplay("area")||this.getDisplay();return void a.appendChild(e.htmlNode)}var n=this.getDisplay("area",!0)||this.getDisplay(),r=parseInt(e.getPreference("area"),10)||0,o=n[r]?r:n.length-1,d=parseInt(e.getPreference("order"),10)||0,l;if(n[o].childNodes.length)for(var s=n[o].childNodes.length-1;0<=s;s--)if(n[o].childNodes[s]!==e.htmlNode&&n[o].childNodes[s].viewController){var p=parseInt(n[o].childNodes[s].viewController.getPreference("order"),10);p>d&&(l=n[o].childNodes[s].viewController)}t&&t.htmlNode?t.htmlNode.parentNode.insertBefore(e.htmlNode,t.htmlNode):l?n[o].insertBefore(e.htmlNode,l.htmlNode):n[o].appendChild(e.htmlNode)}},dragIsTarget:function(){return this.isPossibleDragTarget},refreshHTML:function(e,t){var a=this.model.parentNode,n=this.ownerDocument;return void g(this.model,null,function(t,r){var o,i;a.appendChild(t),o=n.all[b$.portal.portalReflector.getID(a)],i=n.all[b$.portal.portalReflector.getID(t)],o.insertDisplayChild(i),e&&e(i,r)});var r=this},loadChildren:function(e,t){var a=[];if(this.model._children){e?a.push(e):a=this.model._children;for(var n=this,r=a.length-1,o;0<=r&&!b$.portal.portalModel.getElementById(a[r].name);r--)o=function(e){var a=e.substring(0,e.indexOf("<body>"))+"</html>",r=e.substring(e.indexOf("<body>")+6,e.indexOf("<script type=\"text/backbase-xml")),o="";-1!==e.indexOf("<script type=\"text/backbase-xml\">")&&(o=e.substring(e.indexOf("<script type=\"text/backbase-xml\">")+33,e.indexOf("</script>",e.indexOf("<script type=\"text/backbase-xml\">")+33)));var i=function(){var e=b$._private.htmlAPI.createElementFromString(r),a=b$._private.xml.parse(o),i=0,d=0,l=navigator.userAgent.toLowerCase();-1==l.indexOf("msie")&&9<parseInt(l.split("msie")[1])&&(i=b$._private.xml.textContent(b$.ua.querySelector(a,"property[name=area] value"))||0,d=b$._private.xml.textContent(b$.ua.querySelector(a,"property[name=order] value"))||0);for(var s=n.htmlAreas[i],p=!0,c=null,m=0;m<s.childNodes.length;m++)if(s.childNodes[m].getAttribute("data-pid")==e.getAttribute("data-pid")){p=!1;break}else s.childNodes[m].viewController?d<s.childNodes[m].viewController.getPreference("order")&&(c=s.childNodes[m]):c=s.childNodes[m];p&&(c?s.insertBefore(e,c):s.appendChild(e));b$.portal.importPortalModel(a,b$.portal.portalModel,n.model,e);t&&t(e.viewController)},d=b$._private.xml.parse(a);b$.portal._private.definition.getResourcesFromDefinition(d,"",i,null,!0)},b$.portal.portalServer.loadItemHTML(a[r],o,null,!0,-1,null)}},getPreference:function(e){return this.model?this.model.getPreference(e):this.getAttribute(e)},setPreference:function(e,t){return this.model.setPreference(e,t)},isPreference:function(e){var t=this.getPreference(e);return null!=t&&""!=t},getAreaPreference:function(){if(this.area===void 0){if(this.model){var e=parseInt(this.model.getPreference("area"),10);isNaN(e)&&(e=0)}else{var e=parseInt(this.getAttribute("area"),10);isNaN(e)&&(e=0)}return e}return this.area},getOrderPreference:function(){if(this.order===void 0){if(this.model){var e=parseInt(this.model.getPreference("order"),10);isNaN(e)&&(e=0)}else{var e=parseInt(this.getAttribute("order"),10);isNaN(e)&&(e=0)}return e}return this.order},m_dragEnter:function(e){var t=h[this.model.securityProfile];if(t<h.CONTRIBUTOR)return!1;var a=e.clientX,n=e.clientY;this.appendChild(this.ownerDocument.dragIndicator)},m_dragOut:function(e){var t=h[this.model.securityProfile];if(t<h.CONTRIBUTOR)return!1;var a=e.clientX,n=e.clientY,r=this.ownerDocument.dragIndicator.getDisplay();r&&(r.parentNode.removeChild(r),this.removeChild(this.ownerDocument.dragIndicator));delete this.tmp_lastTargetAreaId;for(var o=this.childNodes,d=0;d<o.length;d++)o[d].tmp_order=o[d].order,delete o[d].area,delete o[d].order;this.reflow()},m_dragMove:function(a,n){var r=h[this.model.securityProfile];if(r<h.CONTRIBUTOR)return!1;var o=document.body.scrollTop?document.body.scrollTop:document.body.parentNode.scrollTop?document.body.parentNode.scrollTop:0,l=document.body.scrollLeft?document.body.scrollLeft:document.body.parentNode.scrollLeft?document.body.parentNode.scrollLeft:0,s=a.clientX+l,c=a.clientY+o,m=this.getDisplay("area",!0);m.length||(m=p.findCaptureClass("bp-area",this.htmlNode));for(var u=null,g=null,f=1/0,y=0,b;y<m.length;y++){if(b=p.getBoxObject(m[y],"border"),e(s,c,b.x,b.y,b.w,b.h)){u=y;break}var v=t(b.x+b.w/2-s)+t(b.y+b.h/2-c);v<f&&(f=v,g=y)}null==u&&(this.tmp_lastTargetAreaId?u=this.tmp_lastTargetAreaId:null==g?u=0:u=g),this.tmp_lastTargetAreaId=u;var d=null,x=n.dataTransfer.getData("x-bb-nodelist");x&&x[0]&&(d=x[0]);m[u];n.__tmpArea=u,n.__tmpOrder=0,this.ownerDocument.dragIndicator.area=u;var _=this.getAreaOrderedChildren(),N=_[u],T=!1;if(N)for(var y=0;y<N.length;y++)if(N[y]!=this.ownerDocument.dragIndicator){if(!T){var b=p.getBoxObject(N[y].htmlNode,"border");if("horizontal"==this.layout.dir.direction&&s<b.x+b.w/2||"vertical"==this.layout.dir.direction&&c<b.y+b.h/2){T=!0,this.ownerDocument.dragIndicator.order=n.__tmpOrder;var E=this.ownerDocument.dragIndicator.getDisplay(),C=N[y].getDisplay();C.parentNode.insertBefore(E,C),n.__tmpOrder++,E.display=d==N[y].model?"none":"block"}}N[y].order=n.__tmpOrder,n.__tmpOrder++}T||(this.ownerDocument.dragIndicator.order=n.__tmpOrder,!m[u]&&console.log("____________________________________________",this),m[u].appendChild(this.ownerDocument.dragIndicator.getDisplay()));var S=this.ownerDocument.dragIndicator,A=n.dataTransfer.getData("x-bb-nodelist"),d;return A&&(d=A[0]),S.getDisplay().style.display="block",n.dragOptions.htmlNode.catalogItemJson||d.parentNode!=S.parentNode||d.getAreaPreference()!=S.area||d.order+1!=S.order&&d.order-1!=S.order||(S.getDisplay().style.display="none"),void this.reflow()},m_dragDrop:function(e,t,a){function n(e,t,a){var n=i.model.ownerDocument.createPreference(e,a);return n.value=t,n}function r(e,t,a,r){if(e.getPreferenceNode(t))e.setPreference(t,a);else{var o=n(t,a,r);e.setPreferenceNode(o)}}function o(e){var t=i.model.createExtendedElementFromJSON(e);return e.children&&e.children.forEach(function(e){t.appendChild(extend(e),!0)}),t}var i=this;if(function(e){return h[i.model.securityProfile]<h[e]}("CONTRIBUTOR"))return!1;if(a.isCatalog||i===a.parentNode||a.parentNode.childNodes.forEach(function(e){e!==a&&(e.model.setPreference("order",e.tmp_order),e.model.save())}),i.childNodes.forEach(function(e){if(e!==a&&e.tmp_order){var t=n("order",parseFloat(e.tmp_order),"double");e.model.setPreferenceNode(t),e.model.save()}}),a.isCatalog&&t.dragOptions.htmlNode&&t.dragOptions.htmlNode.catalogItemJson){var d=t.dragOptions.htmlNode.catalogItemJson,l=d.extendedItemName,s=b$.portal.portalView.getElementsByTagName("page").pop(),p=!1,c=o(d);c.parentItemName=i.model.name,r(c,"area",i.ownerDocument.dragIndicator.area+"","string"),r(c,"order",i.ownerDocument.dragIndicator.order+"","double"),"master"===s.pageType&&(c.extendedItemName=l,p=!0),c.save(function(){c.contextItemName?g(c,i.htmlNode,function(e){e.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0;var t,a;i.model.appendChild(e),t=i.ownerDocument.all[b$.portal.portalReflector.getID(i.model)],a=i.ownerDocument.all[b$.portal.portalReflector.getID(e)],t.insertDisplayChild(a)}):(c.isWidgetRenderingTriggeredByDragAndDropFromTargeting=!0,i.model.appendChild(c))},function(){},p)}else a.model.setPreference("area",i.ownerDocument.dragIndicator.area.toString()),r(a.model,"order",i.ownerDocument.dragIndicator.order+"","double"),a.model.parentItemName=i.model.name,i.model.appendChild(a.model),a.model.save();a.parentNode&&a.parentNode.reflow(),i.reflow()},createPerspective:function(e,t){return new i(new s("/","page"),e,t)},getCurrentPerspective:function(){return this.perspective},setCurrentPerspective:function(e){this.perspective=e},addHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addEventListener(t,e[t])},removeHandlers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.removeEventListener(t,e[t])},processConfig:function(){try{var e=this.getPreference("config");if(e){var t=JSON.parse(e);b$.mixin(this,t)}}catch(t){console.log("Error parsing config: "+t)}},persistConfig:function(){try{var e=this.getPreference("config"),t=JSON.parse(e);for(var a in t)t[a]!==this[a]&&(t[a]=this[a]);e=JSON.stringify(t),this.setPreference("config",e),this.model.save()}catch(t){console.log("Error persisting config: "+t)}},addToConfig:function(e,t){try{var a=this.getPreference("config"),n=JSON.parse(a);n[e]=t,a=JSON.stringify(n),this.setPreference("config",a),this.model.save()}catch(t){console.log("Error adding preference to config: "+t)}},removeFromConfig:function(e){try{var t=this.getPreference("config"),a=JSON.parse(t);delete a[e],t=JSON.stringify(a),this.setPreference("config",t),this.model.save()}catch(t){console.log("Error removing preference from config: "+t)}}});this.portalViewElement=f;var y=b$.view.bdom.layout,b=f.extend(function(){f.apply(this,arguments),this.layout=new y.NoLayout(this)},{localName:"application",renderDisplay:function(){return this.htmlNode}}),v=f.extend(function(){f.apply(this,arguments),this.perspective=this.createPerspective(new d("Dashboard"),new l),this.addEventListener("PerspectiveModified",function(e){this.setCurrentPerspective(this.createPerspective(new d(e.newValue),new l))},!1,this)},{localName:"portal",injectDisplaySelf:function(){},insertDisplayChild:function(e){e.model&&e.model._ssr||b$._private.ssrRootElement.appendChild(e.htmlNode)},attachHTMLChildren:function(){for(var e=this.childNodes,t=0,a;t<e.length;t++)a=e[t].getHTMLNode(),a.parentNode&&1==a.parentNode.nodeType||document.body.appendChild(a)},showDesignTools:function(){},hideDesignTools:function(){}},{template:function(){return"<div class=\""+this.cls+" "+this.cls+"--area\"></div>"}}),x=f.extend(function(){f.apply(this,arguments),this.layout=new y.NoLayout(this),this.isPossibleDragTarget=!0},{localName:"page",pageType:void 0,createDisplay:function(){if(this.htmlNode||(this.htmlNode=this.renderDisplay(this.getDisplayModel())),this.htmlAreas||(this.htmlAreas=this.getDisplay("area",!0)),(this.htmlNode.viewController=this,!this.htmlAreas||0>=this.htmlAreas.length)){this.htmlAreas=[];var e=p.findCaptureClass("bp-area",this.htmlNode);e[0]&&(p.addClass(e[0],"--area"),this.htmlAreas.push(e[0]))}this.pageType=this.model.manageable?"master":""==this.model.extendedItemName?"normal":"inherited"},readyHTML:function(){f.prototype.readyHTML.call(this)},showDesignTools:function(){},hideDesignTools:function(){}},{template:function(){return"<div class=\""+this.cls+"\"><div class=\""+this.cls+"--area\"></div></div>"}}),_=f.extend(function(){f.apply(this,arguments),this.layout=new y.AutoLayout(this),this.isPossibleDragTarget=!1,this.flex=1,this.area=0,this.order=0},{localName:"dragIndicator",setHTMLWidthHeight:function(e,t){var a=this.htmlNode;p.setWidthHeightPB(a,e,t),p.setWidthHeightPB(a.firstChild,e-p.getPadding(a)-p.getBorder(a),t-p.getPadding(a,"tb")-p.getBorder(a,"tb"))},renderDisplay:function(e){return e||(e=document.createElement("div"),e.className="bp-drag-indicator",e.innerHTML="<div class=\"bp-drag-indicator-in\"><span class=\"bp-drag-text\"></span></div>"),e},getAreaPreference:function(){return this.area},getOrderPreference:function(){return this.order},setAreaPreference:function(e){this.area=e},setOrderPreference:function(e){this.order=e}})}),b$.module("b$.portal.view.bdom.container",function(){var e=Math.round,t=b$.bdom.getNamespace("http://backbase.com/2013/portalView").getClass("portalViewElement"),a=b$.view.bdom.layout,n=t.extend(function(){t.apply(this,arguments),this.layout=new a.NoLayout(this)},{localName:"container",createDisplay:function(){this.htmlNode||(this.htmlNode=this.renderDisplay(this.getDisplayModel())),this.htmlAreas||(this.htmlAreas=this.getDisplay("area",!0)),this.htmlNode.viewController=this},constrainProportions:function(t,a){var n=0,r,o,d;for(d=t.concat(Array(a)).splice(0,a),o=0;o<a;o++)d[o]=e(100*(d[o]||0))/100,n+=d[o];if(0===n)for(o=0;o<a;o++)d[o]=e(100*(100/a))/100;else if(100!==n)for(r=n/100,o=0;o<a;o++)d[o]/=r;return d}},{template:function(){return"<div class=\"bp-container\"><div class=\"bp-area\"></div></div>"}})}),b$.module("b$.portal.view.bdom.widget",function(){var e=function(){return this}(),t=b$.view.perspective.PerspectiveType,a=b$.view.perspective.PerspectiveParameters,n=b$.view.perspective.Perspective,r=b$._private.template.SimpleURITemplate,o=b$._private.htmlAPI,i=b$._private.simpleResponseCache_getData,d=b$.bdom.getNamespace("http://backbase.com/2013/portalView"),l=d.getClass("portalViewElement"),s=l.extend(function(){l.apply(this,arguments),this.id="none",this.flex=1},{localName:"widget",createDisplay:function(){return this.htmlNode=this.renderDisplay(),this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode},renderDisplay:function(){var e=document;return this.htmlNode||(this.htmlNode=b$.portal.view.loadChrome(this,e)),this.bindChromeHandlers(),this.htmlAreas=[],this.htmlAreas[0]=o.cssSelector(".bp-widget-body",this.htmlNode)[0],this.htmlNode},setHTMLWidthHeight:function(e,t){var a=this.htmlNode;e!==void 0&&o.setWidth(a,e),t!==void 0&&(o.setHeight(a,t),o.setHeightPB(this.htmlAreas[0],t-this.htmlHead.offsetHeight-this.htmlFoot.offsetHeight))},DOMReady:function(){var e=this;this.ownerDocument.defaultDragHandlers&&this.addHandlers(this.ownerDocument.defaultDragHandlers),this.id=this.model.name,e.model&&(e.model.addEventListener("PrefModified",function(t){if(t.target===e.model){var a=t.relatedNode;if(a){var n=this.ownerDocument.createEvent("UIEvent");n.initUIEvent("change",!0,!1,window,null),a.dispatchEvent(n,!1)}}},!1,e),e.model.addEventListener("PrefFallback",function(t){t.target===e.model&&e.refreshHTML()},!1,e),this.addEventListener("PerspectiveModified",function(e){if(e.target.model===this.model&&("Maximized"===e.newValue||"Widget"===e.newValue)){var t=this.ownerDocument.createEvent("MutationEvent");t.initMutationEvent("Maximized"===e.newValue?"maximize":"restore",!0,!1,this,null,null,null,null),this.model.dispatchEvent(t,!0)}},!1,this))},bindChromeHandlers:function(){var e=this;o.bindEvent(this.htmlNode,"click",function(t){for(var a=t.target,n=o.cssSelector(".bp-widget-pref",this)[0],r;;){if(r=a.getAttribute("data-action"),r)switch(r){case"widget-preferences":e.dispatchCustomEvent("preferences-form",!0,!0,{context:e});break;case"widget-maximize":e.setPerspective("Maximized");break;break;case"widget-restore":e.setPerspective("Widget"),a.setAttribute("data-action","widget-minimize");break;case"widget-minimize":e.setPerspective("Minimized"),a.setAttribute("data-action","widget-restore");break;case"widget-refresh":e.refreshHTML();break;case"widget-close":e.model.destroyAndSave();break;case"pref-ok":for(var d=o.cssSelector("form",n)[0],l=0,s;l<d.elements.length;l++)s=d.elements[l],"text"===s.type?s.value!==e.model.getPreference(s.name)&&(console.log(s.name,s.value),e.model.setPreference(s.name,s.value)):"checkbox"===s.type&&s.checked!==e.model.getPreference(s.name)&&(console.log(s.name,s.checked),e.model.setPreference(s.name,s.checked));e.model.save(),n.style.display="none";break;case"pref-cancel":n.style.display="none";}if(a==t.currentTarget)break;if(a=a.parentNode,!a)break}})},setTitle:function(e){this.model.setPreference("title",e),this.model.save()},getDefinition:function(){return{}},setPerspective:function(e){if(e!==this.perspective.getType().getName()){this.perspective=new n(new r(this.getDefinition().sUrl||this.sSrc,"page"),new t(e),new a());var o=this.ownerDocument.createEvent("MutationEvent");o.initMutationEvent("PerspectiveModified",!0,!1,this,this.perspective,e,null,null),this.dispatchEvent(o)}},getContextVariableValue:function(e){var t=this.perspective.getParameters().getByName(e);return t&&t.getValue()||""}});this.Widget=s,defaultChrome="<div class=\"bp-widget Xbp-ui-dragRoot Xbp-ui-dragGrip\"><div class=\"bp-widget-head\"></div><div class=\"bp-widget-pref\"></div><div class=\"bp-widget-body\"></div><div class=\"bp-widget-foot\"></div></div>";var o=b$._private.htmlAPI;b$.portal.view.loadChrome=function(e,t){var a={ADMIN:0,CREATOR:-1,COLLABORATOR:-2,CONTRIBUTOR:-3,CONSUMER:-4},n=e.model,r={};n&&(r=n.getJSON());var d=e.getAttribute("widgetChrome");if(d){d=d.replace("$(contextRoot)",b$.portal.portalModel.serverURL),r.widgetTitle=e.getAttribute("title");var l=i(d)}else var l=defaultChrome;if(n){var s=a[n.securityProfile];r.showEdit=s>=a.CONTRIBUTOR,r.showDelete=s>=a.CREATOR,r.enableDND=s>=a.CONTRIBUTOR,r.showMaximize=!0}var p=o.createElementFromString(Mustache.to_html(l,r),t);return p}}),b$.module("b$.portal.view.bdom.widget.backbase",function(){var e=b$.bdom.getNamespace("http://backbase.com/2013/portalView"),t=e.getClass("widget"),a=b$.view.perspective.PerspectiveType,n=b$.view.perspective.PerspectiveParameters,r=b$.view.perspective.Perspective,o=b$._private.template.SimpleURITemplate,d=b$._private.htmlAPI,l=new b$._private.AsyncComponentBuilder,s=t.extend(null,{localName:"backbaseWidget",createDisplay:function(){return this.htmlNode=this.renderDisplay(),this.htmlNode&&(this.htmlNode.viewController=this),this.htmlNode},renderDisplay:function(){var e=document;return this.htmlNode||(this.htmlNode=b$.portal.view.loadChrome(this,e)),this.bindChromeHandlers(),this.htmlHead=d.cssSelector(".bp-widget-head",this.htmlNode)[0],this.htmlFoot=d.cssSelector(".bp-widget-foot",this.htmlNode)[0],this.htmlAreas=[],this.htmlAreas[0]=d.cssSelector(".bp-widget-body",this.htmlNode)[0],this.body=this.htmlAreas[0],this.isClientSideRenderedOnly=!(this.body&&this.body.firstChild),this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly?this.buildWidgetByDefinition():this.buildWidget(),this.htmlNode},readyHTML:function(){t.prototype.readyHTML.call(this)},updateByDefinition:function(e){l.buildWidget(this.myDefinition.sUrl,!0,this,function(t){if(this.processed)return void(e&&e());this.myDefinition=t,this.includes=t.getIncludesFromDefinition(this),t.getPreferencesFromDefinition(this),this.isClientSideRenderedOnly&&this.body.appendChild(t.getHTMLBodyFromDefinition());var a=this.body,n=d.cssSelector(".bp-g-include",a);if(n.length)for(var r=0,o;r<this.includes.length;r++)o=this.includes[r],o.htmlNode=n[r],o.addEventListener("content",function(){this.htmlNode.innerHTML="";for(var e=0;e<this.content.length;e++)this.htmlNode.appendChild(this.content[e])});this.processed=!0,this.isClientSideRenderedOnly&&this.refreshIncludes(),e&&e()}.bind(this))},buildWidget:function(e){var t=this.getAttribute("src");t=t.replace("$(contextRoot)",b$.portal.portalModel.serverURL);var i=this,d=this.model.isWidgetRenderingTriggeredByDragAndDropFromTargeting||this.isClientSideRenderedOnly;l.buildWidget(t,d,i,function(i){var d=i.XListeners;if(this.myDefinition=i,this.model)for(var l in d)d.hasOwnProperty(l)&&this.model.addEventListener(l,d[l],!1,this);this.perspective=new r(new o(t,"page"),new a("Dashboard"),new n()),d.load&&d.load.call(this),e&&e()}.bind(this))},buildWidgetByDefinition:function(){this.buildWidget(this.updateByDefinition.bind(this))},refreshIncludes:function(){for(var e=0,t=this.includes.length;e<t;e++)this.includes[e].refresh()},getOriginURI:function(){return this.getDefinition().sUrl},getDefinition:function(){return this.myDefinition},getBody:function(){return this},getIncludes:function(){return this.includes}})}),new function(){var e=["abbr","address","area","b","base","bdo","blockquote","body","br","button","caption","cite","code","col","colgroup","dd","del","dfn","div","dl","dt","em","eventsource","fieldset","form","h1","h2","h3","h4","h5","h6","head","hr","html","i","iframe","img",,"ins","kbd","label","legend","li","link","map","menu","meta","noscript","object","ol","optgroup","option","p","param","pre","q","s","samp","select","small","span","strong","style","sub","sup","td","textarea","th",,"title","u","ul","var","article","aside","audio","bdi","canvas","command","datalist","details","dialog","embed","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","section","source","summary","time","track","video","wbr","acronym","applet","basefont","big","center","dir","font","frame","frameset","noframes","strike","tt"],t={},a=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("layoutElement");t.XHTML_xhtml=a.extend(null,{namespaceURI:"http://www.w3.org/1999/xhtml",localName:"#xhtml",renderDisplay:function(){for(var e=document.createElement(this.localName),t=0,n=this.attributes.length,r;t<n;t++)r=this.attributes[t],"id"!=r.nodeName&&-1==r.nodeName.indexOf(":")&&e.setAttribute(r.nodeName,r.nodeValue);return e},mapAttribute:function(e,t){"tabIndex"===e?this.tabIndex=isNaN(t)?-1:1*t:"accessKey"===e?this.accessKey=t||null:void 0;var a=this.getDisplay();if(a)switch(e){case"id":a.id=t;break;case"class":var n=(this.cnBase?this.cnBase+" ":"")+t;b$.bUATrident&&8>b$.nUAVersion?a.className=n:a.setAttribute("class",n);break;case"style":a.setAttribute(e,t);break;default:a.setAttribute(e,t);}}});for(var r=e.length;r--;)t["XHTML_"+e[r]]=t.XHTML_xhtml.extend(null,{localName:e[r]});t.XHTML_input=t.XHTML_xhtml.extend(null,{localName:"input",doTemplate:function(){for(var e="<"+this.localName,t=0,n=this.attributes.length,r;t<n;t++)r=this.attributes[t],"id"!=r.nodeName&&"class"!=r.nodeName&&-1==r.nodeName.indexOf(":")&&(e+=" "+r.nodeName+"=\""+r.nodeValue+"\"");return e+=" class=\""+this.cls+" "+this.getAttribute("class")+"\"",e+="/>",e}}),t.XHTML_script=t.XHTML_xhtml.extend(null,{localName:"script"},{handlers:{DOMNodeInsertedIntoDocument:function(){var e=(this.getAttribute("type")||"").match(/(\w+)\/([-\w]+\+)?(?:x\-)?([-\w]+)?;?(.+)?/)?RegExp.$3:"";if(this.getAttribute("src"))this.getDisplay().src=this.getAttribute("src");else if(this.firstChild&&(""==e||"javascript"==e||"ecmascript"==e)){var t=document.body.appendChild(document.createElement("script"));t.type="text/javascript",t.text=this.firstChild.nodeValue}}}}),t.XHTML_table=t.XHTML_xhtml.extend(function(){t.XHTML_xhtml.apply(this,arguments),this.tHead=null,this.tBodies=new b$.bdom.NodeList,this.tFoot=null,this.caption=null,this.rows=new b$.bdom.NodeList},{localName:"table",insertRow:function(e){var t=this.ownerDocument.createElementNS(this.namespaceURI,"tr");return-1==e?this.appendChild(t):this.insertBefore(t,this.rows[e])},deleteRow:function(e){return this.removeChild(this.rows[e])},createCaption:function(){},deleteCaption:function(){},createTHead:function(){},deleteTHead:function(){},createTFoot:function(){},deleteTFoot:function(){}},{handlers:{DOMNodeInserted:function(e){e.target.parentNode==this&&(e.target instanceof t.XHTML_caption?this.caption=e.target:e.target instanceof t.XHTML_tbody?this.tBodies.add(e.target):e.target instanceof t.XHTML_tfoot?this.tFoot=e.target:e.target instanceof t.XHTML_thead&&(this.tHead=e.target))},DOMNodeRemoved:function(e){e.target.parentNode==this&&(e.target instanceof t.XHTML_caption?this.caption=null:e.target instanceof t.XHTML_tbody?this.tBodies.remove(e.target):e.target instanceof t.XHTML_tfoot?this.tFoot=null:e.target instanceof t.XHTML_thead&&(this.tHead=null))}}}),t.XHTML_tbody=t.XHTML_xhtml.extend(function(){t.XHTML_xhtml.apply(this,arguments),this.rows=new b$.bdom.NodeList},{localName:"tbody",rows:null,insertRow:function(e){var t=this.ownerDocument.createElementNS(this.namespaceURI,"tr");return-1==e?this.appendChild(t):this.insertBefore(t,this.rows[e])},deleteRow:function(e){return this.removeChild(this.rows[e])}},{handlers:{DOMNodeInserted:function(e){e.target.parentNode==this&&e.target instanceof t.XHTML_tr&&this.rows.add(e.target)},DOMNodeRemoved:function(e){e.target.parentNode==this&&e.target instanceof t.XHTML_tr&&this.rows.remove(e.target)}}}),t.XHTML_thead=t.XHTML_tbody.extend(null,{localName:"thead"},{handlers:t.XHTML_tbody.handlers}),t.XHTML_tfoot=t.XHTML_tbody.extend(null,{localName:"tfoot"},{handlers:t.XHTML_tbody.handlers}),t.XHTML_tr=t.XHTML_xhtml.extend(function(){t.XHTML_xhtml.apply(this,arguments),this.cells=new b$.bdom.NodeList},{localName:"tr",cells:null,insertCell:function(e){var t=this.ownerDocument.createElementNS(this.namespaceURI,"td");return-1==e?this.appendChild(t):this.insertBefore(t,this.cells[e])},deleteCell:function(e){return this.removeChild(this.cells[e])}},{handlers:{DOMNodeInserted:function(e){e.target.parentNode==this&&(e.target instanceof t.XHTML_td||e.target instanceof t.XHTML_th)&&this.cells.add(e.target)},DOMNodeRemoved:function(e){e.target.parentNode==this&&(e.target instanceof t.XHTML_td||e.target instanceof t.XHTML_th)&&this.cells.remove(e.target)}}}),t.XHTML_a=t.XHTML_xhtml.extend(null,{localName:"a"},{handlers:{focus:function(){},blur:function(){},click:function(){},DOMActivate:function(){}}})};